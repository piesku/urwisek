<!DOCTYPE html><meta charset=utf8><meta name=viewport content="width=device-width, user-scalable=0"><meta name=apple-mobile-web-app-capable content=yes><meta name=theme-color content=#915530><title>Urwisek</title><style>body,html{color:#fff;font-family:Arial;margin:0;overflow:hidden}canvas,main{height:100vh;overflow:hidden;position:absolute;touch-action:none;user-select:none;width:100vw;word-break:break-word}nav div{opacity:.5;transition:opacity .2s}nav div:hover{opacity:1}[onclick]{cursor:pointer}@keyframes intro{0%{transform:translateY(0)}to{transform:translateY(-100vh)}}@keyframes fadein{0%{opacity:0}to{opacity:1}}</style><canvas></canvas><main></main><script>!function(){function t(t){return(o,n)=>{o.o.t[n]|=16384,o.o.i[n]={l:t}}}function o(t,o,n=0){for(let i=n;i<t.t.length;i++)if(16384&t.t[i]&&t.i[i].l===o)return i;throw`No entity named ${o}.`}function n(t,o){let n=t.o.u();for(let i of o)i(t,n);return n}function i(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t}function e(t,o){let n=o[0],i=o[1],e=o[2],r=o[3],a=o[4],l=o[5],s=o[6],f=o[7],c=o[8],u=o[9],d=o[10],v=o[11],m=o[12],h=o[13],_=o[14],p=o[15],y=n*l-i*a,g=n*s-e*a,w=n*f-r*a,T=i*s-e*l,x=i*f-r*l,A=e*f-r*s,R=c*h-u*m,F=c*_-d*m,M=c*p-v*m,z=u*_-d*h,I=u*p-v*h,k=d*p-v*_,b=y*k-g*I+w*z+T*M-x*F+A*R;return b?(b=1/b,t[0]=(l*k-s*I+f*z)*b,t[1]=(e*I-i*k-r*z)*b,t[2]=(h*A-_*x+p*T)*b,t[3]=(d*x-u*A-v*T)*b,t[4]=(s*M-a*k-f*F)*b,t[5]=(n*k-e*M+r*F)*b,t[6]=(_*w-m*A-p*g)*b,t[7]=(c*A-d*w+v*g)*b,t[8]=(a*I-l*M+f*R)*b,t[9]=(i*M-n*I-r*R)*b,t[10]=(m*x-h*w+p*y)*b,t[11]=(u*w-c*x-v*y)*b,t[12]=(l*F-a*z-s*R)*b,t[13]=(n*z-i*F+e*R)*b,t[14]=(h*g-m*T-_*y)*b,t[15]=(c*T-u*g+d*y)*b,t):null}function r(t,o,n){let i=o[0],e=o[1],r=o[2],a=o[3],l=o[4],s=o[5],f=o[6],c=o[7],u=o[8],d=o[9],v=o[10],m=o[11],h=o[12],_=o[13],p=o[14],y=o[15],g=n[0],w=n[1],T=n[2],x=n[3];return t[0]=g*i+w*l+T*u+x*h,t[1]=g*e+w*s+T*d+x*_,t[2]=g*r+w*f+T*v+x*p,t[3]=g*a+w*c+T*m+x*y,g=n[4],w=n[5],T=n[6],x=n[7],t[4]=g*i+w*l+T*u+x*h,t[5]=g*e+w*s+T*d+x*_,t[6]=g*r+w*f+T*v+x*p,t[7]=g*a+w*c+T*m+x*y,g=n[8],w=n[9],T=n[10],x=n[11],t[8]=g*i+w*l+T*u+x*h,t[9]=g*e+w*s+T*d+x*_,t[10]=g*r+w*f+T*v+x*p,t[11]=g*a+w*c+T*m+x*y,g=n[12],w=n[13],T=n[14],x=n[15],t[12]=g*i+w*l+T*u+x*h,t[13]=g*e+w*s+T*d+x*_,t[14]=g*r+w*f+T*v+x*p,t[15]=g*a+w*c+T*m+x*y,t}function a(t,o,n,i,e){let r,a=1/Math.tan(o/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(r=1/(i-e),t[10]=(e+i)*r,t[14]=2*e*i*r):(t[10]=-1,t[14]=-2*i),t}function l(t,o){return t[0]=o[12],t[1]=o[13],t[2]=o[14],t}function s(t,o){let n=function(t,o){let n=o[4],i=o[5],e=o[6],r=o[8],a=o[9],l=o[10];return t[0]=Math.hypot(o[0],o[1],o[2]),t[1]=Math.hypot(n,i,e),t[2]=Math.hypot(r,a,l),t}([0,0,0],o),i=1/n[0],e=1/n[1],r=1/n[2],a=o[0]*i,l=o[1]*e,s=o[2]*r,f=o[4]*i,c=o[5]*e,u=o[6]*r,d=o[8]*i,v=o[9]*e,m=o[10]*r,h=a+c+m,_=0;return h>0?(_=2*Math.sqrt(h+1),t[3]=.25*_,t[0]=(u-v)/_,t[1]=(d-s)/_,t[2]=(l-f)/_):a>c&&a>m?(_=2*Math.sqrt(1+a-c-m),t[3]=(u-v)/_,t[0]=.25*_,t[1]=(l+f)/_,t[2]=(d+s)/_):c>m?(_=2*Math.sqrt(1+c-a-m),t[3]=(d-s)/_,t[0]=(l+f)/_,t[1]=.25*_,t[2]=(u+v)/_):(_=2*Math.sqrt(1+m-a-c),t[3]=(l-f)/_,t[0]=(d+s)/_,t[1]=(u+v)/_,t[2]=.25*_),t}function f(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t}function c(t,o,n){return t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function u(t,o,n){return t[0]=o[0]*n,t[1]=o[1]*n,t[2]=o[2]*n,t}function d(t,o){return t[0]=-o[0],t[1]=-o[1],t[2]=-o[2],t}function v(t,o){let n=o[0],i=o[1],e=o[2],r=n*n+i*i+e*e;return r>0&&(r=1/Math.sqrt(r)),t[0]=o[0]*r,t[1]=o[1]*r,t[2]=o[2]*r,t}function m(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function h(t,o,n){let i=o[0],e=o[1],r=o[2],a=n[3]*i+n[7]*e+n[11]*r+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*e+n[8]*r+n[12])/a,t[1]=(n[1]*i+n[5]*e+n[9]*r+n[13])/a,t[2]=(n[2]*i+n[6]*e+n[10]*r+n[14])/a,t}function _(t,o,n,i){let e=o[0],r=o[1],a=o[2];return t[0]=e+i*(n[0]-e),t[1]=r+i*(n[1]-r),t[2]=a+i*(n[2]-a),t}function p(t,o,n,i,e){return t[0]=o,t[1]=n,t[2]=i,t[3]=e,t}function y(t,o,n){let i=o[0],e=o[1],r=o[2],a=o[3],l=n[0],s=n[1],f=n[2],c=n[3];return t[0]=i*c+a*l+e*f-r*s,t[1]=e*c+a*s+r*l-i*f,t[2]=r*c+a*f+i*s-e*l,t[3]=a*c-i*l-e*s-r*f,t}function g(t,o,n,i){let e=Math.sin(o/2*Qo),r=Math.cos(o/2*Qo),a=Math.sin(n/2*Qo),l=Math.cos(n/2*Qo),s=Math.sin(i/2*Qo),f=Math.cos(i/2*Qo);return t[0]=e*l*f+r*a*s,t[1]=r*a*f-e*l*s,t[2]=r*l*s-e*a*f,t[3]=r*l*f+e*a*s,t}function w(t,o,n,i){let e,r,a,l,s,f=o[0],c=o[1],u=o[2],d=o[3],v=n[0],m=n[1],h=n[2],_=n[3];return r=f*v+c*m+u*h+d*_,r<0&&(r=-r,v=-v,m=-m,h=-h,_=-_),1-r>1e-6?(e=Math.acos(r),a=Math.sin(e),l=Math.sin((1-i)*e)/a,s=Math.sin(i*e)/a):(l=1-i,s=i),t[0]=l*f+s*v,t[1]=l*c+s*m,t[2]=l*u+s*h,t[3]=l*d+s*_,t}function T(t,o,n,i=[.9,.9,.9,1]){return(e,r)=>{e.o.t[r]|=8,e.o.v[r]={m:0,h:{m:0,_:t,p:o,g:n,h:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},A:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F:[0,0,0],M:i}}}function x(t,o,n,i,e=[0,0,0,1]){return(r,a)=>{r.o.t[a]|=8,r.o.v[a]={m:3,I:t,h:{m:1,k:o,p:n,g:i,h:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},A:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F:[0,0,0],M:e}}}function A(...t){return(o,i)=>{let e=[];for(let i of t){let t=n(o,i);e.push(t)}o.o.t[i]|=16,o.o.C[i]={C:e}}}function*R(t,o,n){if((t.t[o]&n)===n&&(yield o),16&t.t[o])for(let i of t.C[o].C)yield*R(t,i,n)}function F(t,o){if(16&t.t[o])for(let n of t.C[o].C)F(t,n);t.B(o)}function M(t=[0,0,0],o=[0,0,0,1],n=[1,1,1]){return(i,e)=>{i.o.t[e]|=1048576,i.o.K[e]={o:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],P:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],S:t,N:o,V:n,D:!0}}}function*z(t,o,n){(t.t[o]&n)===n&&(yield o);let i=t.K[o].W;void 0!==i&&(yield*z(t,i,n))}function I(t,o){return[A([M([0,0,5]),T(1,.1,15,o)])]}function k(t){return 1-(1-t)**4}function b(t){return t<.5?8*t**4:1-(-2*t+2)**4/2}function C(t){return(o,n)=>{let i={};for(let o in t){let{L:n,$:e=7}=t[o],r=n[n.length-1].j;i[o]={L:n.map((t=>({...t}))),$:e,U:r,H:0}}o.o.t[n]|=1,o.o.X[n]={G:i,O:i.idle}}}function B(t,o){return(n,i)=>{n.o.t[i]|=4,n.o.q[i]={Y:t,D:void 0===o,J:o||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}}}function E(t){return(o,n)=>{o.o.t[n]|=256,o.o.Z[n]={tt:t}}}function K(t,o,n){return(i,e)=>{if(!Jo.has(o)){let n=i.ot.createVertexArray();i.ot.bindVertexArray(n),i.ot.bindBuffer(Do,o.nt),i.ot.enableVertexAttribArray(t.et.it),i.ot.vertexAttribPointer(t.et.it,3,Xo,!1,0,0),i.ot.bindBuffer(Do,o.rt),i.ot.enableVertexAttribArray(t.et.at),i.ot.vertexAttribPointer(t.et.at,3,Xo,!1,0,0),i.ot.bindBuffer(Wo,o.lt),i.ot.bindVertexArray(null),Jo.set(o,n)}i.o.t[e]|=32768,i.o.st[e]={m:1,ft:t,ct:o,ut:Jo.get(o),dt:n}}}function P(t,o,n){return(i,e)=>{if(!Zo.has(o)){let n=i.ot.createVertexArray();i.ot.bindVertexArray(n),i.ot.bindBuffer(Do,o.nt),i.ot.enableVertexAttribArray(t.et.it),i.ot.vertexAttribPointer(t.et.it,3,Xo,!1,0,0),i.ot.bindBuffer(Do,o.rt),i.ot.enableVertexAttribArray(t.et.at),i.ot.vertexAttribPointer(t.et.at,3,Xo,!1,0,0),i.ot.bindBuffer(Do,o.vt),i.ot.enableVertexAttribArray(t.et.ht),i.ot.vertexAttribPointer(t.et.ht,4,Xo,!1,0,0),i.ot.bindBuffer(Wo,o.lt),i.ot.bindVertexArray(null),Zo.set(o,n)}i.o.t[e]|=32768,i.o.st[e]={m:2,ft:t,ct:o,ut:Zo.get(o),dt:n}}}function S(t,o,n,i){return(e,r)=>{let a=e.ot.createBuffer();e.ot.bindBuffer(Do,a),e.ot.bufferData(Do,6400,35048),e.o.t[r]|=32768,e.o.st[r]={m:3,ft:e._t,yt:a,gt:t,wt:n,Tt:[o,i]}}}function N(t,o,n,i){return(e,r)=>{let a=e.xt,l=e.ot.createVertexArray();e.ot.bindVertexArray(l),e.ot.bindBuffer(Do,t.nt),e.ot.enableVertexAttribArray(a.et.it),e.ot.vertexAttribPointer(a.et.it,3,Xo,!1,0,0);let s=e.ot.createBuffer();e.ot.bindBuffer(Do,s),e.ot.bufferData(Do,o,Vo),e.ot.enableVertexAttribArray(a.et.At),e.ot.vertexAttribPointer(a.et.At,4,Xo,!1,0,0),e.ot.vertexAttribDivisor(a.et.At,1);let f=e.ot.createBuffer();e.ot.bindBuffer(Do,f),e.ot.bufferData(Do,n,Vo),e.ot.enableVertexAttribArray(a.et.Rt),e.ot.vertexAttribPointer(a.et.Rt,4,Xo,!1,0,0),e.ot.vertexAttribDivisor(a.et.Rt,1),e.ot.bindBuffer(Wo,t.lt),e.ot.bindVertexArray(null),e.o.t[r]|=32768,e.o.st[r]={m:4,ft:a,ct:t,ut:l,Ft:o.length/4,Mt:i,zt:s,It:f}}}function V(o,n=[1,.5,0,1],i=1){return[P(o.kt,o.bt,n),A([M([0,.35,-.47],[.672,0,0,.74]),A([M(),t(1===i?"tail anchor":""),B(0,[1,0,0,0,0,.096,-.995,0,0,.995,.096,0,0,.433,.395,1]),E(1),C({idle:{L:[{j:0,S:[0,0,0],N:[0,0,0,1]},{j:9*i,S:[0,0,0],N:[0,0,0,1]},{j:10*i,S:[0,-.044,.289],N:[-.288,0,0,.958],Ct:b},{j:15*i,S:[0,-.044,.289],N:[-.288,0,0,.958]},{j:16*i,S:[0,0,0],N:[0,0,0,1],Ct:b}],$:3},walk:{L:[{j:0,S:[0,0,0],N:[0,0,0,1]}],$:5},jump:{L:[{j:0,S:[0,0,0],N:[0,0,0,1]},{j:tn*i,S:[0,0,0],N:[-.131,0,0,.991],Ct:k},{j:on*i,S:[0,0,0],N:[.087,0,0,.996]},{j:1*i,S:[0,0,0],N:[0,0,0,1],Ct:k}],$:1}}),A([M([0,.46,0],[-.4,0,0,.92]),A([M(),E(1),C({idle:{L:[{j:0,N:[0,0,0,1]},{j:9*i,N:[0,0,0,1]},{j:10*i,N:[.371,0,0,.929],Ct:b},{j:15*i,N:[.371,0,0,.929]},{j:16*i,N:[0,0,0,1],Ct:b}],$:3},walk:{L:[{j:0,N:[0,0,0,1]}],$:5},jump:{L:[{j:0,N:[0,0,0,1]}],$:1}}),A([M(),B(1,[1,0,0,0,0,.795,-.606,0,0,.606,.795,0,0,-.306,.251,1]),E(1),C({idle:{L:[{j:0,N:[0,.088,.116,.989],Ct:b},{j:1*i,N:[0,-.088,-.116,.989],Ct:b}]},walk:{L:[{j:0,N:[.087,0,0,.996]},{j:.2*i,N:[0,0,0,1]}],$:5},jump:{L:[{j:0,N:[0,0,0,1]},{j:tn*i,N:[.216,0,0,.976],Ct:k},{j:on*i,N:[.216,0,0,.976]},{j:1*i,N:[0,0,0,1],Ct:k}],$:1}})])])],[M([.07,.46,0],[.74,0,0,.672]),A([M(),B(2,[1,0,0,0,0,-1,0,0,0,-0,-1,0,-.073,.395,-.015,1]),E(1),C({idle:{L:[{j:0,N:[0,0,0,1]}]},walk:{L:[{j:0,N:[-.174,0,0,.985]},{j:.2*i,N:[.131,0,0,.991]}],$:5},jump:{L:[{j:0,N:[0,0,0,1]},{j:tn*i,N:[-.259,0,0,.966],Ct:k},{j:on*i,N:[-.259,0,0,.966]},{j:1*i,N:[0,0,0,1],Ct:k}],$:1}})])],[M([-.07,.46,0],[.74,0,0,.672]),A([M(),B(3,[1,0,0,0,0,-1,0,0,0,-0,-1,0,.073,.395,-.015,1]),E(1),C({idle:{L:[{j:0,N:[0,0,0,1]}]},walk:{L:[{j:0,N:[.131,0,0,.991]},{j:.2*i,N:[-.174,0,0,.985]}],$:5},jump:{L:[{j:0,N:[0,0,0,1]},{j:tn*i,N:[-.301,0,0,.954],Ct:k},{j:on*i,N:[-.301,0,0,.954]},{j:1*i,N:[0,0,0,1],Ct:k}],$:1}})])],[M([.07,0,0],[.753,0,0,.658]),A([M(),B(4,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,-.073,.291,-.509,1]),E(1),C({idle:{L:[{j:0,N:[0,0,0,1]},{j:9*i,N:[0,0,0,1]},{j:10*i,N:[-.492,0,0,.87],Ct:b},{j:15*i,N:[-.492,0,0,.87]},{j:16*i,N:[0,0,0,1],Ct:b}],$:3},walk:{L:[{j:0,N:[.131,0,0,.991]},{j:.2*i,N:[-.131,0,0,.991]}],$:5},jump:{L:[{j:0,N:[0,0,0,1]},{j:tn*i,N:[.383,0,0,.924],Ct:k},{j:on*i,N:[.383,0,0,.924]},{j:1*i,N:[0,0,0,1],Ct:k}],$:1}})])],[M([-.07,0,0],[.753,0,0,.658]),A([M(),B(5,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,.073,.291,-.509,1]),E(1),C({idle:{L:[{j:0,N:[0,0,0,1]},{j:9*i,N:[0,0,0,1]},{j:10*i,N:[-.468,0,0,.884],Ct:b},{j:15*i,N:[-.468,0,0,.884]},{j:16*i,N:[0,0,0,1],Ct:b}],$:3},walk:{L:[{j:0,N:[-.131,0,0,.991]},{j:.2*i,N:[.131,0,0,.991]}],$:5},jump:{L:[{j:0,N:[0,0,0,1]},{j:tn*i,N:[.301,0,0,.954],Ct:k},{j:on*i,N:[.301,0,0,.954]},{j:1*i,N:[0,0,0,1],Ct:k}],$:1}})])])])])]}function D(t,o,n){return(i,e)=>{i.o.t[e]|=512,i.o.Bt[e]={Et:t,Kt:o,Pt:n,St:[],Nt:0}}}function W(t){return(o,n)=>{o.o.t[n]|=2048,o.o.Vt[n]={Dt:t**2}}}function L(t,o=.1){return(n,i)=>{n.o.t[i]|=4096,n.o.Wt[i]={I:t,Lt:o}}}function $(t){return(o,n)=>{o.o.t[n]|=131072,o.o.$t[n]={jt:t}}}function j(t,o){return(n,i)=>{n.o.t[i]|=524288,n.o.Ut[i]={m:1,Ht:t,Xt:o}}}function U(t){return[L(o(t.o,"pixie anchor"),.02),W(1.5),A([M(),$(.1),D(1,.1,.1),S([1,1,1,1],4,[.5,.5,1,1],1)]),j(7,(n=>{t.o.Wt[n].I=o(t.o,"exit")}))]}function H(t){return(o,n)=>{o.o.t[n]|=2,o.o.Gt[n]={Ot:t,H:0}}}function X(t){return(o,n)=>{t(o,n)}}function G(t,o,n,i=[1,1,1]){return(e,r)=>{e.o.t[r]|=32,e.o.qt[r]={Entity:r,Yt:!0,Qt:t,Jt:o,t:n,Tt:i,Zt:[0,0,0],oo:[0,0,0],no:[0,0,0],io:[0,0,0],eo:[]}}}function O(t,o,n){return(i,e)=>{i.o.t[e]|=64,i.o.ro[e]={ao:t,N:o,Animation:n}}}function q(t){return(o,n)=>{o.o.t[n]|=128,o.o.lo[n]={$:t,so:!0,fo:null}}}function Y(t,o){return(n,i)=>{n.o.t[i]|=8192,n.o.co[i]={uo:t,do:o,vo:[],mo:[]}}}function Q(t,o=.5){return(n,i)=>{n.o.t[i]|=65536,n.o.ho[i]={m:t,_o:o,po:[0,0,0],yo:[0,0,0],wo:[0,0,0],To:!1}}}function J(i,e,r=i.xo){let a=n(i,[H(),q(1),Y(3,0),G(!0,1,6,[.6,.8,.8]),Q(1,0),A([t("mesh anchor"),M([0,-.42,0],[0,.707,0,.707]),q(2),A([M([0,.5,1],void 0,[.1,.1,.1]),G(!0,0,4),q(8)])],[t("pup anchor 0"),M([0,-.42,.2],[0,.707,0,.707]),q(2)],[t("pup anchor 1"),M([-.2,-.42,.2],[0,.707,0,.707]),q(2)],[t("pup anchor 2"),M([-.4,-.42,.2],[0,.707,0,.707]),q(2)],[t("camera anchor"),M([.5,.5,0],g([0,0,0,1],-10,0,0))],[t("sun anchor"),M()],[t("pixie anchor"),M([4,1,0],[0,.707,0,.707])]),M(e)]),l=0,s=0,f=0;n(i,[M([-10,0,.5]),L(o(i.o,"mesh anchor"),.2),A([...V(i),M(),q(4)],[M(),P(i.kt,i.Ao,[1,.5,0,1])])]),n(i,[M(),L(o(i.o,"tail anchor"),1),A([M([0,-.2,-.05],[1,0,0,0]),O(null,[0,-1,0,0]),Y(0,1),X(((t,o)=>l=o)),B(0,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-.701,-.428,1])])]),n(i,[M(),L(l,.08),B(1,[1,-0,-0,0,0,.132,.991,0,0,-.991,.132,0,-0,-1.1,-.285,1]),A([M([0,.2,.1],void 0,[.1,.1,.1]),X(((t,o)=>s=o))])]),n(i,[M(),L(s,.06),B(2,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-1.492,-.487,1]),A([M([0,.2,.1],void 0,[.1,.1,.1]),X(((t,o)=>f=o))])]),n(i,[M(),L(f,.04),B(3,[-1,-0,-0,0,0,.137,-.991,0,0,-.991,-.137,0,-0,-2.009,.214,1]),A([M([0,.2,.1],void 0,[.1,.1,.1]),X(((t,o)=>o))])]);for(let t=0;t<r;t++)n(i,[M(),L(o(i.o,"pup anchor "+t),.2-.02*t),A([...V(i,[1,.5,0,1],.7+.1*t),M(void 0,void 0,[.3,.3,.3]),q(4)])]);return a}function Z(){return nn=16807*nn%2147483647,(nn-1)/2147483646}function tt(t=0,o=1){return~~(Z()*(o-t+1)+t)}function ot(t=0,o=1){return Z()*(o-t)+t}function nt(t){return t[tt(0,t.length-1)]}function it(t){return(o,n)=>{o.o.t[n]&=~t}}function et(t,o){return(n,i)=>{n.o.t[i]|=1024,n.o.Et[i]={Ht:t,Ro:o}}}function rt(t){return[A([M([0,3.5,0],[0,-.71,0,.71],[1,7,1]),E(32768),K(t.Fo,t.Mo,[1,1,1,1])],[M([0,7.8,0],[0,-.71,0,.71],[.8,1.6,.8]),E(32768),K(t.Fo,t.Mo,[1,1,1,1])],[M([0,9.4,0],[0,-.71,0,.71],[.56,1.6,.56]),E(32768),K(t.Fo,t.Mo,[1,1,1,1])],[M([0,10.2,0],[-.5,-.5,.5,.5],[1.72,.51,.59]),E(32768),K(t.Fo,t.Mo,[1,1,1,1])],[M([0,8.6,0],[-.5,-.5,.5,.5],[1.12,.44,.8]),E(32768),K(t.Fo,t.Mo,[0,0,0,1])],[M([0,7,0],[-.5,-.5,.5,.5],[2.61,.77,.9]),E(32768),K(t.Fo,t.Mo,[0,0,0,1])])]}function at(t){return[O([0,0,1],null),Y(ot(1,3),0),et(25),H(en),it(2),A([M(void 0,g([0,0,0,0],0,-90,-90),[.1,.1,.1]),...rt(t)],[M(void 0,[0,1,0,0]),$(.02),D(1,.01,1),S([1,.5,0,1],10,[.56,.33,.24,1],2)])]}function lt(t,o){return(n,i)=>{n.o.t[i]|=262144,n.o.zo[i]={Io:t,ko:o,Nt:o}}}function st(t,...o){return t.reduce(((t,n)=>t+function(t){let o=t.shift();return"boolean"==typeof o||null==o?"":Array.isArray(o)?o.join(""):o}(o)+n))}function ft(t){return st`
<div
style="
margin: 40vh 2vw 0;
font-size: 16vw;
font-weight: 600;
"
>
EXODUS
</div>
<nav
style="
margin: 2vh 3vw;
font-size: 1rem;
font-style: italic;
line-height: 2;
"
>
<div onclick="$(${2})">New Game</div>
<div>${function(t){return st`
Quality:
<select onchange="$(${1}, this)">
<option
value="${512}"
${512===t.bo&&"selected"}
>
Low
</option>
<option
value="${1024}"
${1024===t.bo&&"selected"}
>
Medium
</option>
<option
value="${2048}"
${2048===t.bo&&"selected"}
>
High
</option>
<option
value="${4096}"
${4096===t.bo&&"selected"}
>
Ultra
</option>
</select>
`}(t)}</div>
</nav>
`}function ct(t){return""}function ut(t){return st`
<div
style="
margin: 20vh 2vw 0;
font-size: 12vw;
font-weight: 600;
opacity: 0;
animation: 1s 4s forwards fadein;
"
>
THE END
</div>
`}function dt(t,o,n=0){for(let i=n;i<t.t.length;i++)if((t.t[i]&o)===o)return i}function vt(t){return[A([M([10,10,10]),W(.9)])]}function mt(t){return[L(o(t.o,"sun anchor"),.01),A([M([10,10,-10],g([0,0,0,1],-35,135,0)),x(t.Bo.Co,8,1,100),W(.6)])]}function ht(t){let o=[],n=[];for(let t=0;t<100;t++)o.push(ot(-1,1),.8,ot(-.5,.5),tt(0,1)),n.push(...g([0,0,0,1],0,ot(-180,180),0));return[G(!1,18,0),Q(0),A([M(),K(t.Fo,t.Eo,[82/255,39/255,5/255,1])],[M([0,0,0],void 0,[.5,.5,.5]),N(t.Ko,Float32Array.from(o),Float32Array.from(n),[1,.54,0,1,.84,0])])]}function _t(t){return[A([M([0,1.5,0],void 0,[3,3,3]),E(32768),K(t.Fo,t.Eo,[.1,.1,.1,1])],[M([-2.25,2,0],void 0,[1.5,.1,3]),E(32768),K(t.Fo,t.Eo,[.07,.15,.8,1])],[M([-.8,.1,0],void 0,[4.9,.2,3.4]),E(32768),K(t.Fo,t.Eo,[.1,.1,.1,1])],[M([-2.8,1,0],void 0,[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[.1,.1,.1,1])])]}function pt(t,o=2,n=4){let i=ot(o,n);return[A([M([0,i/2,0],void 0,[.25,i,.25]),E(32768),K(t.Fo,t.Mo,[.8,.2,.2,1])],[M([0,i,0]),E(32768),...yt(t)])]}function yt(t){let o=ot(.5,.9),n=tt(400,600),i=[],e=[];for(let t=0;t<n;t++)i.push(ot(-o,o),ot(-o,o),ot(-o,o),tt(0,7)),e.push(...g([0,0,0,0],ot(-90,90),ot(-90,90),ot(-90,90)));return[E(32768),N(t.Po,Float32Array.from(i),Float32Array.from(e),an)]}function gt(t){return[A([M([0,4,0],void 0,[.5,8,.5]),E(32768),K(t.Fo,t.Mo,[.12,.03,.01,1])],[M([0,7.41,-.25],void 0,[3,.45,.2]),E(32768),K(t.Fo,t.Eo,[.12,.03,.01,1])],[M([0,7.41,.25],void 0,[3,.45,.2]),E(32768),K(t.Fo,t.Eo,[.12,.03,.01,1])],[M([0,6.33,-.25],void 0,[3,.45,.2]),E(32768),K(t.Fo,t.Eo,[.12,.03,.01,1])],[M([1.3,7.75,-.25],void 0,[.2,.3,.2]),E(32768),K(t.Fo,t.Mo,[.37,.37,.37,1])],[M([1,7.75,-.25],void 0,[.2,.3,.2]),E(32768),K(t.Fo,t.Mo,[.37,.37,.37,1])],[M([1.3,6.7,-.25],void 0,[.2,.3,.2]),E(32768),K(t.Fo,t.Mo,[.37,.37,.37,1])],[M([1,6.7,-.25],void 0,[.2,.3,.2]),E(32768),K(t.Fo,t.Mo,[.37,.37,.37,1])],[M([-.34,5.76,-.24],[0,0,-.38,.92],[1.2,.2,.05]),E(32768),K(t.Fo,t.Eo,[.37,.37,.37,1])],[M([-1,7.75,.25],void 0,[.2,.3,.2]),E(32768),K(t.Fo,t.Mo,[.37,.37,.37,1])],[M([-1.3,7.75,.25],void 0,[.2,.3,.2]),E(32768),K(t.Fo,t.Mo,[.37,.37,.37,1])])]}function wt(t){return[A([M(),..._t(t)],[M([0,1.5,0],void 0,[3,3,3]),G(!1,34,0),Q(0)],[M([-2.25,2,0],void 0,[1.5,.1,3]),G(!1,66,0),Q(0)],[M([-.8,.1,0],void 0,[4.9,.2,3.4]),G(!1,34,0),Q(0)])]}function Tt(t){return[A([M([0,.8,0],void 0,[4,1,2]),E(32768),K(t.Fo,t.Eo,[.8,.02,.02,1])],[M([1.28,.5,0],[.71,0,0,.71],[1,2.2,1]),E(32768),K(t.Fo,t.Mo,[0,0,0,1])],[M([-1.1,.5,0],[.71,0,0,.71],[1,2.2,1]),E(32768),K(t.Fo,t.Mo,[0,0,0,1])],[M([-.5,2,.9],void 0,[.2,1.4,.2]),E(32768),K(t.Fo,t.Eo,[.8,.02,.02,1])],[M([-.5,2,-.9],void 0,[.2,1.4,.2]),E(32768),K(t.Fo,t.Eo,[.8,.02,.02,1])],[M([1.9,2,.9],void 0,[.2,1.4,.2]),E(32768),K(t.Fo,t.Eo,[.8,.02,.02,1])],[M([1.9,2,-.9],void 0,[.2,1.4,.2]),E(32768),K(t.Fo,t.Eo,[.8,.02,.02,1])],[M([.7,2.8,0],void 0,[2.6,.2,2]),E(32768),K(t.Fo,t.Eo,[.8,.02,.02,1])],[M([-2,1,-.6],[.5,.5,-.5,.5],[.4,.2,.4]),E(32768),K(t.Fo,t.Mo,[.8,.78,.02,1])],[M([-2,1,.6],[.5,.5,-.5,.5],[.4,.2,.4]),E(32768),K(t.Fo,t.Mo,[.8,.78,.02,1])],[M([.26,1.55,.55],void 0,[.2,.5,.8]),E(32768),K(t.Fo,t.Eo,[0,0,0,1])],[M([.26,1.55,-.55],void 0,[.2,.5,.8]),E(32768),K(t.Fo,t.Eo,[0,0,0,1])])]}function xt(t){return[A([M(),...Tt(t)],[M([0,.8,0],void 0,[4,1,2]),G(!1,66,0),Q(0)])]}function At(t){return[A([M(void 0,void 0,void 0),E(32768),K(t.Fo,t.Eo,[.34,.17,.04,1])],[M([.17,.62,0],[0,0,.57,.82],[.04,.7,1]),E(32768),K(t.Fo,t.Eo,[.34,.17,.04,1])],[M([-.29,.54,0],[0,0,-.64,.77],[.04,.42,1]),E(32768),K(t.Fo,t.Eo,[.34,.17,.04,1])])]}function Rt(t){return[G(!0,36,6),Q(1),L(0),it(4096),...At(t)]}function Ft(t,o){return(n,i)=>{n.o.t[i]|=2097152,n.o.So[i]={tt:t,Ro:o}}}function Mt(o){return[G(!1,2,1,[1,100,1]),Ft(1,3),A([t("exit"),M([0,1,0])],[M([0,0,0],[0,-.707,0,.707],[.3,.3,.3]),...V(o)])]}function zt(t){return[O([0,0,1],null,"walk"),Y(1,0),et(10),P(t.kt,t.Po,nt(ln)),A([M(),A([M(),B(0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),C({idle:{L:[{j:0,S:[0,0,0]}]},walk:{L:[{j:0,S:[0,-.05,0]},{j:.6,S:[0,.01,0]}]}}),A([M(void 0,[0,0,-.628,.778]),A([M(),B(1,[.124,.992,0,0,-.992,.124,-0,0,-0,-0,1,0,-0,-0,-0,1]),C({idle:{L:[{j:0,N:[0,0,0,1]}]},walk:{L:[{j:0,N:[0,0,.044,.999]},{j:.6,N:[0,0,-.342,.94]}]}})])],[M(void 0,[0,0,.628,.778]),A([M(),B(2,[.124,-.992,-0,0,.992,.124,-0,0,0,-0,1,0,0,-0,-0,1]),C({idle:{L:[{j:0,N:[0,0,0,1]}]},walk:{L:[{j:0,N:[0,0,-.044,.999]},{j:.6,N:[0,0,.342,.94]}]}})])])])])]}function It(t){let o=ot();return o<.1?[O([0,0,1],null,"walk"),Y(ot(1,1.2),0),et(100),A([M(void 0,void 0,[2,2,2]),E(32784),...V(t,nt(sn),3)])]:o<.5?[O([0,0,1],null,"walk"),Y(ot(2,2.2),0),et(50),A([M(void 0,void 0,[1,1.5,1]),E(32784),...V(t,nt(sn),1.5)])]:[O([0,0,1],null,"jump"),Y(ot(3,3.2),0),et(30),A([M(void 0,void 0,[.5,.5,1]),E(32784),...V(t,nt(sn),.8)])]}function kt(t){n(t,[M([7.53,-.5,2.45],[0,.71,0,.71],[8,2,30]),...ht(t)]),n(t,[M([30.68,-1.2,2.45],[0,.71,0,.71],[8,2,17.76]),...ht(t)]),n(t,[M([71.79,-1.48,2.45],[0,.71,0,.71],[8,2,6.11]),...ht(t)]),n(t,[M([76.04,.52,1.45],[0,.71,0,.71],[8,2,7.05]),...ht(t)]),n(t,[M([49.73,-1.5,-6.55],[0,.71,0,.71],[10,4,120]),...ht(t)]),n(t,[M([17.04,-4.41,-9.36],g([0,0,0,1],0,90,0),[5,10,10]),K(t.Fo,t.Ao,[.5,.5,.5,1])]),n(t,[M([29.07,-2.85,-9.2],g([0,0,0,1],0,90,0),[5,10,10]),K(t.Fo,t.Ao,[.5,.5,.5,1])]),n(t,[M([40.24,-9.32,-9.02],g([0,0,0,1],0,90,0),[12,22,8]),K(t.Fo,t.Ao,[.5,.5,.5,1])]),n(t,[M([11.67,.5,-2.49],void 0,void 0),..._t(t)]),n(t,[M([-2.9,.44,-5.7],[0,.91,0,.42],[.5,.5,.5]),..._t(t)]),n(t,[M([8.58,.72,.59],void 0,void 0),...yt(t)]),n(t,[M([24.08,.38,-.49],void 0,void 0),...yt(t)]),n(t,[M([13.37,2.13,-1.2],void 0,void 0),...yt(t)]),n(t,[M([-1.27,.19,-3.2],void 0,[.5,.5,.5]),...yt(t)]),n(t,[M([-4.52,.69,1.75],void 0,void 0),...yt(t)]),n(t,[M([2.69,.33,-2.79],void 0,void 0),...gt(t)]),n(t,[M([-.62,3.32,-8.26],void 0,[.2,.2,.2]),...gt(t)]),n(t,[M([-4.67,2.78,-8.4],void 0,[.15,.15,.15]),...gt(t)]),n(t,[M([23.85,.11,-5.15],void 0,void 0),...gt(t)]),n(t,[M([21.29,5.84,-7.26],void 0,[.2,.2,.2]),...gt(t)]),n(t,[M([31.05,.74,-1.14],void 0,void 0),...yt(t)]),n(t,[M([11.69,.5,.83],void 0,void 0),...wt(t)]),n(t,[M([11.58,.68,2.02],void 0,void 0),...yt(t)]),n(t,[M([15.39,.11,-2.79],void 0,void 0),...gt(t)]),n(t,[M([-3.95,.5,1.41],[0,.62,0,.78],void 0),...xt(t)]),n(t,[M([7.69,1,-.1],[-.15,.68,.7,.14],[.4,.4,.4]),...xt(t)]),n(t,[M([14.31,.11,3.18],void 0,void 0),...gt(t)]),n(t,[M([22.34,.38,-.91],void 0,void 0),...yt(t)]),n(t,[M([54.04,.5,.83],void 0,void 0),...wt(t)]),n(t,[M([28.61,.97,0],void 0,void 0),...Rt(t)]),n(t,[M([21.96,1,-2.35],[-.44,.55,.56,.43],[.4,.4,.4]),...Tt(t)]),n(t,[M([56.12,.24,2.71],void 0,void 0),...gt(t)]),n(t,[M([54.23,4.09,0],void 0,void 0),...Rt(t)]),n(t,[M([28.61,2.41,0],void 0,void 0),...Rt(t)]),n(t,[M([53.76,-.5,2.45],[0,.71,0,.71],[8,2,30]),...ht(t)]),n(t,[M([69.45,-3.41,-6.36],g([0,0,0,1],0,90,0),[5,10,10]),K(t.Fo,t.Ao,[.5,.5,.5,1])]),n(t,[M([51.79,4.32,-5.26],void 0,[.2,.2,.2]),...gt(t)]),n(t,[M([47.74,3.78,-5.4],void 0,[.15,.15,.15]),...gt(t)]),n(t,[M([46,.11,-1.52],[0,-.73,0,.69],void 0),...gt(t)]),n(t,[M([43.31,1,-3.57],[-.71,.06,.06,.7],[.4,.4,.4]),...Tt(t)]),n(t,[M([42.7,.93,-2.99],[0,-.73,0,.69],void 0),...yt(t)]),n(t,[M([59.59,.44,-4.68],[0,.71,0,.71],[.5,.5,.5]),..._t(t)]),n(t,[M([61.26,.44,-4.68],[0,.71,0,.71],[.5,.5,.5]),..._t(t)]),n(t,[M([62.93,.44,-4.68],[0,.71,0,.71],[.5,.5,.5]),..._t(t)]),n(t,[M([60.15,.56,-3.88],[0,-.73,0,.69],void 0),...yt(t)]),n(t,[M([41.7,2.41,0],void 0,void 0),...Rt(t)]),n(t,[M([41.39,2.41,2.85],void 0,void 0),...Rt(t)]),n(t,[M([41.03,2.95,-1.3],[0,0,-.71,.71],void 0),...Rt(t)]),n(t,[M([61.98,.21,2.78],void 0,void 0),...yt(t)]),n(t,[M([85.09,-10.27,-9.02],g([0,0,0,1],0,90,0),[12,22,8]),K(t.Fo,t.Ao,[.5,.5,.5,1])]),n(t,[M([78.02,.24,-3.54],void 0,void 0),...gt(t)]),n(t,[M([56.16,.61,.39],[0,-1,0,-.02],void 0),...yt(t)]),n(t,[M([56.4,1,.3],[.7,.15,.16,-.68],void 0),...xt(t)]),n(t,[M([77,1.5,0]),...Mt(t)]),n(t,[M([-3,2,-2],[.01,.76,.12,.64]),A([M(),$(1),lt(zt,.5),E(393216)])]),n(t,[M([14,2,-2],[.01,.76,.12,.64]),A([M(),$(1),lt(zt,.5),E(393216)])]),n(t,[M([33,2,-2],[.01,.76,.12,.64]),A([M(),$(1),lt(zt,.5),E(393216)])]),n(t,[M([53,2,-2],[.01,.76,.12,.64]),A([M(),$(1),lt(zt,.5),E(393216)])]),n(t,[M([73,2,-2],[.01,.76,.12,.64]),A([M(),$(1),lt(zt,.5),E(393216)])]),n(t,[M([-7,.5,-5],[0,.71,0,.71]),lt(It,1)]);{let o=28,i=6,e=6,r=-5,a=e-~~(o/2),l=e+~~(o/2),s=r-~~(i/2),f=r+~~(i/2),c=~~(.6*o);for(let o=0;o<c;o++)n(t,[M([ot(a,l),0,ot(s,f)]),...nt([pt(t),yt(t)])])}{let o=12,i=5,e=71,r=-4,a=e-~~(o/2),l=e+~~(o/2),s=r-~~(i/2),f=r+~~(i/2),c=~~(.6*o);for(let o=0;o<c;o++)n(t,[M([ot(a,l),0,ot(s,f)]),...nt([pt(t),yt(t)])])}n(t,[M([-4.43,.44,-4.42],[0,.91,0,.42],[.5,.5,.5]),..._t(t)]),n(t,[M([-1.37,.44,-6.99],[0,.91,0,.42],[.5,.5,.5]),..._t(t)]),n(t,[...vt(),M()]),n(t,[...mt(t),M()])}function bt(i){i.o=new rn,i.No=!0;let e=n(i,[M([0,1,-3]),t("camera anchor")]),r=J(i,[0,.774,0]);i.o.t[r]&=-129,kt(i);let a=n(i,[M([0,16,-5],g([0,0,0,1],10,0,0),[17,10,1]),A([M(),$(.5),D(20,.1,0),S([1,1,1,1],2,[.5,.5,1,1],1)])]),l=n(i,[M([-5,10,-3],g([0,0,0,1],-45,110,0)),A([M(),$(3),lt(at,3)])]),s=n(i,[...I(0,[145/255,85/255,61/255,1]),M([0,15,0],g([0,0,0,1],10,0,0)),L(o(i.o,"camera anchor"),.02),it(4096)]),f=[n(i,[...V(i,[1,.5,0,1],.7),M([1,.5,0],[0,.707,0,.707],[.3,.3,.3]),Y(1.5,0)]),n(i,[...V(i,[1,.5,0,1],.8),M([.3,.5,-.5],[0,.707,0,.707],[.3,.3,.3]),Y(1.6,0)]),n(i,[...V(i,[1,.5,0,1],.9),M([-.2,.5,.3],[0,.707,0,.707],[.3,.3,.3]),Y(1.7,0)])];var c,u;n(i,[(c=()=>i.Vo===ct,u=()=>{F(i.o,l),n(i,[A([j(1,(()=>{i.o.t[s]|=4096}))],[j(4,(()=>{for(let t of f)O([0,0,1],null,"jump")(i,t),et(7)(i,t)}))],[j(7,(()=>{F(i.o,a);let t=i.o.Wt[s];t.I=o(i.o,"camera anchor",e+1),t.Lt=.05,n(i,[...U(i),M([-20,5,0])])}))],[j(9,(()=>{i.o.t[r]|=128}))])])},(t,o)=>{t.o.t[o]|=524288,t.o.Ut[o]={m:0,Do:c,Xt:u}})])}function Ct(t){t.o=new rn,t.No=!0,J(t,[0,.774,0]),kt(t),n(t,[...I(0,[145/255,85/255,61/255,1]),M([0,10,10]),L(o(t.o,"camera anchor"),.05)])}function Bt(t){return[A([M([0,1,0],void 0,[3,2,3]),E(32768),K(t.Fo,t.Eo,[.41,0,0,1])],[M([0,2,.9],[.71,0,0,.71],[3,1.2,2.99]),E(32768),K(t.Fo,t.Mo,[.41,0,0,1])],[M([-1.5,1,-1.5],void 0,[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-1.5,1,1.5],void 0,[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([1.5,1,-1.5],void 0,[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[1,1,1,1])],[M([1.5,1,1.5],void 0,[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,2,1.49],void 0,[3.1,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,2,-1.5],void 0,[3.1,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([1.5,2,0],[0,.71,0,.71],[3.1,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-1.5,2,0],[0,.71,0,.71],[3.1,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-1.28,2.52,1.49],[0,0,.55,.84],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-1.28,2.52,-1.49],[0,0,.55,.84],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([1.27,2.52,1.49],[0,0,-.55,.84],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([1.27,2.52,-1.52],[0,0,-.55,.84],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([.51,3.27,-1.52],[0,0,-.19,.98],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([.51,3.27,1.53],[0,0,-.19,.98],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-.52,3.27,1.53],[0,0,.19,.98],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-.52,3.27,-1.52],[0,0,.19,.98],[1.16,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,1.5,1.6],void 0,[1.8,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([.85,.7,1.6],[0,0,-.71,.71],[1.5,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-.85,.7,1.6],[0,0,-.71,.71],[1.5,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,.7,1.59],[0,0,-.38,.92],[2.2,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,.7,1.58],[0,0,.38,.92],[2.2,.1,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([-1.25,2.52,-.01],[0,0,.55,.84],[1.16,.1,2.99]),E(32768),K(t.Fo,t.Eo,[.07,.07,.07,1])],[M([1.24,2.52,-.01],[0,0,-.55,.84],[1.16,.1,2.99]),E(32768),K(t.Fo,t.Eo,[.07,.07,.07,1])],[M([.51,3.24,-.01],[0,0,-.19,.98],[1.16,.1,2.99]),E(32768),K(t.Fo,t.Eo,[.07,.07,.07,1])],[M([-.51,3.24,-.01],[0,0,.19,.98],[1.16,.1,2.99]),E(32768),K(t.Fo,t.Eo,[.07,.07,.07,1])])]}function Et(t){return[A([M([0,.6,0],void 0,[.1,1.2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,1.21,.5],[.71,0,0,.71],[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,.6,1],void 0,[.1,1.2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,.8,.5],[.71,0,0,.71],[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])],[M([0,.4,.5],[.71,0,0,.71],[.1,2,.1]),E(32768),K(t.Fo,t.Eo,[.8,.8,.8,1])])]}function Kt(t){return[A([M([0,3,0],void 0,[2.5,6,2.5]),E(32768),K(t.Fo,t.Mo,[.41,0,0,1])],[M([0,0,0],void 0,[2.6,.2,2.6]),E(32768),K(t.Fo,t.Mo,[.8,.8,.8,1])],[M([0,6,0],void 0,[2.6,.2,2.6]),E(32768),K(t.Fo,t.Mo,[.8,.8,.8,1])],[M([0,3,0],void 0,[2.6,.2,2.6]),E(32768),K(t.Fo,t.Mo,[.8,.8,.8,1])],[M([0,1.5,0],void 0,[2.6,.2,2.6]),E(32768),K(t.Fo,t.Mo,[.8,.8,.8,1])],[M([0,4.5,0],void 0,[2.6,.2,2.6]),E(32768),K(t.Fo,t.Mo,[.8,.8,.8,1])],[M([.53,3,1.6],void 0,[.4,6,.4]),E(32768),K(t.Fo,t.Mo,[.8,.8,.8,1])])]}function Pt(t){return[A([M(),...gt(t)],[M([0,4,0],void 0,[.5,8,.5]),G(!1,34,0),Q(0)])]}function St(t){return[A([M(),...Bt(t)],[M([0,1,0],void 0,[3,2,3]),G(!1,34,0),Q(0)])]}function Nt(t){return[A([M(),...Et(t)],[M([0,.7,.5],void 0,[.1,1.2,2]),G(!1,34,0),Q(0)])]}function Vt(t){t.o=new rn,t.No=!0,J(t,[0,.774,0]),function(t){n(t,[M([5.4,-.5,.96],[0,.71,0,.71],[4,2,15]),...ht(t)]),n(t,[M([19.35,-2.5,.96],[0,.71,0,.71],[4,2,14]),...ht(t)]),n(t,[M([65.3,-.5,.96],[0,.71,0,.71],[4,2,81.11]),...ht(t)]),n(t,[M([56.93,-1.5,-6.04],[0,.71,0,.71],[10,4,120]),...ht(t)]),n(t,[M([32.71,.39,-4.35],void 0,void 0),...yt(t)]),n(t,[M([1.39,.5,-5.42],[0,.56,0,.83],[2,2,2]),...Bt(t)]),n(t,[M([-.95,.5,2.69],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([1.05,.5,2.69],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([2.52,-.05,2.69],[.19,.68,-.19,.68],void 0),...Et(t)]),n(t,[M([7.95,.5,-5.44],[0,.17,0,.98],void 0),...Kt(t)]),n(t,[M([8.46,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([10.46,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([12.46,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([14.46,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([16.46,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([19.23,.5,-6.94],void 0,[.8,.8,.8]),...Bt(t)]),n(t,[M([18.46,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([18.12,.55,-5.59],void 0,void 0),...yt(t)]),n(t,[M([13.63,-.54,-1.59],void 0,[2,2,2]),...yt(t)]),n(t,[M([24.62,.36,-5.02],[0,.95,0,.31],void 0),...gt(t)]),n(t,[M([62.05,.5,-7.33],[0,.17,0,.98],[.6,.6,.6]),...Kt(t)]),n(t,[M([64.08,.5,-7.33],[0,.17,0,.98],[.6,.6,.6]),...Kt(t)]),n(t,[M([66.14,.5,-7.33],[0,.17,0,.98],[.6,.6,.6]),...Kt(t)]),n(t,[M([62.6,.58,-7],void 0,void 0),...yt(t)]),n(t,[M([66.02,3.59,-7.08],void 0,void 0),...yt(t)]),n(t,[M([70.27,.36,-8.29],[0,.95,0,.31],[.7,.7,.7]),...gt(t)]),n(t,[M([71.83,.5,-7.63],[0,-.44,0,.9],[.8,.8,.8]),...Bt(t)]),n(t,[M([74.69,.5,-3.81],[0,.82,0,.58],[.5,.5,.5]),...Et(t)]),n(t,[M([11.78,.9,-6.81],[.68,.19,-.19,.68],[.4,.4,.4]),...Tt(t)]),n(t,[M([11.41,.61,-5.83],void 0,void 0),...yt(t)]),n(t,[M([73.83,.5,-3.49],[0,.82,0,.58],[.5,.5,.5]),...Et(t)]),n(t,[M([72.94,.5,-3.3],[0,.74,0,.67],[.5,.5,.5]),...Et(t)]),n(t,[M([72.02,.5,-3.24],[0,.72,0,.69],[.5,.5,.5]),...Et(t)]),n(t,[M([71.07,.5,-3.19],[0,.72,0,.69],[.5,.5,.5]),...Et(t)]),n(t,[M([70.14,.5,-3.3],[0,.6,0,.8],[.5,.5,.5]),...Et(t)]),n(t,[M([69.34,.5,-3.74],[0,.41,0,.91],[.5,.5,.5]),...Et(t)]),n(t,[M([67.36,.5,-5.59],[0,.41,0,.91],[.5,.5,.5]),...Et(t)]),n(t,[M([66.55,.5,-5.93],[0,.68,0,.74],[.5,.5,.5]),...Et(t)]),n(t,[M([65.62,.5,-6.02],[0,.68,0,.74],[.5,.5,.5]),...Et(t)]),n(t,[M([64.69,.5,-6.02],[0,.74,0,.67],[.5,.5,.5]),...Et(t)]),n(t,[M([63.79,.5,-5.93],[0,.74,0,.67],[.5,.5,.5]),...Et(t)]),n(t,[M([68.03,.5,-4.98],[0,.41,0,.91],[.5,.5,.5]),...Et(t)]),n(t,[M([62.88,.5,-5.92],[0,.68,0,.74],[.5,.5,.5]),...Et(t)]),n(t,[M([61.96,.5,-5.92],[0,.74,0,.67],[.5,.5,.5]),...Et(t)]),n(t,[M([61.12,.5,-6.12],[0,.48,0,.88],[.5,.5,.5]),...Et(t)]),n(t,[M([60.44,.5,-6.74],[0,.33,0,.94],[.5,.5,.5]),...Et(t)]),n(t,[M([60.09,.5,-7.58],[0,.05,0,1],[.5,.5,.5]),...Et(t)]),n(t,[M([60.01,.5,-8.53],[0,.05,0,1],[.5,.5,.5]),...Et(t)]),n(t,[M([68.41,.29,-4.19],[.15,.38,-.33,.85],[.5,.5,.5]),...Et(t)]),n(t,[M([29.08,.33,-4.94],void 0,void 0),...yt(t)]),n(t,[M([2.72,.61,2.53],void 0,void 0),...yt(t)]),n(t,[M([25.37,.23,0],[-.67,.67,.22,.22],[.75,.75,.75]),...Pt(t)]),n(t,[M([23.23,-.71,.06],void 0,void 0),...Rt(t)]),n(t,[M([25.09,.4,2.79],void 0,void 0),...pt(t)]),n(t,[M([9.21,.61,2.53],void 0,void 0),...yt(t)]),n(t,[M([15.13,-1.48,1.53],[.5,.5,.5,.5],void 0),...Et(t)]),n(t,[M([15.27,-1.92,2.4],void 0,void 0),...yt(t)]),n(t,[M([24.97,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([26.97,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([28.97,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([31.74,.5,-6.94],void 0,[.8,.8,.8]),...Bt(t)]),n(t,[M([30.97,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([38.09,.36,-7.73],[0,.95,0,.31],void 0),...gt(t)]),n(t,[M([21,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([23,.5,-7.56],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([15.64,-.54,-1.63],void 0,[2,2,2]),...yt(t)]),n(t,[M([17.73,-.54,-1.47],void 0,[2,2,2]),...yt(t)]),n(t,[M([19.82,-.54,-1.78],void 0,[2,2,2]),...yt(t)]),n(t,[M([21.79,-.54,-1.67],void 0,[2,2,2]),...yt(t)]),n(t,[M([23.69,-.54,-2.02],void 0,[2,2,2]),...yt(t)]),n(t,[M([44.79,.5,-.19],[0,.71,0,.71],[2,2,2]),...St(t)]),n(t,[M([41.23,3.45,.06],void 0,void 0),...Rt(t)]),n(t,[M([41.23,1.08,.06],void 0,void 0),...Rt(t)]),n(t,[M([41.23,2.27,.06],void 0,void 0),...Rt(t)]),n(t,[M([41.23,4.62,0],void 0,void 0),...Rt(t)]),n(t,[M([53.83,.36,-3.7],[0,.19,0,.98],void 0),...gt(t)]),n(t,[M([59.06,.36,-10.05],[0,.56,0,.83],void 0),...gt(t)]),n(t,[M([47.85,.33,2.41],void 0,void 0),...yt(t)]),n(t,[M([54.83,.5,2.69],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([56.83,.5,2.69],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([58.3,-.05,2.69],[.19,.68,-.19,.68],void 0),...Et(t)]),n(t,[M([58.51,.61,2.53],void 0,void 0),...yt(t)]),n(t,[M([72.23,.5,-1.57],[0,.17,0,.98],void 0),...Kt(t)]),n(t,[M([71.01,3,.32],[.71,.71,0,0],[2,2,2]),...Nt(t)]),n(t,[M([78.08,.72,-3.38],[-.32,.63,.63,-.32],[.75,.75,.75]),...Pt(t)]),n(t,[M([77,1.98,0],void 0,void 0),...Rt(t)]),n(t,[M([72.16,4.57,.31],void 0,void 0),...Rt(t)]),n(t,[M([77.58,.78,2.87],void 0,void 0),...yt(t)]),n(t,[M([-1.91,.5,-.22],void 0,void 0),...Nt(t)]),n(t,[M([-1.91,.5,1.82],void 0,void 0),...Nt(t)]),n(t,[M([84.66,.36,-2.18],[0,.95,0,.31],void 0),...gt(t)]),n(t,[M([90.59,.5,-6.21],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([92.59,.5,-6.21],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([95.37,.5,-5.59],void 0,[.8,.8,.8]),...Bt(t)]),n(t,[M([94.59,.5,-6.21],[0,.71,0,.71],void 0),...Et(t)]),n(t,[M([89.69,.5,-5.27],[0,1,0,0],void 0),...Et(t)]),n(t,[M([89.7,.5,-3.44],[0,1,0,0],void 0),...Et(t)]),n(t,[M([89.71,.5,-1.64],[0,1,0,0],void 0),...Et(t)]),n(t,[M([89.73,.5,.15],[0,1,0,0],void 0),...Nt(t)]),n(t,[M([89.73,.5,2.07],[0,1,0,0],void 0),...Et(t)]),n(t,[M([89.69,1.64,-5.27],[0,1,0,0],void 0),...Et(t)]),n(t,[M([89.7,1.64,-3.44],[0,1,0,0],void 0),...Et(t)]),n(t,[M([89.71,1.64,-1.64],[0,1,0,0],void 0),...Et(t)]),n(t,[M([89.73,1.64,.15],[0,1,0,0],void 0),...Nt(t)]),n(t,[M([89.73,1.64,2.07],[0,1,0,0],void 0),...Et(t)]),n(t,[M([95,.5,0]),...Mt(t)]),n(t,[...vt(),M()]),n(t,[...mt(t),M()])}(t),n(t,[...U(t),M([-20,5,0])]),n(t,[...I(0,[1,208/255,0,1]),M([0,10,10]),L(o(t.o,"camera anchor"),.05)])}function Dt(t){return[E(32768),K(t.Fo,t.Mo,[.8,.2,.2,1])]}function Wt(t){return[A([M(),...Dt(t)],[M(void 0,void 0,[.5,1,.25]),G(!1,34,0),Q(0)])]}function Lt(t){return[L(0),it(4096),Q(1),G(!0,36,6,[6,.5,.5]),A([M([0,0,0],g([0,0,0,1],0,0,90),[.5,6,.5]),...Dt(t)])]}function $t(o){return[t("launchpad"),O([0,1,0],null),it(64),Y(5,0),A([M(),$(.01),it(131072),A([M([0,-30,0],void 0,[3,3,3]),...rt(o)],[M([0,-30,0],[.707,0,0,.707]),A([M(),$(.1),D(2,.01,5),S([1,1,1,1],200,[1,.5,0,1],500)])])])]}function jt(i){i.o=new rn,i.No=!0,J(i,[0,-2,0]),function(o){n(o,[M([3.7,-4.7,1.4],[0,.71,0,.71],[4,2,20]),...ht(o)]),n(o,[M([33.68,-2.25,1.4],[0,.71,0,.71],[4,5,40]),...ht(o)]),n(o,[M([46.76,-1.75,-5.6],[0,.71,0,.71],[10,4,105]),...ht(o)]),n(o,[M([-3.75,-1.04,-.37],void 0,[3,3,3]),...yt(o)]),n(o,[M([10.41,.55,-1.96],void 0,void 0),...yt(o)]),n(o,[M([-3.89,-3.87,2.38],void 0,[20,4,20]),...pt(o)]),n(o,[M([10.51,-3.95,-1.49],void 0,[10,8,10]),...pt(o)]),n(o,[M([37.64,.19,-1.22],void 0,[7.5,3,7.5]),...pt(o)]),n(o,[M([41.67,-.32,-1.58],void 0,[10,4,10]),...pt(o)]),n(o,[M([46.72,-.09,-1.53],void 0,[10,8,10]),...pt(o)]),n(o,[M([-3.79,-1.96,0],[0,.71,0,.71],[1.5,6.14,2]),...ht(o)]),n(o,[M([-.54,-.87,-2.02],void 0,[3,3,3]),...yt(o)]),n(o,[M([12.27,-.44,-2.1],void 0,[3,3,3]),...yt(o)]),n(o,[M([10.12,-1.19,-.7],[.7,-.07,.07,.7],[.5,4,.5]),...Wt(o)]),n(o,[M([12.82,-2.88,.16],void 0,[1.3,1.3,1.3]),...Rt(o)]),n(o,[M([11.49,-.09,-.65],[.7,.06,-.06,.7],[.5,4,.5]),...Wt(o)]),n(o,[M([19.14,-.33,2],void 0,[20,4,20]),...pt(o)]),n(o,[M([44.07,1.01,0],void 0,[1.3,1.3,1.3]),...Rt(o)]),n(o,[M([34.71,-.33,-1.75],void 0,[10,4,10]),...pt(o)]),n(o,[M([34.04,2.19,.62],[.71,-.05,.05,.71],[.5,4,.5]),...Wt(o)]),n(o,[M([35.14,2.92,.01],[.71,.01,-.01,.71],[.5,2,.5]),...Wt(o)]),n(o,[M([37.71,4.1,.04],[.5,.5,-.5,.5],[.5,4,.5]),...Wt(o)]),n(o,[M([41.55,5.42,-.25],[.5,.5,-.5,.5],[.5,4,.5]),...Wt(o)]),n(o,[M([38.85,.58,.01],void 0,[2.44,1,2.54]),...yt(o)]),n(o,[M([49.57,.58,2.4],void 0,[2.44,1,2.54]),...yt(o)]),n(o,[M([61.49,.58,-1.74],void 0,[2.44,1,2.54]),...yt(o)]),n(o,[M([46.82,6.49,0],[.5,.5,-.5,.5],[.5,6,.5]),...Wt(o)]),n(o,[M([92.21,-2.25,1.4],[0,.71,0,.71],[4,5,57]),...ht(o)]),n(o,[M([48.27,7.05,0],void 0,void 0),...Lt(o)]),n(o,[M([58.57,-3.26,1.4],[0,.71,0,.71],[4,2,10]),...ht(o)]),n(o,[M([55.29,-1.16,-1.7],void 0,[3,3,3]),...yt(o)]),n(o,[M([58.35,-1.41,-1.99],void 0,[3,3,3]),...yt(o)]),n(o,[M([59.94,.7,1.77],[0,.66,0,.75],void 0),...Lt(o)]),n(o,[M([62.77,.65,1.65],[0,.67,0,.74],void 0),...Lt(o)]),n(o,[M([58.43,.7,1.77],[0,.71,0,.71],void 0),...Lt(o)]),n(o,[M([61.14,.68,1.68],[0,.72,0,.69],void 0),...Lt(o)]),n(o,[M([54.12,-1.49,0],[.71,.01,-.01,.71],[.5,2,.5]),...Wt(o)]),n(o,[M([55.64,-.76,.49],[.7,.07,-.07,.7],[.5,2,.5]),...Wt(o)]),n(o,[M([120.2,3,0]),t("exit"),G(!1,2,1,[1,100,1]),Ft(1,4)]),n(o,[M([122.6,.2,0],[0,.71,0,-.71],void 0),...$t(o)]);{let t=105,i=9,e=48,r=-6,a=e-~~(t/2),l=e+~~(t/2),s=r-~~(i/2),f=r+~~(i/2),c=~~(.6*t);for(let t=0;t<c;t++)n(o,[M([ot(a,l),0,ot(s,f)],void 0,[8,4,8]),...pt(o)])}n(o,[...vt(),M()]),n(o,[...mt(o),M()])}(i),n(i,[...I(0,[.4,.6,.4,1]),M([0,10,10]),L(o(i.o,"camera anchor"),.05)])}function Ut(t,n,i){switch(n){case 0:document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen();break;case 1:t.bo=parseInt(i.value);break;case 2:t.Vo=ct;break;case 3:switch(t.Wo){case bt:case Ct:t.Wo=Vt;break;case Vt:t.Wo=jt}t.xo++,t.Wo(t),t.Vo=ct;break;case 4:{let[n]=i;t.o.t[n]&=-2097153;for(let o=0;o<t.o.t.length;o++)t.o.t[o]&=-129;let e=o(t.o,"launchpad");t.o.t[e]|=64,t.o.t[t.o.C[e].C[0]]|=131072,t.Vo=ut;break}}}function Ht(t,o,n,i){return t.bindTexture(jo,o),t.texImage2D(jo,0,32856,n,i,0,6408,5121,null),t.texParameteri(jo,10241,$o),t.texParameteri(jo,10240,$o),o}function Xt(t,o,n,i){return t.bindTexture(jo,o),t.texImage2D(jo,0,33190,n,i,0,6402,5125,null),t.texParameteri(jo,10241,$o),t.texParameteri(jo,10240,$o),t.texParameteri(jo,34892,34894),t.texParameteri(jo,10242,33071),t.texParameteri(jo,10243,33071),o}function Gt(t,o,n){let i={Lo:t.createFramebuffer(),$o:o,jo:n,Uo:Ht(t,t.createTexture(),o,n),Ho:Xt(t,t.createTexture(),o,n)};t.bindFramebuffer(Uo,i.Lo),t.framebufferTexture2D(Uo,36096,jo,i.Ho,0),t.framebufferTexture2D(Uo,36064,jo,i.Uo,0);let e=t.checkFramebufferStatus(Uo);if(36053!=e)throw Error(`Failed to set up the framebuffer (${e}).`);return i}function Ot(t,o,n){let i=t.createProgram();if(t.attachShader(i,qt(t,35633,o)),t.attachShader(i,qt(t,35632,n)),t.linkProgram(i),!t.getProgramParameter(i,35714))throw Error(t.getProgramInfoLog(i));return i}function qt(t,o,n){let i=t.createShader(o);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,35713))throw Error(t.getShaderInfoLog(i));return i}function Yt(t,o,n){let i=t.o.K[o],e=t.o.X[o];if(e.So){let t=e.G[e.So];t&&t!==e.O&&(0===e.O.H?e.O=t:1&e.O.$&&(e.O.H=0,e.O=t)),e.So=void 0}let r=null,a=null;for(let t of e.O.L){if(e.O.H<t.j){a=t;break}r=t}if(r&&a){let t=(e.O.H-r.j)/(a.j-r.j);a.Ct&&(t=a.Ct(t)),r.S&&a.S&&(_(i.S,r.S,a.S,t),i.D=!0),r.N&&a.N&&(w(i.N,r.N,a.N,t),i.D=!0)}else r&&(r.S&&(f(i.S,r.S),i.D=!0),r.N&&(function(t,o){t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3]}(i.N,r.N),i.D=!0));let l=e.O.H+n;if(l<e.O.U)e.O.H=l;else{if(e.O.H=0,4&e.O.$)for(let t of e.O.L.reverse())t.j=e.O.U-t.j;2&e.O.$||(e.O=e.G.idle)}}function Qt(t,o,n,i){let e,r,a=t.currentTime+i,l=0,s=t.createGain();if(s.gain.value=(o[0]/9)**3,o[5]&&(r=t.createOscillator(),r.type=o[5],r.frequency.value=(o[7]/3)**3,e=t.createGain(),e.gain.value=(o[6]+3)**3,r.connect(e)),o[1]){let n=t.createBiquadFilter();n.type=o[1],n.frequency.value=2**o[2],n.Q.value=o[3]**1.5,e&&o[4]&&e.connect(n.detune),s.connect(n),n.connect(t.destination)}else s.connect(t.destination);for(let i of o[8]){let o=t.createGain();o.connect(s);let r=(i[1]/9)**3,f=(i[2]/9)**3,c=(i[3]/9)**3,u=f+c+(i[4]/6)**3;if(o.gain.setValueAtTime(0,a),o.gain.linearRampToValueAtTime(r,a+f),o.gain.setValueAtTime(r,a+f+c),o.gain.exponentialRampToValueAtTime(1e-5,a+u),i[0]){let r=t.createOscillator();r.type=i[0],r.connect(o),r.detune.value=3*(i[5]-7.5)**3,e&&i[6]&&e.connect(r.detune);let l=440*2**((n-69)/12);if(i[7]){let t=(i[8]/9)**3,o=(i[9]/9)**3,n=(i[10]/6)**3;r.frequency.linearRampToValueAtTime(0,a),r.frequency.linearRampToValueAtTime(l,a+t),r.frequency.setValueAtTime(l,a+t+o),r.frequency.exponentialRampToValueAtTime(1e-5,a+t+o+n)}else r.frequency.setValueAtTime(l,a);r.start(a),r.stop(a+u)}else{let n=t.createBufferSource();n.buffer=Jt(t),n.loop=!0,n.connect(o),n.start(a),n.stop(a+u)}u>l&&(l=u)}r&&(r.start(a),r.stop(a+l))}function Jt(t){if(!Hn){Hn=t.createBuffer(1,2*t.sampleRate,t.sampleRate);let o=Hn.getChannelData(0);for(let t=0;t<o.length;t++)o[t]=2*Math.random()-1}return Hn}function Zt(t,o,n){let i=t.o.Gt[o];i.O&&(i.H+=n,i.H>i.O.Xo&&(i.O=void 0)),i.So&&!i.O&&(function(t,o){let n=60/(o.Go||120)/4;for(let i of o.Oo)for(let o=0;o<i.qo.length;o++)i.qo[o]&&Qt(t,i.Yo,i.qo[o],o*n)}(t.Audio,i.So),i.O=i.So,i.H=0),i.So=i.Ot}function to(t,o){o>1?(a(t.h,t._,o,t.p,t.g),e(t.T,t.h)):(a(t.h,t._/o,o,t.p,t.g),e(t.T,t.h))}function oo(t){!function(t,o,n,i,e,r,a){let l=1/(e-n),s=1/(i-o),f=1/(r-a);t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*l,t[13]=(o+i)*s,t[14]=(a+r)*f,t[15]=1}(t.h,t.k,t.k,-t.k,-t.k,t.p,t.g),e(t.T,t.h)}function no(t,o){let n,i,e,r,a,s;l(o.no,t),n=r=o.no[0],i=a=o.no[1],e=s=o.no[2];let f=[0,0,0];for(let l=0;l<8;l++){let c=Gn[l];f[0]=c[0]*o.Tt[0],f[1]=c[1]*o.Tt[1],f[2]=c[2]*o.Tt[2],h(f,f,t),f[0]<n&&(n=f[0]),f[0]>r&&(r=f[0]),f[1]<i&&(i=f[1]),f[1]>a&&(a=f[1]),f[2]<e&&(e=f[2]),f[2]>s&&(s=f[2])}o.Zt=[n,i,e],o.oo=[r,a,s],o.io[0]=(r-n)/2,o.io[1]=(a-i)/2,o.io[2]=(s-e)/2}function io(t,o){let n=t.no[0]-o.no[0],i=t.io[0]+o.io[0]-Math.abs(n),e=t.no[1]-o.no[1],r=t.io[1]+o.io[1]-Math.abs(e),a=t.no[2]-o.no[2],l=t.io[2]+o.io[2]-Math.abs(a);return i<r&&i<l?[i*Math.sign(n),0,0]:r<l?[0,r*Math.sign(e),0]:[0,0,l*Math.sign(a)]}function eo(t,o){return t.Zt[0]<o.oo[0]&&t.oo[0]>o.Zt[0]&&t.Zt[1]<o.oo[1]&&t.oo[1]>o.Zt[1]&&t.Zt[2]<o.oo[2]&&t.oo[2]>o.Zt[2]}function ro(t,o,n){for(let i=0;i<n;i++){let n=o[i],e=t.t&n.Jt,r=n.t&t.Jt;if((e||r)&&eo(t,n)){let o=io(t,n);e&&t.eo.push({Qo:n.Entity,Jo:o}),r&&n.eo.push({Qo:t.Entity,Jo:d([0,0,0],o)})}}}function ao(t,o){let n=t.o.ro[o],i=t.o.co[o];if(n.ao&&i.vo.push(n.ao.slice()),n.N&&i.mo.push(n.N.slice()),n.Animation)for(let i of R(t.o,o,1))t.o.X[i].So=n.Animation}function lo(t,o){let n=t.o.lo[o];if(1&n.$){let n=t.o.co[o],i=t.o.qt[o],e=t.o.Gt[o],r=t.o.ho[o],a=!1;if(t.Zo.ArrowLeft&&(n.vo.push([-1,0,0]),a=!0),t.Zo.ArrowRight&&(n.vo.push([1,0,0]),a=!0),a&&i.eo.length>0){let o=t.o.qt[i.eo[0].Qo].Jt;16&o?e.So=Yn:32&o?e.So=Qn:64&o&&(e.So=Jn)}r.To||t.Zo.ArrowUp&&(r.po[1]+=500)}if(2&n.$){let i=t.o.K[o];n.fo||(t.Zo.ArrowLeft&&n.so&&(n.so=!1,p(i.N,0,-.707,0,.707),i.D=!0),t.Zo.ArrowRight&&!n.so&&(n.so=!0,p(i.N,0,.707,0,.707),i.D=!0))}if(8&n.$){let i=t.o.qt[o];if(t.Zo.Space&&!n.fo&&i.eo.length>0){let n=i.eo[0].Qo,e=t.o.Wt[n];for(let i of z(t.o,o,128))t.o.lo[i].fo=n;t.o.t[n]|=4096,e.I=o}if(-1===t.tn.Space&&n.fo){t.o.t[n.fo]&=-4097;for(let n of z(t.o,o,128))t.o.lo[n].fo=null}}if(4&n.$){let n;(t.Zo.ArrowLeft||t.Zo.ArrowRight)&&(n="walk");let i=t.o.K[o].W;if(void 0!==i){let o=t.o.K[t.o.Wt[i].I].W;void 0!==o&&t.o.ho[o].To&&(n="jump")}if(n)for(let i of R(t.o,o,1))t.o.X[i].So=n}}function so(t,o,n,i){let e=t.o.lo[o];if(1&e.$){let e=t.o.co[o];Math.abs(n)>.01&&e.vo.push([(r=n,Math.max(-1,Math.min(1,r))),0,0]);let a=t.o.ho[o];a.To||Math.abs(i)>.5&&(a.po[1]+=500)}var r;if(2&e.$){let i=t.o.K[o];e.fo||(n<0&&e.so&&(e.so=!1,p(i.N,0,-.707,0,.707),i.D=!0),n>0&&!e.so&&(e.so=!0,p(i.N,0,.707,0,.707),i.D=!0))}if(8&e.$){let n=t.o.qt[o];if(1===t.tn.Touch0&&ti<.2&&!e.fo&&n.eo.length>0){let i=n.eo[0].Qo;for(let n of z(t.o,o,128))t.o.lo[n].fo=i;t.o.t[i]|=4096,t.o.Wt[i].I=o}if(-1===t.tn.Touch0&&e.fo){t.o.t[e.fo]&=-4097;for(let n of z(t.o,o,128))t.o.lo[n].fo=null}}if(4&e.$&&0!==n)for(let n of R(t.o,o,1))t.o.X[n].So="walk"}function fo(t,o,n){let i=t.o.Z[o];Math.abs(t.o.K[o].o[12]-n)>15?t.o.t[o]&=~i.tt:t.o.t[o]|=i.tt}function co(t,o,n){let i=t.o.Et[o];i.Ht-=n,i.Ht<0&&(i.Ro&&Ut(t,i.Ro,o),F(t.o,o))}function uo(t,o,n){let i=t.o.Vt[o];l(ii,t.o.K[o].o),i.Dt<1&&v(ii,ii),t.on[4*n+0]=ii[0],t.on[4*n+1]=ii[1],t.on[4*n+2]=ii[2],t.on[4*n+3]=i.Dt}function vo(t,o,n){let i=t.o.K[o],e=t.o.co[o];if(e.vo.length){let t=e.vo.reduce(mo),o=Math.min(1,function(t){return Math.hypot(t[0],t[1],t[2])}(t));!function(t,o,n){!function(t,o,n){t[0]=o[0]-n[0],t[1]=o[1]-n[1],t[2]=o[2]-n[2]}(t,h([0,0,0],o,n),l([0,0,0],n))}(t,t,i.o),v(t,t),u(t,t,o*e.uo*n),c(i.S,i.S,t),i.D=!0,e.vo=[]}if(e.mo.length){let t=e.mo.reduce(ho);w(t,ai,t,Math.min(1,e.do/Math.PI*n)),y(i.N,t,i.N),i.D=!0,e.mo=[]}}function mo(t,o){return c(t,t,o)}function ho(t,o){return y(t,t,o)}function _o(t,o,n){let i=t.o.Bt[o],e=t.o.K[o];var r,a;i.Nt+=n,i.Nt>i.Kt&&(i.Nt=0,l(si,e.o),(r=fi)[0]=(a=e.o)[8],r[1]=a[9],r[2]=a[10],v(r,r),i.St.push(...si,0),i.St.push(...fi,Math.random()));for(let t=0;t<i.St.length;)i.St[t+3]+=n,i.St[t+3]>i.Et?i.St.splice(t,8):t+=8}function po(t,o,n){let i=t.o.K[o],e=t.o.ho[o];if(1===e.m){f(e.yo,e.wo),u(e.po,e.po,n),c(e.yo,e.yo,e.po),e.yo[1]+=-20*n;let t=[0,0,0];u(t,e.yo,n),c(i.S,i.S,t),i.D=!0,(r=e.po)[0]=0,r[1]=0,r[2]=0}var r}function yo(t,o){let n=t.o.K[o],i=t.o.qt[o],e=t.o.ho[o];if(1===e.m){let o=!1;for(let r=0;r<i.eo.length;r++){let a=i.eo[r];if(65536&t.o.t[a.Qo]){o=!0,c(n.S,n.S,a.Jo),n.D=!0;let i=t.o.ho[a.Qo];switch(i.m){case 0:v(di,a.Jo),u(di,di,-2*m(e.yo,di)),c(e.wo,e.yo,di);break;case 1:f(e.wo,i.yo)}u(e.wo,e.wo,e._o),a.Jo[1]>0&&e.wo[1]<1&&(e.wo[1]=0,e.To=!1)}}o||(f(e.wo,e.yo),e.To=!0)}}function go(t,o){let n=t.o.Ut[o];n.Xt&&n.Xt(o),t.o.t[o]&=-524289,0===t.o.t[o]&&t.o.B(o),delete t.o.Ut[o]}function wo(t,o){t.ot.bindFramebuffer(Uo,null),t.ot.viewport(0,0,t.nn,t.en),t.ot.clearColor(...o.M),t.ot.clear(16640),xo(t,o)}function To(t,o){t.ot.bindFramebuffer(Uo,o.I.Lo),t.ot.viewport(0,0,o.I.$o,o.I.jo),t.ot.clearColor(...o.M),t.ot.clear(16640),xo(t,o)}function xo(t,o){let n=null;for(let i=0;i<t.o.t.length;i++)if((t.o.t[i]&mi)===mi){let e=t.o.K[i],r=t.o.st[i];if(r.ft!==n)switch(n=r.ft,r.m){case 0:Ao(t,r.ft,o);break;case 1:Fo(t,r.ft,o);break;case 2:zo(t,r.ft,o);break;case 3:ko(t,r.ft,o);break;case 4:Co(t,r.ft,o)}switch(r.m){case 0:Ro(t,e,r);break;case 1:Mo(t,e,r);break;case 2:Io(t,i,e,r);break;case 3:{let o=t.o.Bt[i];o.St.length&&bo(t,r,o);break}case 4:Bo(t,e,r)}}}function Ao(t,o,n){t.ot.enable(Lo),t.ot.useProgram(o.rn),t.ot.uniformMatrix4fv(o.et.R,!1,n.R)}function Ro(t,o,n){t.ot.uniformMatrix4fv(n.ft.et.o,!1,o.o),t.ot.uniform4fv(n.ft.et.an,n.an),t.ot.bindVertexArray(n.ut),t.ot.drawElements(n.ft.ln,n.ct.sn,Ho,0),t.ot.bindVertexArray(null)}function Fo(t,o,n){if(t.ot.enable(Lo),t.ot.useProgram(o.rn),t.ot.uniformMatrix4fv(o.et.R,!1,n.R),t.ot.uniform3fv(o.et.fn,n.F),t.ot.uniform4fv(o.et.on,t.on),t.ot.uniform4fv(o.et.cn,n.M),t.ot.uniform1f(o.et.un,n.h.g),3===n.m)t.ot.activeTexture(33984),t.ot.bindTexture(jo,t.Bo.dn.Ho),t.ot.uniform1i(o.et.vn,0);else{t.ot.activeTexture(33984),t.ot.bindTexture(jo,t.Bo.Co.Ho),t.ot.uniform1i(o.et.vn,0);let n=dt(t.o,2056);n&&t.ot.uniformMatrix4fv(o.et.mn,!1,t.o.v[n].R)}}function Mo(t,o,n){t.ot.uniformMatrix4fv(n.ft.et.o,!1,o.o),t.ot.uniformMatrix4fv(n.ft.et.P,!1,o.P),t.ot.uniform4fv(n.ft.et.dt,n.dt),t.ot.bindVertexArray(n.ut),t.ot.drawElements(n.ft.ln,n.ct.sn,Ho,0),t.ot.bindVertexArray(null)}function zo(t,o,n){t.ot.enable(Lo),t.ot.useProgram(o.rn),t.ot.uniformMatrix4fv(o.et.R,!1,n.R),t.ot.uniform3fv(o.et.fn,n.F),t.ot.uniform4fv(o.et.on,t.on),t.ot.uniform4fv(o.et.cn,n.M),t.ot.uniform1f(o.et.un,n.h.g)}function Io(t,o,n,i){t.ot.uniformMatrix4fv(i.ft.et.o,!1,n.o),t.ot.uniformMatrix4fv(i.ft.et.P,!1,n.P),t.ot.uniform4fv(i.ft.et.dt,i.dt);let e=[];if(16&t.o.t[o])for(let n of R(t.o,o,1048580))e.push(n);else{let n=o;for(let o=0;o<4;o++){let o=dt(t.o,1048580,n);o&&(e.push(o),n=o+1)}}for(let o of e){let n=t.o.K[o],i=t.o.q[o];r(hi.subarray(16*i.Y),n.o,i.J)}t.ot.uniformMatrix4fv(i.ft.et.hn,!1,hi),t.ot.bindVertexArray(i.ut),t.ot.drawElements(i.ft.ln,i.ct.sn,Ho,0),t.ot.bindVertexArray(null)}function ko(t,o,n){t.ot.enable(Lo),t.ot.useProgram(o.rn),t.ot.uniformMatrix4fv(o.et.R,!1,n.R)}function bo(t,o,n){t.ot.uniform4fv(o.ft.et.gt,o.gt),t.ot.uniform4fv(o.ft.et.wt,o.wt),t.ot.uniform4f(o.ft.et._n,n.Et,n.Pt,...o.Tt);let i=Float32Array.from(n.St);t.ot.bindBuffer(Do,o.yt),t.ot.bufferSubData(Do,0,i),t.ot.enableVertexAttribArray(o.ft.et.pn),t.ot.vertexAttribPointer(o.ft.et.pn,4,Xo,!1,32,0),t.ot.enableVertexAttribArray(o.ft.et.ao),t.ot.vertexAttribPointer(o.ft.et.ao,3,Xo,!1,32,16),t.ot.drawArrays(o.ft.ln,0,n.St.length/8)}function Co(t,o,n){t.ot.disable(Lo),t.ot.useProgram(o.rn),t.ot.uniformMatrix4fv(o.et.R,!1,n.R),t.ot.uniform3fv(o.et.fn,n.F),t.ot.uniform4fv(o.et.cn,n.M),t.ot.uniform1f(o.et.un,n.h.g)}function Bo(t,o,n){t.ot.uniformMatrix4fv(n.ft.et.o,!1,o.o),t.ot.uniform3fv(n.ft.et.Mt,n.Mt),t.ot.bindVertexArray(n.ut),t.ot.drawElementsInstanced(n.ft.ln,n.ct.sn,Ho,0,Math.floor(n.Ft*(t.bo/4096))),t.ot.bindVertexArray(null)}function Eo(t,o){let n=t.o.$t[o],i=t.o.K[o];i.S=[Math.random()-.5,Math.random()-.5,Math.random()-.5],u(i.S,i.S,2*n.jt),i.D=!0}function Ko(t,o,i){let e=t.o.zo[o],r=2048/t.bo;if(e.Nt+=i,e.Nt>e.ko*r){e.Nt=0;let i=t.o.K[o],r=[0,0,0];l(r,i.o);let a=[0,0,0,0];s(a,i.o),n(t,[...e.Io(t),M(r,a)])}}function Po(t,o){for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&yi)===yi){let n=t.o.K[o];n.D&&So(t.o,o,n)}}function So(t,o,n){if(n.D=!1,function(t,o,n,i){let e=o[0],r=o[1],a=o[2],l=o[3],s=e+e,f=r+r,c=a+a,u=e*s,d=e*f,v=e*c,m=r*f,h=r*c,_=a*c,p=l*s,y=l*f,g=l*c,w=i[0],T=i[1],x=i[2];t[0]=(1-(m+_))*w,t[1]=(d+g)*w,t[2]=(v-y)*w,t[3]=0,t[4]=(d-g)*T,t[5]=(1-(u+_))*T,t[6]=(h+p)*T,t[7]=0,t[8]=(v+y)*x,t[9]=(h-p)*x,t[10]=(1-(u+m))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1}(n.o,n.N,n.S,n.V),void 0!==n.W&&r(n.o,t.K[n.W].o,n.o),e(n.P,n.o),16&t.t[o]){let n=t.C[o];for(let i=0;i<n.C.length;i++){let e=n.C[i];if(1048576&t.t[e]){let n=t.K[e];n.W=o,So(t,e,n)}}}}function No(t,o){let n=t.o.qt[o],i=t.o.So[o];for(let e of n.eo)i.tt&t.o.qt[e.Qo].Jt&&Ut(t,i.Ro,[o,e.Qo])}const Vo=35044,Do=34962,Wo=34963,Lo=2884,$o=9729,jo=3553,Uo=36160,Ho=5123,Xo=5126,Go=document.getElementById("update"),Oo=document.getElementById("delta"),qo=document.getElementById("fps"),Yo=1/60,Qo=Math.PI/180,Jo=new WeakMap,Zo=new WeakMap,tn=.2,on=.6000000000000001;let nn=1,en={Oo:[{Yo:[8,"lowpass",9,8,!1,!1,8,1,[[!1,8,5,0,9]]],qo:[77]}],Xo:.1};class rn extends class{constructor(){this.t=[],this.yn=[]}u(){return this.yn.length>0?this.yn.pop():this.t.push(0)-1}B(t){this.t[t]=0,this.yn.push(t)}}{constructor(){super(...arguments),this.X=[],this.Gt=[],this.q=[],this.v=[],this.C=[],this.qt=[],this.ro=[],this.lo=[],this.Z=[],this.Bt=[],this.Et=[],this.Vt=[],this.Wt=[],this.co=[],this.i=[],this.st=[],this.ho=[],this.$t=[],this.zo=[],this.Ut=[],this.K=[],this.So=[]}}const an=[0,1,0,0,.36,0,0,.5,0,.48,.98,0,1,.84,0,1,.54,0,.84,.21,.21],ln=[[.1,.1,.1,1],[.2,.2,.2,1],[.3,.3,.3,1]],sn=[[.1,.1,.1,1],[.2,.2,.2,1]];let fn=Float32Array.from([-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5]),cn=Float32Array.from([-1,0,0,0,-1,0,0,0,1,-1,0,0,0,0,1,0,1,0,-1,0,0,0,-1,0,0,0,-1,-1,0,0,0,0,-1,0,1,0,0,-1,0,0,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,-1,0,0,0,-1,1,0,0,0,0,-1,0,1,0,1,0,0]),un=Float32Array.from([]),dn=Float32Array.from([]),vn=Uint16Array.from([16,5,22,5,11,22,1,12,7,12,18,7,2,4,13,4,15,13,14,17,20,17,23,20,19,21,8,21,10,8,6,9,0,9,3,0]),mn=Float32Array.from([0,-.5,-.5,0,.5,-.5,.354,-.5,-.354,.354,.5,-.354,.5,-.5,0,.5,.5,0,.354,-.5,.354,.354,.5,.354,-0,-.5,.5,-0,.5,.5,-.354,-.5,.354,-.354,.5,.354,-.5,-.5,-0,-.5,.5,-0,-.354,-.5,-.354,-.354,.5,-.354]),hn=Float32Array.from([0,-.63,-.776,0,.63,-.776,.549,-.63,-.549,.549,.63,-.549,.776,-.63,0,.776,.63,0,.549,-.63,.549,.549,.63,.549,0,-.63,.776,0,.63,.776,-.549,-.63,.549,-.549,.63,.549,-.776,-.63,0,-.776,.63,0,-.549,-.63,-.549,-.549,.63,-.549]),_n=Float32Array.from([]),pn=Float32Array.from([]),yn=Uint16Array.from([14,10,6,6,2,14,14,12,10,10,8,6,6,4,2,2,0,14,0,1,14,1,15,14,14,15,12,15,13,12,5,9,13,13,1,5,5,7,9,9,11,13,13,15,1,1,3,5,12,13,10,13,11,10,10,11,8,11,9,8,8,9,6,9,7,6,6,7,4,7,5,4,4,5,2,5,3,2,2,3,0,3,1,0]),gn=Float32Array.from([-.009,.009,.001,0,-.422,.012,0,.405,.119,.008,.008,.001]),wn=Float32Array.from([-.001,-.138,.99,.01,.025,1,-.01,-.285,.959,0,-.125,.992]),Tn=Float32Array.from([]),xn=Float32Array.from([]),An=Uint16Array.from([3,1,0,2,3,0]),Rn=Float32Array.from([-.17,.016,0,0,0,.057,-0,0,-.071,.184,.022,-0]),Fn=Float32Array.from([.094,.996,0,-.014,1,0,-.014,1,0,-.119,.993,0]),Mn=Float32Array.from([]),zn=Float32Array.from([2,1,0,0,0,1,0,0,0,1,0,0,1,1,0,0]),In=Uint16Array.from([2,3,1,0,2,1]),kn=Float32Array.from([.147,.44,.021,.073,-0,-.008,.132,.234,-.28,.088,.409,-.55,.073,-.001,-.521,.103,.688,.168,.176,.893,.08,-.147,.44,.021,0,.482,-.037,0,.219,-.012,-.073,-0,-.008,-.132,.234,-.28,0,.219,-.53,-.088,.409,-.55,0,.432,-.585,-.073,-.001,-.521,-.103,.688,.168,0,.571,.373,-.176,.893,.08,0,.746,.168]),bn=Float32Array.from([.997,.009,.083,-.007,-.962,.275,.797,-.599,-.074,.688,.428,-.586,.035,-.971,-.235,.726,.191,.661,.417,.903,-.104,-.997,.009,.083,0,.785,-.62,0,-.59,.807,.007,-.962,.275,-.797,-.599,-.074,0,-.472,-.882,-.688,.428,-.586,0,.571,-.821,-.035,-.971,-.235,-.726,.191,.661,0,-.039,.999,-.417,.903,-.104,0,.932,.363]),Cn=Float32Array.from([]),Bn=Float32Array.from([2,.918,1,.082,2,1,0,0,4,.5,2,.5,4,.907,0,.093,4,1,0,0,1,.893,2,.107,1,1,0,0,3,.918,1,.082,1,1,0,0,2,.5,3,.5,3,1,0,0,5,.5,3,.5,0,1,0,0,5,.907,0,.093,0,1,0,0,5,1,0,0,1,.893,3,.107,1,1,0,0,1,1,0,0,1,1,0,0]),En=Uint16Array.from([18,19,16,19,17,16,7,13,8,16,17,7,19,18,8,8,18,7,7,17,9,7,18,16,12,11,9,11,15,13,12,15,11,12,14,13,13,15,12,11,13,7,13,14,8,9,10,7,11,10,9,7,10,11,19,6,5,17,19,5,3,0,8,17,5,0,6,19,8,6,8,0,17,0,9,6,0,5,2,12,9,4,2,3,4,12,2,14,12,3,4,3,12,3,2,0,14,3,8,1,9,0,1,2,9,1,0,2]),Kn=Float32Array.from([-.111,.575,-.859,-0,.384,-.481,-0,.251,-.862,.131,.518,-.819,-.152,.634,-1.248,-.008,.196,-1.3,.216,.518,-1.191,-.247,.793,-1.762,-0,.141,-1.608,.242,.549,-1.756,-.208,.738,-2.194,-0,.234,-2.101,.167,.495,-2.202,.02,.509,-2.548]),Pn=Float32Array.from([-.701,.652,.289,-.03,-.161,.986,-.097,-.964,.248,.848,.425,.317,-.708,.678,.198,-.131,-.98,.148,.94,.301,.159,-.662,.749,-.02,-.089,-.996,.005,.956,.294,-.017,-.606,.664,-.439,-.1,-.951,-.292,.948,.155,-.277,.066,.019,-.998]),Sn=Float32Array.from([]),Nn=Float32Array.from([0,.933,1,.067,0,1,0,0,0,.946,1,.054,0,.953,1,.047,1,.942,2,.058,1,.877,2,.123,1,.97,2,.03,2,.858,3,.142,2,.911,3,.089,2,.932,3,.068,3,1,0,0,3,1,0,0,3,1,0,0,3,1,0,0]),Vn=Uint16Array.from([13,12,10,13,11,12,13,10,11,12,11,9,11,8,9,11,10,8,10,7,8,8,7,5,7,4,5,7,9,4,9,6,4,10,12,7,12,9,7,6,5,3,5,2,3,5,4,2,4,0,2,4,6,0,6,3,0,9,8,6,8,5,6,1,0,3,1,3,2,2,0,1]),Dn=Float32Array.from([-.5,0,.5,.5,0,.5,-.5,0,-.5,.5,0,-.5]),Wn=Float32Array.from([0,1,0,0,1,0,0,1,0,0,1,0]),Ln=Float32Array.from([]),$n=Float32Array.from([]),jn=Uint16Array.from([2,3,0,3,1,0]);const Un=1048577;let Hn;const Xn=1048584,Gn=[[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5],[-.5,-.5,.5]],On=1048608,qn=1048640;let Yn={Oo:[{Yo:[3,"lowpass",9,0,!1,!1,8,8,[["sine",8,1,1,3,8,!1,!1,8,8,8],[!1,8,2,2,2]]],qo:[48]}],Xo:.25},Qn={Oo:[{Yo:[3,"lowpass",8,0,!1,!1,8,8,[["sine",8,1,1,3,8,!1,!1,8,8,8],[!1,8,1,2,3]]],qo:[48]}],Xo:.25},Jn={Oo:[{Yo:[8,"bandpass",8,2,!1,!1,8,8,[["square",3,1,1,2,8,!1,!1,7,7,8],[!1,3,2,2,3]]],qo:[48]}],Xo:.25};const Zn=[0,0];let ti=0;const oi=1048832,ni=1050624;let ii=[0,0,0];const ei=1052672,ri=1056768,ai=[0,0,0,1],li=1049088;let si=[0,0,0],fi=[0,0,0];const ci=1114112,ui=1114144;let di=[0,0,0];const vi=524288,mi=1081344,hi=new Float32Array(96),_i=1179648,pi=1310720,yi=1048576,gi=3145760;let wi,Ti=new class extends class{constructor(){this.gn=0,this.wn=0,this.nn=window.innerWidth,this.en=window.innerHeight,this.No=!0,this.Zo={},this.tn={},this.Tn={},this.xn=document.querySelector("main"),this.An=document.querySelector("canvas"),this.ot=this.An.getContext("webgl2"),this.Audio=new AudioContext,document.addEventListener("visibilitychange",(()=>document.hidden?this.Rn():this.Fn())),this.xn.addEventListener("contextmenu",(t=>t.preventDefault())),this.xn.addEventListener("touchstart",(t=>{t.target===this.xn&&t.preventDefault(),1===t.touches.length&&(this.Tn={});for(let o=0;o<t.touches.length;o++)this.Tn[t.touches[o].identifier]=o;for(let o=0;o<t.changedTouches.length;o++){let n=t.changedTouches[o],i=this.Tn[n.identifier];this.Zo["Touch"+i]=1,this.Zo[`Touch${i}X`]=n.clientX,this.Zo[`Touch${i}Y`]=n.clientY,this.tn["Touch"+i]=1}})),this.xn.addEventListener("touchmove",(t=>{t.target===this.xn&&t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let n=t.changedTouches[o],i=this.Tn[n.identifier];this.Zo[`Touch${i}X`]=n.clientX,this.Zo[`Touch${i}Y`]=n.clientY}})),this.xn.addEventListener("touchend",(t=>{t.target===this.xn&&t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let n=this.Tn[t.changedTouches[o].identifier];this.Zo["Touch"+n]=0,this.tn["Touch"+n]=-1}})),this.xn.addEventListener("touchcancel",(t=>{for(let o=0;o<t.changedTouches.length;o++){let n=this.Tn[t.changedTouches[o].identifier];this.Zo["Touch"+n]=0,this.tn["Touch"+n]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.Zo[t.code]=1,this.tn[t.code]=1)})),window.addEventListener("keyup",(t=>{this.Zo[t.code]=0,this.tn[t.code]=-1})),this.ot.enable(2929),this.ot.enable(Lo),this.ot.frontFace(2304)}Fn(){let t=0,o=performance.now(),n=i=>{let e=(i-o)/1e3;for(this.Mn(e),t+=e;t>=Yo;)t-=Yo,this.zn(Yo),this.In();this.kn(e),this.bn(e),o=i,this.gn=requestAnimationFrame(n)};this.Rn(),n(o)}Rn(){cancelAnimationFrame(this.gn),this.gn=0}Mn(t){this.wn=performance.now()}zn(t){}kn(t){}In(){for(let t in this.tn)this.tn[t]=0}bn(t){this.No=!1;let o=performance.now()-this.wn;Go&&(Go.textContent=o.toFixed(1)),Oo&&(Oo.textContent=(1e3*t).toFixed(1)),qo&&(qo.textContent=(1/t).toFixed())}}{constructor(){super(...arguments),this.o=new rn,this.Cn=function(t,o=4){let n=Ot(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec3 attr_position;\n\nvoid main() {\ngl_Position = pv * world * vec4(attr_position, 1.0);\n}\n","#version 300 es\n\nprecision mediump float;\n\nuniform vec4 color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = color;\n}\n");return{ln:o,rn:n,et:{R:t.getUniformLocation(n,"pv"),o:t.getUniformLocation(n,"world"),an:t.getUniformLocation(n,"color"),it:t.getAttribLocation(n,"attr_position")}}}(this.ot,2),this.Fo=function(t){let o=Ot(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\n\nin vec3 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nvoid main() {\nvert_position = world * vec4(attr_position, 1.0);\nvert_normal = (vec4(attr_normal, 1.0) * self).xyz;\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\nprecision lowp sampler2DShadow;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform mat4 shadow_space;\nuniform sampler2DShadow shadow_map;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\n\n\nfloat shadow_factor(vec4 world_pos, float min) {\nvec4 shadow_space_pos = shadow_space * world_pos;\nvec3 shadow_space_ndc = shadow_space_pos.xyz / shadow_space_pos.w;\n\nshadow_space_ndc = shadow_space_ndc * 0.5 + 0.5;\n\n\nshadow_space_ndc.z -= 0.001;\n\nreturn texture(shadow_map, shadow_space_ndc) * (1.0 - min) + min;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nfloat light_intensity = light_positions[i].w;\nif (light_intensity == 0.0) {\nbreak;\n}\n\nvec3 light_normal;\nif (light_intensity < 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * diffuse_factor * light_intensity;\n}\n}\n\nvec3 shaded_rgb = light_acc * shadow_factor(vert_position, 0.5);\nfrag_color= vec4(shaded_rgb, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{ln:4,rn:o,et:{R:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),P:t.getUniformLocation(o,"self"),dt:t.getUniformLocation(o,"diffuse_color"),fn:t.getUniformLocation(o,"eye"),on:t.getUniformLocation(o,"light_positions"),mn:t.getUniformLocation(o,"shadow_space"),vn:t.getUniformLocation(o,"shadow_map"),cn:t.getUniformLocation(o,"fog_color"),un:t.getUniformLocation(o,"fog_distance"),it:t.getAttribLocation(o,"attr_position"),at:t.getAttribLocation(o,"attr_normal")}}}(this.ot),this.kt=function(t){let o=Ot(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform mat4 bones[6];\n\nin vec3 attr_position;\nin vec3 attr_normal;\nin vec4 attr_weights;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nmat4 world_weighted(vec4 weights) {\nreturn weights[1] * bones[int(weights[0])] + weights[3] * bones[int(weights[2])];\n}\n\nvoid main() {\nmat4 bone_world = world_weighted(attr_weights);\nvert_position = bone_world * vec4(attr_position, 1.0);\nvert_normal = normalize(mat3(bone_world) * attr_normal);\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\nconst float bands = 2.0;\nfloat posterize(float factor) {\nreturn floor(factor * bands) / bands;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.5;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nfloat light_intensity = light_positions[i].w;\nif (light_intensity == 0.0) {\nbreak;\n}\n\nvec3 light_normal;\nif (light_intensity < 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * posterize(diffuse_factor * light_intensity);\n}\n}\n\nfrag_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{ln:4,rn:o,et:{R:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),P:t.getUniformLocation(o,"self"),dt:t.getUniformLocation(o,"diffuse_color"),fn:t.getUniformLocation(o,"eye"),on:t.getUniformLocation(o,"light_positions"),it:t.getAttribLocation(o,"attr_position"),at:t.getAttribLocation(o,"attr_normal"),cn:t.getUniformLocation(o,"fog_color"),un:t.getUniformLocation(o,"fog_distance"),hn:t.getUniformLocation(o,"bones"),ht:t.getAttribLocation(o,"attr_weights")}}}(this.ot),this._t=function(t){let o=Ot(t,"#version 300 es\n\nuniform mat4 pv;\nuniform vec4 color_start;\nuniform vec4 color_end;\n\nuniform vec4 details;\n\n\nin vec4 attr_origin_age;\nin vec3 attr_direction;\n\nout vec4 vert_color;\n\nvoid main() {\n\nvec3 velocity = attr_direction * details.y;\ngl_Position = pv * vec4(attr_origin_age.xyz + velocity * attr_origin_age.w, 1.0);\n\n\nfloat t = attr_origin_age.w / details.x;\ngl_PointSize = mix(details.z, details.w, t);\nvert_color = mix(color_start, color_end, t);\n}\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n");return{ln:0,rn:o,et:{R:t.getUniformLocation(o,"pv"),gt:t.getUniformLocation(o,"color_start"),wt:t.getUniformLocation(o,"color_end"),_n:t.getUniformLocation(o,"details"),pn:t.getAttribLocation(o,"attr_origin_age"),ao:t.getAttribLocation(o,"attr_direction")}}}(this.ot),this.xt=function(t){let o=Ot(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform vec3 palette[16];\n\nuniform vec3 eye;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec3 attr_position;\nin vec4 attr_offset;\nin vec4 attr_rotation;\n\nout vec4 vert_color;\n\nvoid main() {\nfloat x = attr_rotation.x;\nfloat y = attr_rotation.y;\nfloat z = attr_rotation.z;\nfloat w = attr_rotation.w;\n\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat yx = y * x2;\nfloat yy = y * y2;\nfloat zx = z * x2;\nfloat zy = z * y2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\n\nfloat m0 = 1.0 - yy - zz;\nfloat m1 = yx + wz;\nfloat m2 = zx - wy;\nfloat m3 = 0.0;\nfloat m4 = yx - wz;\nfloat m5 = 1.0 - xx - zz;\nfloat m6 = zy + wx;\nfloat m7 = 0.0;\nfloat m8 = zx + wy;\nfloat m9 = zy - wx;\nfloat m10 = 1.0 - xx - yy;\nfloat m11 = 0.0;\nfloat m12 = 0.0;\nfloat m13 = 0.0;\nfloat m14 = 0.0;\nfloat m15 = 1.0;\n\nmat4 rotation = mat4(\nm0, m1, m2, m3,\nm4, m5, m6, m7,\nm8, m9, m10, m11,\nm12, m13, m14, m15\n);\n\nvec4 world_position = world * rotation * vec4(attr_position + attr_offset.xyz, 1.0);\ngl_Position = pv * world_position;\n\n\nvec3 color = palette[int(attr_offset[3])];\nvert_color = vec4(color * 0.1, 1.0);\n\nfloat eye_distance = length(eye - world_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n\n");return{ln:4,rn:o,et:{R:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),Mt:t.getUniformLocation(o,"palette"),fn:t.getUniformLocation(o,"eye"),cn:t.getUniformLocation(o,"fog_color"),un:t.getUniformLocation(o,"fog_distance"),it:t.getAttribLocation(o,"attr_position"),At:t.getAttribLocation(o,"attr_offset"),Rt:t.getAttribLocation(o,"attr_rotation")}}}(this.ot),this.Po=function(t){let o=t.createBuffer();t.bindBuffer(Do,o),t.bufferData(Do,Rn,Vo);let n=t.createBuffer();t.bindBuffer(Do,n),t.bufferData(Do,Fn,Vo);let i=t.createBuffer();t.bindBuffer(Do,i),t.bufferData(Do,Mn,Vo);let e=t.createBuffer();t.bindBuffer(Do,e),t.bufferData(Do,zn,Vo);let r=t.createBuffer();return t.bindBuffer(Wo,r),t.bufferData(Wo,In,Vo),{nt:o,Bn:Rn,rt:n,En:Fn,Kn:i,Pn:Mn,vt:e,Sn:zn,lt:r,Nn:In,sn:In.length}}(this.ot),this.Ko=function(t){let o=t.createBuffer();t.bindBuffer(Do,o),t.bufferData(Do,gn,Vo);let n=t.createBuffer();t.bindBuffer(Do,n),t.bufferData(Do,wn,Vo);let i=t.createBuffer();t.bindBuffer(Do,i),t.bufferData(Do,Tn,Vo);let e=t.createBuffer();t.bindBuffer(Do,e),t.bufferData(Do,xn,Vo);let r=t.createBuffer();return t.bindBuffer(Wo,r),t.bufferData(Wo,An,Vo),{nt:o,Bn:gn,rt:n,En:wn,Kn:i,Pn:Tn,vt:e,Sn:xn,lt:r,Nn:An,sn:An.length}}(this.ot),this.Vn=function(t){let o=t.createBuffer();t.bindBuffer(Do,o),t.bufferData(Do,Dn,Vo);let n=t.createBuffer();t.bindBuffer(Do,n),t.bufferData(Do,Wn,Vo);let i=t.createBuffer();t.bindBuffer(Do,i),t.bufferData(Do,Ln,Vo);let e=t.createBuffer();t.bindBuffer(Do,e),t.bufferData(Do,$n,Vo);let r=t.createBuffer();return t.bindBuffer(Wo,r),t.bufferData(Wo,jn,Vo),{nt:o,Bn:Dn,rt:n,En:Wn,Kn:i,Pn:Ln,vt:e,Sn:$n,lt:r,Nn:jn,sn:jn.length}}(this.ot),this.Eo=function(t){let o=t.createBuffer();t.bindBuffer(Do,o),t.bufferData(Do,fn,Vo);let n=t.createBuffer();t.bindBuffer(Do,n),t.bufferData(Do,cn,Vo);let i=t.createBuffer();t.bindBuffer(Do,i),t.bufferData(Do,un,Vo);let e=t.createBuffer();t.bindBuffer(Do,e),t.bufferData(Do,dn,Vo);let r=t.createBuffer();return t.bindBuffer(Wo,r),t.bufferData(Wo,vn,Vo),{nt:o,Bn:fn,rt:n,En:cn,Kn:i,Pn:un,vt:e,Sn:dn,lt:r,Nn:vn,sn:vn.length}}(this.ot),this.bt=function(t){let o=t.createBuffer();t.bindBuffer(Do,o),t.bufferData(Do,kn,Vo);let n=t.createBuffer();t.bindBuffer(Do,n),t.bufferData(Do,bn,Vo);let i=t.createBuffer();t.bindBuffer(Do,i),t.bufferData(Do,Cn,Vo);let e=t.createBuffer();t.bindBuffer(Do,e),t.bufferData(Do,Bn,Vo);let r=t.createBuffer();return t.bindBuffer(Wo,r),t.bufferData(Wo,En,Vo),{nt:o,Bn:kn,rt:n,En:bn,Kn:i,Pn:Cn,vt:e,Sn:Bn,lt:r,Nn:En,sn:En.length}}(this.ot),this.Ao=function(t){let o=t.createBuffer();t.bindBuffer(Do,o),t.bufferData(Do,Kn,Vo);let n=t.createBuffer();t.bindBuffer(Do,n),t.bufferData(Do,Pn,Vo);let i=t.createBuffer();t.bindBuffer(Do,i),t.bufferData(Do,Sn,Vo);let e=t.createBuffer();t.bindBuffer(Do,e),t.bufferData(Do,Nn,Vo);let r=t.createBuffer();return t.bindBuffer(Wo,r),t.bufferData(Wo,Vn,Vo),{nt:o,Bn:Kn,rt:n,En:Pn,Kn:i,Pn:Sn,vt:e,Sn:Nn,lt:r,Nn:Vn,sn:Vn.length}}(this.ot),this.Mo=function(t){let o=t.createBuffer();t.bindBuffer(Do,o),t.bufferData(Do,mn,Vo);let n=t.createBuffer();t.bindBuffer(Do,n),t.bufferData(Do,hn,Vo);let i=t.createBuffer();t.bindBuffer(Do,i),t.bufferData(Do,_n,Vo);let e=t.createBuffer();t.bindBuffer(Do,e),t.bufferData(Do,pn,Vo);let r=t.createBuffer();return t.bindBuffer(Wo,r),t.bufferData(Wo,yn,Vo),{nt:o,Bn:mn,rt:n,En:hn,Kn:i,Pn:_n,vt:e,Sn:pn,lt:r,Nn:yn,sn:yn.length}}(this.ot),this.on=new Float32Array(32),this.Dn=[],this.bo=2048,this.Bo={dn:Gt(this.ot,2,2),Co:Gt(this.ot,this.bo,this.bo)},this.Wo=bt,this.Vo=ft,this.xo=0}zn(t){!function(t,o){-1===t.tn.Touch0&&(ti=0),0===t.Zo.Touch0&&(ti+=o),1===t.tn.Touch0&&(Zn[0]=t.Zo.Touch0X,Zn[1]=t.Zo.Touch0Y);let n=0,i=0;if(1===t.Zo.Touch0){let o=Math.min(t.nn,t.en)/4;n=(t.Zo.Touch0X-Zn[0])/o,i=(t.Zo.Touch0Y-Zn[1])/o}for(let o=0;o<t.o.t.length;o++)128==(128&t.o.t[o])&&so(t,o,n,i)}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)128==(128&t.o.t[o])&&lo(t,o)}(this),function(t,o){for(let n=0;n<t.o.t.length;n++)(t.o.t[n]&ci)===ci&&po(t,n,o)}(this,t),Po(this),function(t,o){let n=[],i=[];for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&On)===On){let e=t.o.K[o],r=t.o.qt[o];r.eo=[],r.Yt?(r.Yt=!1,no(e.o,r)):r.Qt?(no(e.o,r),i.push(r)):n.push(r)}for(let t=0;t<i.length;t++)ro(i[t],n,n.length),ro(i[t],i,t)}(this),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&ui)===ui&&yo(t,o)}(this),Po(this),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&gi)===gi&&No(t,o)}(this)}kn(t){!function(t,o){for(let n=0;n<t.o.t.length;n++)if((t.o.t[n]&vi)===vi){let i=t.o.Ut[n];switch(i.m){case 0:i.Do(n)&&go(t,n);break;case 1:i.Ht-=o,i.Ht<0&&go(t,n)}}}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&qn)===qn&&ao(t,o)}(this),function(t,o){for(let n=0;n<t.o.t.length;n++)(t.o.t[n]&Un)===Un&&Yt(t,n,o)}(this,t),function(t,o){for(let n=0;n<t.o.t.length;n++)(t.o.t[n]&ri)===ri&&vo(t,n,o)}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&ei)===ei){let n=t.o.K[o],i=t.o.Wt[o],e=t.o.K[i.I],r=l([0,0,0],e.o),a=s([0,0,0,0],e.o);_(n.S,n.S,r,i.Lt),w(n.N,n.N,a,i.Lt),n.D=!0}}(this),function(t,o){for(let n=0;n<t.o.t.length;n++)1024==(1024&t.o.t[n])&&co(t,n,o)}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&_i)==_i&&Eo(t,o)}(this),function(t,o){for(let n=0;n<t.o.t.length;n++)(t.o.t[n]&pi)==pi&&Ko(t,n,o)}(this,t),function(t,o){for(let n=0;n<t.o.t.length;n++)(t.o.t[n]&li)==li&&_o(t,n,o)}(this,t),Po(this),function(t,o){for(let n=0;n<t.o.t.length;n++)2==(2&t.o.t[n])&&Zt(t,n,o)}(this,t),function(t,o){t.nn==window.innerWidth&&t.en==window.innerHeight||(t.No=!0),t.No&&(t.nn=t.An.width=window.innerWidth,t.en=t.An.height=window.innerHeight)}(this),function(t,o){t.Dn=[];for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&Xn)===Xn){let n=t.o.v[o],e=t.o.K[o],a=n.h;if(t.No)switch(a.m){case 0:to(a,0===n.m?t.nn/t.en:n.I.$o/n.I.jo);break;case 1:oo(a)}i(n.A,e.P),r(n.R,a.h,n.A),l(n.F,e.o),t.Dn.push(o)}}(this),function(t,o){let n=t.o.K[t.Dn[1]].o[12];for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&oi)==oi&&fo(t,o,n)}(this),function(t,o){t.on.fill(0);let n=0;for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&ni)===ni&&uo(t,o,n++)}(this),function(t,o){var n,i,e;t.bo!==t.Bo.Co.$o&&(n=t.ot,e=t.bo,(i=t.Bo.Co).$o=t.bo,i.jo=e,Ht(n,i.Uo,i.$o,i.jo),Xt(n,i.Ho,i.$o,i.jo));for(let o of t.Dn){let n=t.o.v[o];switch(n.m){case 0:wo(t,n);break;case 3:To(t,n)}}}(this),function(t,o){let n=function(t){return t.Vo(t)}(t);n!==wi&&(t.xn.innerHTML=wi=n)}(this)}};window.scenes=[bt,Ct,Vt,jt,function(t){t.o=new rn,t.No=!0,n(t,[M([0,-2.5,0],void 0,[16,5,16]),...ht(t)]);for(let o=0;o<2;o++)n(t,[M([ot(-8,8),0,ot(-3,0)],g([0,0,0,1],0,ot(-180,180),0)),...gt(t)]);for(let o=0;o<8;o++){let o=ot(-8,-.5);n(t,[M([ot(-8,8),0,o]),...pt(t)])}J(t,[-1,1,1],3),n(t,[...Rt(t),M([2.5,6,1])]),n(t,[...Rt(t),M([2.4,8,1])]),n(t,[M([-4,2,-1],g([0,0,0,1],-10,100,10)),A([M(),$(1),lt(zt,.5)])]),n(t,[M([-4,0,-1],g([0,0,0,1],0,145,0),[.6,.6,.6]),...Tt(t)]),n(t,[M([20,-12,-5],g([0,0,0,1],0,90,0),[30,30,30]),K(t.Fo,t.Ao,[.5,.5,.5,1])]),n(t,[M([55,-10,-5.5],g([0,0,0,1],0,90,0),[20,20,20]),K(t.Fo,t.Ao,[.5,.5,.5,1])]),n(t,[M([4.4,0,-2],g([0,0,0,1],0,12,0),[1,1,1]),A([M(),..._t(t)],[M([.5,0,1.5]),...yt(t)])]),n(t,[M([-4,-.3,.5]),...yt(t)]),n(t,[M([2.5,.2,3.5]),...yt(t)]),n(t,[...vt(),M()]),n(t,[...mt(t),M()]),n(t,[...I(0,[145/255,85/255,61/255,1]),M([0,0,0],g([0,0,0,1],-30,0,0)),L(o(t.o,"camera anchor"),.05)])}],window.scenes[0](Ti),Ti.Fn(),window.$=Ut.bind(null,Ti),window.game=Ti}();
</script>
