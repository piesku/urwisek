!function(){function t(t,o){let n=t.o.t();for(let i of o)i(t,n);return n}function o(...o){return(n,i)=>{let e=[];for(let i of o){let o=t(n,i);e.push(o)}n.o.i[i]|=32,n.o.l[i]={l:e}}}function*n(t,o,i){if((t.i[o]&i)===i&&(yield o),32&t.i[o])for(let e of t.l[o].l)yield*n(t,e,i)}function i(t,o){if(32&t.i[o])for(let n of t.l[o].l)i(t,n);t.u(o)}function e(t,o,n){switch(o){case 0:document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen();break;case 1:{let[o]=n;i(t.o,o),t.h++;break}case 2:t.v++}}function r(t,o,n,i){return t.bindTexture(Wo,o),t.texImage2D(Wo,0,32856,n,i,0,6408,5121,null),t.texParameteri(Wo,10241,Do),t.texParameteri(Wo,10240,Do),o}function a(t,o,n,i){return t.bindTexture(Wo,o),t.texImage2D(Wo,0,33190,n,i,0,6402,5125,null),t.texParameteri(Wo,10241,Do),t.texParameteri(Wo,10240,Do),t.texParameteri(Wo,34892,34894),t.texParameteri(Wo,10242,33071),t.texParameteri(Wo,10243,33071),o}function l(t,o,n){let i={m:t.createFramebuffer(),_:o,g:n,p:r(t,t.createTexture(),o,n),T:a(t,t.createTexture(),o,n)};t.bindFramebuffer(No,i.m),t.framebufferTexture2D(No,36096,Wo,i.T,0),t.framebufferTexture2D(No,36064,Wo,i.p,0);let e=t.checkFramebufferStatus(No);if(36053!=e)throw Error(`Failed to set up the framebuffer (${e}).`);return i}function s(t,o,n){let i=t.createProgram();if(t.attachShader(i,f(t,35633,o)),t.attachShader(i,f(t,35632,n)),t.linkProgram(i),!t.getProgramParameter(i,35714))throw Error(t.getProgramInfoLog(i));return i}function f(t,o,n){let i=t.createShader(o);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,35713))throw Error(t.getShaderInfoLog(i));return i}function c(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t}function u(t,o){let n=o[0],i=o[1],e=o[2],r=o[3],a=o[4],l=o[5],s=o[6],f=o[7],c=o[8],u=o[9],d=o[10],h=o[11],v=o[12],m=o[13],_=o[14],g=o[15],p=n*l-i*a,y=n*s-e*a,w=n*f-r*a,x=i*s-e*l,T=i*f-r*l,A=e*f-r*s,z=c*m-u*v,M=c*_-d*v,F=c*g-h*v,R=u*_-d*m,b=u*g-h*m,C=d*g-h*_,I=p*C-y*b+w*R+x*F-T*M+A*z;return I?(I=1/I,t[0]=(l*C-s*b+f*R)*I,t[1]=(e*b-i*C-r*R)*I,t[2]=(m*A-_*T+g*x)*I,t[3]=(d*T-u*A-h*x)*I,t[4]=(s*F-a*C-f*M)*I,t[5]=(n*C-e*F+r*M)*I,t[6]=(_*w-v*A-g*y)*I,t[7]=(c*A-d*w+h*y)*I,t[8]=(a*b-l*F+f*z)*I,t[9]=(i*F-n*b-r*z)*I,t[10]=(v*T-m*w+g*p)*I,t[11]=(u*w-c*T-h*p)*I,t[12]=(l*M-a*R-s*z)*I,t[13]=(n*R-i*M+e*z)*I,t[14]=(m*y-v*x-_*p)*I,t[15]=(c*x-u*y+d*p)*I,t):null}function d(t,o,n){let i=o[0],e=o[1],r=o[2],a=o[3],l=o[4],s=o[5],f=o[6],c=o[7],u=o[8],d=o[9],h=o[10],v=o[11],m=o[12],_=o[13],g=o[14],p=o[15],y=n[0],w=n[1],x=n[2],T=n[3];return t[0]=y*i+w*l+x*u+T*m,t[1]=y*e+w*s+x*d+T*_,t[2]=y*r+w*f+x*h+T*g,t[3]=y*a+w*c+x*v+T*p,y=n[4],w=n[5],x=n[6],T=n[7],t[4]=y*i+w*l+x*u+T*m,t[5]=y*e+w*s+x*d+T*_,t[6]=y*r+w*f+x*h+T*g,t[7]=y*a+w*c+x*v+T*p,y=n[8],w=n[9],x=n[10],T=n[11],t[8]=y*i+w*l+x*u+T*m,t[9]=y*e+w*s+x*d+T*_,t[10]=y*r+w*f+x*h+T*g,t[11]=y*a+w*c+x*v+T*p,y=n[12],w=n[13],x=n[14],T=n[15],t[12]=y*i+w*l+x*u+T*m,t[13]=y*e+w*s+x*d+T*_,t[14]=y*r+w*f+x*h+T*g,t[15]=y*a+w*c+x*v+T*p,t}function h(t,o,n,i,e){let r,a=1/Math.tan(o/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(r=1/(i-e),t[10]=(e+i)*r,t[14]=2*e*i*r):(t[10]=-1,t[14]=-2*i),t}function v(t,o){return t[0]=o[8],t[1]=o[9],t[2]=o[10],T(t,t)}function m(t,o){return t[0]=o[12],t[1]=o[13],t[2]=o[14],t}function _(t,o){let n=function(t,o){let n=o[4],i=o[5],e=o[6],r=o[8],a=o[9],l=o[10];return t[0]=Math.hypot(o[0],o[1],o[2]),t[1]=Math.hypot(n,i,e),t[2]=Math.hypot(r,a,l),t}([0,0,0],o),i=1/n[0],e=1/n[1],r=1/n[2],a=o[0]*i,l=o[1]*e,s=o[2]*r,f=o[4]*i,c=o[5]*e,u=o[6]*r,d=o[8]*i,h=o[9]*e,v=o[10]*r,m=a+c+v,_=0;return m>0?(_=2*Math.sqrt(m+1),t[3]=.25*_,t[0]=(u-h)/_,t[1]=(d-s)/_,t[2]=(l-f)/_):a>c&&a>v?(_=2*Math.sqrt(1+a-c-v),t[3]=(u-h)/_,t[0]=.25*_,t[1]=(l+f)/_,t[2]=(d+s)/_):c>v?(_=2*Math.sqrt(1+c-a-v),t[3]=(d-s)/_,t[0]=(l+f)/_,t[1]=.25*_,t[2]=(u+h)/_):(_=2*Math.sqrt(1+v-a-c),t[3]=(l-f)/_,t[0]=(d+s)/_,t[1]=(u+h)/_,t[2]=.25*_),t}function g(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t}function p(t,o,n){return t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function y(t,o,n){return t[0]=o[0]-n[0],t[1]=o[1]-n[1],t[2]=o[2]-n[2],t}function w(t,o,n){return t[0]=o[0]*n,t[1]=o[1]*n,t[2]=o[2]*n,t}function x(t,o){return t[0]=-o[0],t[1]=-o[1],t[2]=-o[2],t}function T(t,o){let n=o[0],i=o[1],e=o[2],r=n*n+i*i+e*e;return r>0&&(r=1/Math.sqrt(r)),t[0]=o[0]*r,t[1]=o[1]*r,t[2]=o[2]*r,t}function A(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function z(t,o,n){let i=o[0],e=o[1],r=o[2],a=n[3]*i+n[7]*e+n[11]*r+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*e+n[8]*r+n[12])/a,t[1]=(n[1]*i+n[5]*e+n[9]*r+n[13])/a,t[2]=(n[2]*i+n[6]*e+n[10]*r+n[14])/a,t}function M(t,o,n){return y(t,z([0,0,0],o,n),m([0,0,0],n))}function F(t,o,n,i){let e=o[0],r=o[1],a=o[2];return t[0]=e+i*(n[0]-e),t[1]=r+i*(n[1]-r),t[2]=a+i*(n[2]-a),t}function R(t,o,n,i,e){return t[0]=o,t[1]=n,t[2]=i,t[3]=e,t}function b(t,o,n){let i=o[0],e=o[1],r=o[2],a=o[3],l=n[0],s=n[1],f=n[2],c=n[3];return t[0]=i*c+a*l+e*f-r*s,t[1]=e*c+a*s+r*l-i*f,t[2]=r*c+a*f+i*s-e*l,t[3]=a*c-i*l-e*s-r*f,t}function C(t,o,n,i){let e=Math.sin(o/2*In),r=Math.cos(o/2*In),a=Math.sin(n/2*In),l=Math.cos(n/2*In),s=Math.sin(i/2*In),f=Math.cos(i/2*In);return t[0]=e*l*f+r*a*s,t[1]=r*a*f-e*l*s,t[2]=r*l*s-e*a*f,t[3]=r*l*f+e*a*s,t}function I(t,o,n,i){let e,r,a,l,s,f=o[0],c=o[1],u=o[2],d=o[3],h=n[0],v=n[1],m=n[2],_=n[3];return r=f*h+c*v+u*m+d*_,r<0&&(r=-r,h=-h,v=-v,m=-m,_=-_),1-r>1e-6?(e=Math.acos(r),a=Math.sin(e),l=Math.sin((1-i)*e)/a,s=Math.sin(i*e)/a):(l=1-i,s=i),t[0]=l*f+s*h,t[1]=l*c+s*v,t[2]=l*u+s*m,t[3]=l*d+s*_,t}function S(t,o,n){let i=t.o.A[o],e=t.o.M[o];if(e.F){let t=e.R[e.F];t&&t!==e.C&&(0===e.C.I?e.C=t:1&e.C.S&&(e.C.I=0,e.C=t)),e.F=void 0}let r=null,a=null;for(let t of e.C.P){if(e.C.I<t.k){a=t;break}r=t}if(r&&a){let t=(e.C.I-r.k)/(a.k-r.k);a.B&&(t=a.B(t)),r.L&&a.L&&(F(i.L,r.L,a.L,t),i.K=!0),r.V&&a.V&&(I(i.V,r.V,a.V,t),i.K=!0),r.D&&a.D&&(F(i.D,r.D,a.D,t),i.K=!0)}else r&&(r.L&&(g(i.L,r.L),i.K=!0),r.V&&(function(t,o){t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3]}(i.V,r.V),i.K=!0),r.D&&(g(i.D,r.D),i.K=!0));let l=e.C.I+n;if(l<e.C.W)e.C.I=l;else{if(e.C.I=0,4&e.C.S)for(let t of e.C.P.reverse())t.k=e.C.W-t.k;2&e.C.S||(e.C=e.R.idle)}}function P(t,o){let n=t.o.A[o];var i,e;m(Bn,n.o),v(En,n.o),(i=Ln)[0]=(e=n.o)[4],i[1]=e[5],i[2]=e[6],T(i,i);let r=t.Audio.listener;r.positionX?(r.positionX.value=Bn[0],r.positionY.value=Bn[1],r.positionZ.value=Bn[2],r.forwardX.value=En[0],r.forwardY.value=En[1],r.forwardZ.value=En[2],r.upX.value=Ln[0],r.upY.value=Ln[1],r.upZ.value=Ln[2]):(r.setPosition(...Bn),r.setOrientation(...En,...Ln))}function k(t,o,n,i,e){let r=t.currentTime+e,a=0;o&&o.connect(t.destination);let l,s,f=t.createGain();if(f.gain.value=(n[0]/9)**3,n[5]&&(s=t.createOscillator(),s.type=n[5],s.frequency.value=(n[7]/3)**3,l=t.createGain(),l.gain.value=(n[6]+3)**3,s.connect(l)),n[1]){let i=t.createBiquadFilter();i.type=n[1],i.frequency.value=2**n[2],i.Q.value=n[3]**1.5,l&&n[4]&&l.connect(i.detune),f.connect(i),i.connect(o||t.destination)}else f.connect(o||t.destination);for(let o of n[8]){let n=t.createGain();n.connect(f);let e=(o[1]/9)**3,s=(o[2]/9)**3,c=(o[3]/9)**3,u=s+c+(o[4]/6)**3;if(n.gain.setValueAtTime(0,r),n.gain.linearRampToValueAtTime(e,r+s),n.gain.setValueAtTime(e,r+s+c),n.gain.exponentialRampToValueAtTime(1e-5,r+u),o[0]){let e=t.createOscillator();e.type=o[0],e.connect(n),e.detune.value=3*(o[5]-7.5)**3,l&&o[6]&&l.connect(e.detune);let a=440*2**((i-69)/12);if(o[7]){let t=(o[8]/9)**3,n=(o[9]/9)**3,i=(o[10]/6)**3;e.frequency.linearRampToValueAtTime(0,r),e.frequency.linearRampToValueAtTime(a,r+t),e.frequency.setValueAtTime(a,r+t+n),e.frequency.exponentialRampToValueAtTime(1e-5,r+t+n+i)}else e.frequency.setValueAtTime(a,r);e.start(r),e.stop(r+u)}else{let o=t.createBufferSource();o.buffer=B(t),o.loop=!0,o.connect(n),o.start(r),o.stop(r+u)}u>a&&(a=u)}s&&(s.start(r),s.stop(r+a))}function B(t){if(!kn){kn=t.createBuffer(1,2*t.sampleRate,t.sampleRate);let o=kn.getChannelData(0);for(let t=0;t<o.length;t++)o[t]=2*Math.random()-1}return kn}function E(t,o,n){let i=t.o.N[o],e=t.o.A[o];if(i.C&&(i.I+=n,i.I>i.C.X?i.C=void 0:i.H&&L(i.H,e)),i.F&&!i.C){switch(i.F.G){case 0:!function(t,o,n){let i=t.createBufferSource();i.buffer=n.$,o?(i.connect(o),o.connect(t.destination)):i.connect(t.destination),i.start()}(t.Audio,i.H,i.F);break;case 1:!function(t,o,n){let i=60/(n.j||120)/4;for(let e of n.U)for(let n=0;n<e.O.length;n++)e.O[n]&&k(t,o,e.Y,e.O[n],n*i)}(t.Audio,i.H,i.F)}i.C=i.F,i.I=0,i.H&&L(i.H,e)}i.F=i.q}function L(t,o){m(Vn,o.o),v(Dn,o.o),t.positionX?(t.positionX.value=Vn[0],t.positionY.value=Vn[1],t.positionZ.value=Vn[2],t.orientationX.value=Dn[0],t.orientationY.value=Dn[1],t.orientationZ.value=Dn[2]):(t.setPosition(...Vn),t.setOrientation(...Dn))}function K(t,o){o>1?(h(t.J,t.Z,o,t.tt,t.ot),u(t.nt,t.J)):(h(t.J,t.Z/o,o,t.tt,t.ot),u(t.nt,t.J))}function V(t){!function(t,o,n,i,e,r,a){let l=1/(e-n),s=1/(i-o),f=1/(r-a);t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*l,t[13]=(o+i)*s,t[14]=(a+r)*f,t[15]=1}(t.J,t.it,t.it,-t.it,-t.it,t.tt,t.ot),u(t.nt,t.J)}function D(t,o){let n,i,e,r,a,l;m(o.et,t),n=r=o.et[0],i=a=o.et[1],e=l=o.et[2];let s=[0,0,0];for(let f=0;f<8;f++){let c=Nn[f];s[0]=c[0]*o.rt[0],s[1]=c[1]*o.rt[1],s[2]=c[2]*o.rt[2],z(s,s,t),s[0]<n&&(n=s[0]),s[0]>r&&(r=s[0]),s[1]<i&&(i=s[1]),s[1]>a&&(a=s[1]),s[2]<e&&(e=s[2]),s[2]>l&&(l=s[2])}o.at=[n,i,e],o.lt=[r,a,l],o.st[0]=(r-n)/2,o.st[1]=(a-i)/2,o.st[2]=(l-e)/2}function W(t,o){let n=t.et[0]-o.et[0],i=t.st[0]+o.st[0]-Math.abs(n),e=t.et[1]-o.et[1],r=t.st[1]+o.st[1]-Math.abs(e),a=t.et[2]-o.et[2],l=t.st[2]+o.st[2]-Math.abs(a);return i<r&&i<l?[i*Math.sign(n),0,0]:r<l?[0,r*Math.sign(e),0]:[0,0,l*Math.sign(a)]}function N(t,o){return t.at[0]<o.lt[0]&&t.lt[0]>o.at[0]&&t.at[1]<o.lt[1]&&t.lt[1]>o.at[1]&&t.at[2]<o.lt[2]&&t.lt[2]>o.at[2]}function X(t,o,n){for(let i=0;i<n;i++){let n=o[i],e=t.i&n.ft,r=n.i&t.ft;if((e||r)&&N(t,n)){let o=W(t,n);e&&t.ct.push({ut:n.Entity,dt:o}),r&&n.ct.push({ut:t.Entity,dt:x([0,0,0],o)})}}}function H(t,o){let i=t.o.ht[o];for(let e of n(t.o,o,1))t.o.M[e].F=i.Animation}function G(t,o){let n=t.o.vt[o],i=t.o._t[o];n.gt&&i.yt.push(n.gt.slice()),n.V&&i.wt.push(n.V.slice())}function $(t=[0,0,0],o=[0,0,0,1],n=[1,1,1]){return(i,e)=>{i.o.i[e]|=8388608,i.o.A[e]={o:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],xt:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],L:t,V:o,D:n,K:!0}}}function*j(t,o,n){(t.i[o]&n)===n&&(yield o);let i=t.A[o].Tt;void 0!==i&&(yield*j(t,i,n))}function U(t,o){let i=t.o.At[o];if(1&i.S){let n=t.o._t[o];t.zt.ArrowLeft&&n.yt.push([-1,0,0]),t.zt.ArrowRight&&n.yt.push([1,0,0]);let i=t.o.Mt[o];i.Ft||t.zt.ArrowUp&&(i.Rt[1]+=500)}if(2&i.S){let n=t.o.A[o];i.bt||(t.zt.ArrowLeft&&i.Ct&&(i.Ct=!1,R(n.V,0,-.7,0,.7),n.K=!0),t.zt.ArrowRight&&!i.Ct&&(i.Ct=!0,R(n.V,0,.7,0,.7),n.K=!0))}if(8&i.S){let n=t.o.It[o];if(t.zt.Space&&!i.bt&&n.ct.length>0){let i=n.ct[0].ut,e=t.o.St[i];if(e){for(let n of j(t.o,o,512))t.o.At[n].bt=i;t.o.i[i]|=16384,e&&(e.Pt=o)}}if(-1===t.kt.Space&&i.bt){t.o.i[i.bt]&=-16385;for(let n of j(t.o,o,512))t.o.At[n].bt=null}}if(4&i.S){let i="idle";(t.zt.ArrowLeft||t.zt.ArrowRight)&&(i="walk");let e=t.o.A[o].Tt;if(void 0!==e){let o=t.o.A[t.o.St[e].Pt].Tt;o&&t.o.Mt[o].Ft&&(i="jump")}for(let e of n(t.o,o,1))t.o.M[e].F=i}}function O(t,o,i,e){let r=t.o.At[o];if(1&r.S){let n=t.o._t[o];Math.abs(i)>.01&&n.yt.push([(a=i,Math.max(-1,Math.min(1,a))),0,0]);let r=t.o.Mt[o];r.Ft||Math.abs(e)>.5&&(r.Rt[1]+=500)}var a;if(2&r.S){let n=t.o.A[o];r.bt||(i<0&&r.Ct&&(r.Ct=!1,R(n.V,0,-.7,0,.7),n.K=!0),i>0&&!r.Ct&&(r.Ct=!0,R(n.V,0,.7,0,.7),n.K=!0))}if(8&r.S){let n=t.o.It[o];if(1===t.kt.Touch0&&jn<.2&&!r.bt&&n.ct.length>0){let i=n.ct[0].ut;for(let n of j(t.o,o,512))t.o.At[n].bt=i;t.o.i[i]|=16384,t.o.St[i].Pt=o}if(-1===t.kt.Touch0&&r.bt){t.o.i[r.bt]&=-16385;for(let n of j(t.o,o,512))t.o.At[n].bt=null}}if(4&r.S){let e;e=0!==i?"walk":"idle";for(let i of n(t.o,o,1))t.o.M[i].F=e}}function Y(t,o){if(1&t.o.At[o].S){let n=t.o._t[o];Math.abs(t.kt.pad0_axis_1)>.1&&n.yt.push([-t.kt.pad0_axis_1,0,0]),Math.abs(t.kt.pad0_axis_2)>.1&&n.yt.push([0,0,-t.kt.pad0_axis_2])}}function q(t,o,n,i=0,e=[1,1,1,1],r=2304){return(a,l)=>{if(!Un.has(o)){let n=a.Bt.createVertexArray();a.Bt.bindVertexArray(n),a.Bt.bindBuffer(Lo,o.Et),a.Bt.enableVertexAttribArray(t.Kt.Lt),a.Bt.vertexAttribPointer(t.Kt.Lt,3,Ho,!1,0,0),a.Bt.bindBuffer(Lo,o.Vt),a.Bt.enableVertexAttribArray(t.Kt.Dt),a.Bt.vertexAttribPointer(t.Kt.Dt,3,Ho,!1,0,0),a.Bt.bindBuffer(Ko,o.Wt),a.Bt.bindVertexArray(null),Un.set(o,n)}a.o.i[l]|=131072,a.o.Nt[l]={G:1,Xt:t,Ht:o,Gt:r,$t:Un.get(o),jt:n,Ut:e,Ot:i}}}function J(t,o,n,i=0,e=[1,1,1,1],r=2304){return(a,l)=>{if(!On.has(o)){let n=a.Bt.createVertexArray();a.Bt.bindVertexArray(n),a.Bt.bindBuffer(Lo,o.Et),a.Bt.enableVertexAttribArray(t.Kt.Lt),a.Bt.vertexAttribPointer(t.Kt.Lt,3,Ho,!1,0,0),a.Bt.bindBuffer(Lo,o.Vt),a.Bt.enableVertexAttribArray(t.Kt.Dt),a.Bt.vertexAttribPointer(t.Kt.Dt,3,Ho,!1,0,0),a.Bt.bindBuffer(Ko,o.Wt),a.Bt.bindVertexArray(null),On.set(o,n)}a.o.i[l]|=131072,a.o.Nt[l]={G:2,Xt:t,Ht:o,Gt:r,$t:On.get(o),jt:n,Ut:e,Ot:i}}}function Q(t,o,n,i=0,e=[1,1,1,1],r=2304){return(a,l)=>{if(!Yn.has(o)){let n=a.Bt.createVertexArray();a.Bt.bindVertexArray(n),a.Bt.bindBuffer(Lo,o.Et),a.Bt.enableVertexAttribArray(t.Kt.Lt),a.Bt.vertexAttribPointer(t.Kt.Lt,3,Ho,!1,0,0),a.Bt.bindBuffer(Lo,o.Vt),a.Bt.enableVertexAttribArray(t.Kt.Dt),a.Bt.vertexAttribPointer(t.Kt.Dt,3,Ho,!1,0,0),a.Bt.bindBuffer(Lo,o.Yt),a.Bt.enableVertexAttribArray(t.Kt.qt),a.Bt.vertexAttribPointer(t.Kt.qt,4,Ho,!1,0,0),a.Bt.bindBuffer(Ko,o.Wt),a.Bt.bindVertexArray(null),Yn.set(o,n)}a.o.i[l]|=131072,a.o.Nt[l]={G:3,Xt:t,Ht:o,Gt:r,$t:Yn.get(o),jt:n,Ut:e,Ot:i}}}function Z(t,o,n,i){return(e,r)=>{let a=e.Bt.createBuffer();e.Bt.bindBuffer(Lo,a),e.Bt.bufferData(Lo,6400,35048),e.o.i[r]|=131072,e.o.Nt[r]={G:5,Xt:e.Jt,$:a,Qt:t,Zt:n,rt:[o,i],Gt:Vo}}}function tt(t,o,n,i){return(e,r)=>{let a=e.oo,l=e.Bt.createVertexArray();e.Bt.bindVertexArray(l),e.Bt.bindBuffer(Lo,t.Et),e.Bt.enableVertexAttribArray(a.Kt.Lt),e.Bt.vertexAttribPointer(a.Kt.Lt,3,Ho,!1,0,0),e.Bt.bindBuffer(Lo,t.Vt),e.Bt.enableVertexAttribArray(a.Kt.Dt),e.Bt.vertexAttribPointer(a.Kt.Dt,3,Ho,!1,0,0);let s=e.Bt.createBuffer();e.Bt.bindBuffer(Lo,s),e.Bt.bufferData(Lo,o,Eo),e.Bt.enableVertexAttribArray(a.Kt.no),e.Bt.vertexAttribPointer(a.Kt.no,4,Ho,!1,0,0),e.Bt.vertexAttribDivisor(a.Kt.no,1);let f=e.Bt.createBuffer();e.Bt.bindBuffer(Lo,f),e.Bt.bufferData(Lo,n,Eo),e.Bt.enableVertexAttribArray(a.Kt.io),e.Bt.vertexAttribPointer(a.Kt.io,4,Ho,!1,0,0),e.Bt.vertexAttribDivisor(a.Kt.io,1),e.Bt.bindBuffer(Ko,t.Wt),e.Bt.bindVertexArray(null),e.o.i[r]|=131072,e.o.Nt[r]={G:6,Xt:a,Ht:t,Gt:Vo,$t:l,eo:o.length/4,ro:i,ao:s,lo:f}}}function ot(t,o){t.so.textAlign="center",t.so.font=o.fo,t.so.fillStyle=o.co,t.so.fillText(o.Text,0,0)}function nt(t,o){t.so.strokeStyle=o.uo,t.so.strokeRect(-o.rt/2,-o.rt/2,o.rt,o.rt)}function it(t,o,n){let r=t.o.do[o];r.ho-=n,r.ho<0&&(r.vo&&e(t,r.vo,o),i(t.o,o))}function et(t,o,n){let i=t.o.mo[o];m(Qn,t.o.A[o].o),1===i.G&&T(Qn,Qn),t._o[4*n+0]=Qn[0],t._o[4*n+1]=Qn[1],t._o[4*n+2]=Qn[2],t._o[4*n+3]=i.G,t.po[4*n+0]=i.uo[0],t.po[4*n+1]=i.uo[1],t.po[4*n+2]=i.uo[2],t.po[4*n+3]=i.yo}function rt(t,o,n){let i=t.o.A[o],e=t.o._t[o];if(e.yt.length){let o=e.yt.reduce(at),r=Math.min(1,function(t){return Math.hypot(t[0],t[1],t[2])}(o));M(o,o,i.o),void 0!==i.Tt&&M(o,o,t.o.A[i.Tt].xt),T(o,o),w(o,o,r*e.wo*n),p(i.L,i.L,o),i.K=!0,e.yt=[]}if(e.wt.length){let t=e.wt.reduce(lt);I(t,oi,t,Math.min(1,e.xo/Math.PI*n)),b(i.V,t,i.V),i.K=!0,e.wt=[]}if(e.To.length){let t=e.To.reduce(lt);I(t,oi,t,Math.min(1,e.xo/Math.PI*n)),b(i.V,i.V,t),i.K=!0,e.To=[]}}function at(t,o){return p(t,t,o)}function lt(t,o){return b(t,t,o)}function st(t,o,n){let i=t.o.Ao[o],e=t.o.A[o];i.zo+=n,i.zo>i.Mo&&(i.zo=0,m(ii,e.o),v(ei,e.o),i.Fo.push(...ii,0),i.Fo.push(...ei,Math.random()));for(let t=0;t<i.Fo.length;)i.Fo[t+3]+=n,i.Fo[t+3]>i.do?i.Fo.splice(t,8):t+=8}function ft(t,o,n){let i=t.o.A[o],e=t.o.Mt[o];if(1===e.G){g(e.Ro,e.bo),w(e.Rt,e.Rt,n),p(e.Ro,e.Ro,e.Rt),e.Ro[1]+=-20*n;let t=[0,0,0];w(t,e.Ro,n),p(i.L,i.L,t),i.K=!0,(r=e.Rt)[0]=0,r[1]=0,r[2]=0}var r}function ct(t,o,n){let i=t.o.Mt[o];if(2===i.G){let e=[0,0,0];m(e,t.o.A[o].o);let r=[0,0,0];y(r,e,i.Co),w(i.Ro,r,1/n),g(i.Co,e)}}function ut(t,o){let n=t.o.A[o],i=t.o.It[o],e=t.o.Mt[o];if(1===e.G){let o=!1;for(let r=0;r<i.ct.length;r++){let a=i.ct[r];if(262144&t.o.i[a.ut]){o=!0,p(n.L,n.L,a.dt),n.K=!0;let i=t.o.Mt[a.ut];switch(i.G){case 0:T(si,a.dt),w(si,si,-2*A(e.Ro,si)),p(e.bo,e.Ro,si);break;case 1:case 2:g(e.bo,i.Ro)}w(e.bo,e.bo,e.Io),a.dt[1]>0&&e.bo[1]<1&&(e.bo[1]=0,e.Ft=!1)}}o||(g(e.bo,e.Ro),e.Ft=!0)}}function dt(t,o){if(32&t.i[o]){let n=t.l[o];for(let o of n.l)if(2097152&t.i[o])return!0}return!1}function ht(t,o){let n=null,i=null;t.Bt.bindFramebuffer(No,o.Pt.m),t.Bt.viewport(0,0,o.Pt._,o.Pt.g),t.Bt.clearColor(...o.So),t.Bt.clear(16640);for(let e=0;e<t.o.i.length;e++)if((t.o.i[e]&ci)===ci){let r=t.o.A[e],a=t.o.Nt[e];if(a.Xt!==n)switch(n=a.Xt,a.G){case 4:case 5:break;case 6:_t(t,o);break;default:vt(t,o)}switch(a.Gt!==i&&(i=a.Gt,t.Bt.frontFace(a.Gt)),a.G){case 4:case 5:break;case 6:gt(t,r,a);break;default:mt(t,r,a)}}}function vt(t,o){t.Bt.useProgram(t.ko.Po),t.Bt.uniformMatrix4fv(t.ko.Kt.Bo,!1,o.Bo)}function mt(t,o,n){let i=t.ko;t.Bt.uniformMatrix4fv(i.Kt.o,!1,o.o),t.Bt.bindBuffer(Lo,n.Ht.Et),t.Bt.enableVertexAttribArray(i.Kt.Lt),t.Bt.vertexAttribPointer(i.Kt.Lt,3,Ho,!1,0,0),t.Bt.bindBuffer(Ko,n.Ht.Wt),t.Bt.drawElements(i.Eo,n.Ht.Lo,Xo,0)}function _t(t,o){t.Bt.useProgram(t.Ko.Po),t.Bt.uniformMatrix4fv(t.Ko.Kt.Bo,!1,o.Bo)}function gt(t,o,n){let i=t.Ko;t.Bt.uniformMatrix4fv(i.Kt.o,!1,o.o),t.Bt.bindBuffer(Lo,n.Ht.Et),t.Bt.enableVertexAttribArray(i.Kt.Lt),t.Bt.vertexAttribPointer(i.Kt.Lt,3,Ho,!1,0,0),t.Bt.bindBuffer(Lo,n.ao),t.Bt.enableVertexAttribArray(i.Kt.no),t.Bt.vertexAttribPointer(i.Kt.no,4,Ho,!1,0,0),t.Bt.vertexAttribDivisor(i.Kt.no,1),t.Bt.bindBuffer(Lo,n.lo),t.Bt.enableVertexAttribArray(i.Kt.io),t.Bt.vertexAttribPointer(i.Kt.io,4,Ho,!1,0,0),t.Bt.vertexAttribDivisor(i.Kt.io,1),t.Bt.bindBuffer(Ko,n.Ht.Wt),t.Bt.drawElementsInstanced(t.Ko.Eo,n.Ht.Lo,Xo,0,n.eo)}function pt(t,o,n=0){for(let i=n;i<t.i.length;i++)if((t.i[i]&o)===o)return i}function yt(t,o){t.Bt.bindFramebuffer(No,null),t.Bt.viewport(0,0,t.Vo,t.Do),t.Bt.clearColor(...o.So),t.Bt.clear(16640),xt(t,o)}function wt(t,o){t.Bt.bindFramebuffer(No,o.Pt.m),t.Bt.viewport(0,0,o.Pt._,o.Pt.g),t.Bt.clearColor(...o.So),t.Bt.clear(16640),xt(t,o)}function xt(t,o,n){let i=null,e=null;for(let n=0;n<t.o.i.length;n++)if((t.o.i[n]&ui)===ui){let r=t.o.A[n],a=t.o.Nt[n];if(a.Xt!==i)switch(i=a.Xt,a.G){case 0:Tt(t,a.Xt,o);break;case 1:zt(t,a.Xt,o);break;case 4:Ft(t,a.Xt,o);break;case 2:bt(t,a.Xt,o);break;case 3:It(t,a.Xt,o);break;case 5:Pt(t,a.Xt,o);break;case 6:Bt(t,a.Xt,o)}switch(a.Gt!==e&&(e=a.Gt,t.Bt.frontFace(a.Gt)),a.G){case 0:At(t,r,a);break;case 1:Mt(t,r,a);break;case 4:Rt(t,r,a);break;case 2:Ct(t,r,a);break;case 3:St(t,n,r,a);break;case 5:{let o=t.o.Ao[n];o.Fo.length&&kt(t,a,o);break}case 6:Et(t,r,a)}}}function Tt(t,o,n){t.Bt.useProgram(o.Po),t.Bt.uniformMatrix4fv(o.Kt.Bo,!1,n.Bo)}function At(t,o,n){t.Bt.uniformMatrix4fv(n.Xt.Kt.o,!1,o.o),t.Bt.uniform4fv(n.Xt.Kt.uo,n.uo),t.Bt.bindVertexArray(n.$t),t.Bt.drawElements(n.Xt.Eo,n.Ht.Lo,Xo,0),t.Bt.bindVertexArray(null)}function zt(t,o,n){t.Bt.useProgram(o.Po),t.Bt.uniformMatrix4fv(o.Kt.Bo,!1,n.Bo),t.Bt.uniform3fv(o.Kt.Wo,n.No),t.Bt.uniform4fv(o.Kt._o,t._o),t.Bt.uniform4fv(o.Kt.po,t.po),t.Bt.uniform4fv(o.Kt.Xo,n.So),t.Bt.uniform1f(o.Kt.Ho,n.J.ot)}function Mt(t,o,n){t.Bt.uniformMatrix4fv(n.Xt.Kt.o,!1,o.o),t.Bt.uniformMatrix4fv(n.Xt.Kt.xt,!1,o.xt),t.Bt.uniform4fv(n.Xt.Kt.jt,n.jt),t.Bt.uniform4fv(n.Xt.Kt.Ut,n.Ut),t.Bt.uniform1f(n.Xt.Kt.Ot,n.Ot),t.Bt.bindVertexArray(n.$t),t.Bt.drawElements(n.Xt.Eo,n.Ht.Lo,Xo,0),t.Bt.bindVertexArray(null)}function Ft(t,o,n){t.Bt.useProgram(o.Po),t.Bt.uniformMatrix4fv(o.Kt.Bo,!1,n.Bo)}function Rt(t,o,n){t.Bt.uniformMatrix4fv(n.Xt.Kt.o,!1,o.o),t.Bt.uniform4fv(n.Xt.Kt.uo,n.uo),t.Bt.bindBuffer(Lo,n.Et),t.Bt.enableVertexAttribArray(n.Xt.Kt.Lt),t.Bt.vertexAttribPointer(n.Xt.Kt.Lt,3,Ho,!1,0,0),t.Bt.drawArrays(n.Xt.Eo,0,n.Lo)}function bt(t,o,n){t.Bt.useProgram(o.Po),t.Bt.uniformMatrix4fv(o.Kt.Bo,!1,n.Bo),t.Bt.uniform3fv(o.Kt.Wo,n.No),t.Bt.uniform4fv(o.Kt._o,t._o),t.Bt.uniform4fv(o.Kt.po,t.po),t.Bt.uniform4fv(o.Kt.Xo,n.So),t.Bt.uniform1f(o.Kt.Ho,n.J.ot),t.Bt.activeTexture(33984),t.Bt.bindTexture(Wo,t.$o.Go.T),t.Bt.uniform1i(o.Kt.jo,0);let i=pt(t.o,8208);i&&t.Bt.uniformMatrix4fv(o.Kt.Uo,!1,t.o.Oo[i].Bo)}function Ct(t,o,n){t.Bt.uniformMatrix4fv(n.Xt.Kt.o,!1,o.o),t.Bt.uniformMatrix4fv(n.Xt.Kt.xt,!1,o.xt),t.Bt.uniform4fv(n.Xt.Kt.jt,n.jt),t.Bt.uniform4fv(n.Xt.Kt.Ut,n.Ut),t.Bt.uniform1f(n.Xt.Kt.Ot,n.Ot),t.Bt.bindVertexArray(n.$t),t.Bt.drawElements(n.Xt.Eo,n.Ht.Lo,Xo,0),t.Bt.bindVertexArray(null)}function It(t,o,n){t.Bt.useProgram(o.Po),t.Bt.uniformMatrix4fv(o.Kt.Bo,!1,n.Bo),t.Bt.uniform3fv(o.Kt.Wo,n.No),t.Bt.uniform4fv(o.Kt._o,t._o),t.Bt.uniform4fv(o.Kt.po,t.po),t.Bt.uniform4fv(o.Kt.Xo,n.So),t.Bt.uniform1f(o.Kt.Ho,n.J.ot)}function St(t,o,i,e){t.Bt.uniformMatrix4fv(e.Xt.Kt.o,!1,i.o),t.Bt.uniformMatrix4fv(e.Xt.Kt.xt,!1,i.xt),t.Bt.uniform4fv(e.Xt.Kt.jt,e.jt),t.Bt.uniform4fv(e.Xt.Kt.Ut,e.Ut),t.Bt.uniform1f(e.Xt.Kt.Ot,e.Ot);let r=[];if(32&t.o.i[o])for(let i of n(t.o,o,8388616))r.push(i);else{let n=o;for(let o=0;o<5;o++){let o=pt(t.o,8388616,n);o&&(r.push(o),n=o+1)}}for(let o of r){let n=t.o.A[o],i=t.o.Yo[o];d(di.subarray(16*i.qo),n.o,i.Jo)}t.Bt.uniformMatrix4fv(e.Xt.Kt.Qo,!1,di),t.Bt.bindVertexArray(e.$t),t.Bt.drawElements(e.Xt.Eo,e.Ht.Lo,Xo,0),t.Bt.bindVertexArray(null)}function Pt(t,o,n){t.Bt.useProgram(o.Po),t.Bt.uniformMatrix4fv(o.Kt.Bo,!1,n.Bo)}function kt(t,o,n){t.Bt.uniform4fv(o.Xt.Kt.Qt,o.Qt),t.Bt.uniform4fv(o.Xt.Kt.Zt,o.Zt),t.Bt.uniform4f(o.Xt.Kt.Zo,n.do,n.tn,...o.rt);let i=Float32Array.from(n.Fo);t.Bt.bindBuffer(Lo,o.$),t.Bt.bufferSubData(Lo,0,i),t.Bt.enableVertexAttribArray(o.Xt.Kt.on),t.Bt.vertexAttribPointer(o.Xt.Kt.on,4,Ho,!1,32,0),t.Bt.enableVertexAttribArray(o.Xt.Kt.gt),t.Bt.vertexAttribPointer(o.Xt.Kt.gt,3,Ho,!1,32,16),t.Bt.drawArrays(o.Xt.Eo,0,n.Fo.length/8)}function Bt(t,o,n){t.Bt.useProgram(o.Po),t.Bt.uniformMatrix4fv(o.Kt.Bo,!1,n.Bo),t.Bt.uniform3fv(o.Kt.Wo,n.No),t.Bt.uniform4fv(o.Kt._o,t._o),t.Bt.uniform4fv(o.Kt.po,t.po),t.Bt.uniform4fv(o.Kt.Xo,n.So),t.Bt.uniform1f(o.Kt.Ho,n.J.ot)}function Et(t,o,n){t.Bt.uniformMatrix4fv(n.Xt.Kt.o,!1,o.o),t.Bt.uniformMatrix4fv(n.Xt.Kt.xt,!1,o.xt),t.Bt.uniform3fv(n.Xt.Kt.ro,n.ro),t.Bt.bindVertexArray(n.$t),t.Bt.drawElementsInstanced(n.Xt.Eo,n.Ht.Lo,Xo,0,n.eo),t.Bt.bindVertexArray(null)}function Lt(t,o){let n=t.o.nn[o],i=t.o.A[o];i.L=[Math.random()-.5,Math.random()-.5,Math.random()-.5],w(i.L,i.L,2*n.en),i.K=!0}function Kt(o,n,i){let e=o.o.rn[n];if(e.zo+=i,e.zo>e.an){e.zo=0;let i=o.o.A[n],r=[0,0,0];m(r,i.o);let a=[0,0,0,0];_(a,i.o),t(o,[...e.ln(o),$(r,a)])}}function Vt(t,o,n){let i=t.o.sn[o];i.zo+=n,i.fn&&i.zo>i.W?(i.zo=0,i.fn=!1,t.o.i[o]&=~i.cn):!i.fn&&i.zo>i.un&&(i.zo=0,i.fn=!0,t.o.i[o]|=i.cn)}function Dt(t,o){for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&_i)===_i){let n=t.o.A[o];n.K&&Wt(t.o,o,n)}}function Wt(t,o,n){if(n.K=!1,function(t,o,n,i){let e=o[0],r=o[1],a=o[2],l=o[3],s=e+e,f=r+r,c=a+a,u=e*s,d=e*f,h=e*c,v=r*f,m=r*c,_=a*c,g=l*s,p=l*f,y=l*c,w=i[0],x=i[1],T=i[2];t[0]=(1-(v+_))*w,t[1]=(d+y)*w,t[2]=(h-p)*w,t[3]=0,t[4]=(d-y)*x,t[5]=(1-(u+_))*x,t[6]=(m+g)*x,t[7]=0,t[8]=(h+p)*T,t[9]=(m-g)*T,t[10]=(1-(u+v))*T,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1}(n.o,n.V,n.L,n.D),void 0!==n.Tt&&d(n.o,t.A[n.Tt].o,n.o),u(n.xt,n.o),32&t.i[o]){let n=t.l[o];for(let i of n.l)if(8388608&t.i[i]){let n=t.A[i];n.Tt=o,Wt(t,i,n)}}}function Nt(t,o){let n=t.o.It[o],i=t.o.F[o];for(let r of n.ct)i.cn&t.o.It[r.ut].ft&&e(t,i.vo,[o,r.ut])}function Xt(t,...o){return t.reduce(((t,n)=>t+function(t){let o=t.shift();return"boolean"==typeof o||null==o?"":Array.isArray(o)?o.join(""):o}(o)+n))}function Ht(t,o){let n=Xt`
<div
style="
animation: 8s ease-out 5s forwards intro;
"
>
<div
style="
font-family: Arial;
font-size: 40vmin;
font-weight: 600;
color: #fff;
line-height: .9;
"
>
LEFT BEHIND
</div>
<div
style="
position: relative;
left: 4vh;
font-family: Arial;
font-size: 3vh;
color: #fff;
"
>
An adventure on a post-human Earth.
</div>
</div>
`;n!==pi&&(t.dn.innerHTML=pi=n)}function Gt(t,o,n,i=[.9,.9,.9,1]){return(e,r)=>{e.o.i[r]|=16,e.o.Oo[r]={G:0,J:{G:0,Z:t,tt:o,ot:n,J:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],nt:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},hn:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Bo:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],No:[0,0,0],So:i}}}function $t(t,o,n,i,e=[0,0,0,1]){return(r,a)=>{r.o.i[a]|=16,r.o.Oo[a]={G:3,Pt:t,J:{G:1,it:o,tt:n,ot:i,J:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],nt:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},hn:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Bo:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],No:[0,0,0],So:e}}}function jt(t,n){return[o([$([0,0,5]),Gt(1,.1,15,n)])]}function Ut(t,o,n){return(i,e)=>{i.o.i[e]|=2048,i.o.Ao[e]={do:t,Mo:o,tn:n,Fo:[],zo:0}}}function Ot(t,o=.1){return(n,i)=>{n.o.i[i]|=16384,n.o.St[i]={Pt:t,vn:o}}}function Yt(t){return(o,n)=>{o.o.i[n]|=65536,o.o.mn[n]={_n:t}}}function qt(t,o){for(let n=0;n<t.i.length;n++)if(65536&t.i[n]&&t.mn[n]._n===o)return n;throw`No entity named ${o}.`}function Jt(t){return(o,n)=>{o.o.i[n]|=524288,o.o.nn[n]={en:t}}}function Qt(t){return[Ot(qt(t.o,"pixie anchor"),.02),o([$(),Jt(.1),Ut(1,.1,.1),Z([1,1,1,1],4,[.5,.5,1,1],1)])]}function Zt(t,o){return(n,i)=>{n.o.i[i]|=128,n.o.vt[i]={gt:t,V:o}}}function to(t){return(o,n)=>{o.o.i[n]&=~t}}function oo(t,o){return(n,i)=>{n.o.i[i]|=32768,n.o._t[i]={wo:t,xo:o,yt:[],wt:[],To:[]}}}function no(t){return[Zt([0,0,1],null),oo(2,0),(t,o)=>{t.o.i[o]|=4096,t.o.do[o]={ho:9,vo:void 0}},(n=wi,(t,o)=>{let i=t.Audio.createPanner();t.o.i[o]|=4,t.o.N[o]={H:i,q:n,I:0}}),to(4),o([$([0,0,.5],[.7,0,0,.7],[.4,1,.4]),q(t.gn,t.pn,[3,3,3,1])],[$([0,0,.8],[.7,0,0,.7],[.3,1,.3]),q(t.gn,t.pn,[3,3,3,1])],[$([0,0,1.1],[.7,0,0,.7],[.2,1,.2]),q(t.gn,t.pn,[3,3,3,1])],[$(void 0,[0,1,0,0]),Jt(.02),Ut(1,.01,1),Z([1,.5,0,1],10,[.56,.33,.24,1],2)])];var n}function io(t,o){return(n,i)=>{n.o.i[i]|=2097152,n.o.yn[i]={G:1,ho:t,wn:o}}}function eo(t=[1,1,1],o=1){return(n,i)=>{n.o.i[i]|=8192,n.o.mo[i]={G:1,uo:t,yo:o**2}}}function ro(t){return[Zt(null,[0,1,0,0]),oo(0,.03),o([$([0,10,10],C([0,0,0,1],-45,0,0)),eo([1,1,1],.9),$t(t.$o.Go,10,1,100)])]}function ao(){return xi=16807*xi%2147483647,(xi-1)/2147483646}function lo(t=0,o=1){return~~(ao()*(o-t+1)+t)}function so(t=0,o=1){return ao()*(o-t)+t}function fo(t,o,n,i=[1,1,1]){return(e,r)=>{e.o.i[r]|=64,e.o.It[r]={Entity:r,xn:!0,Tn:t,ft:o,i:n,rt:i,at:[0,0,0],lt:[0,0,0],et:[0,0,0],st:[0,0,0],ct:[]}}}function co(t,o=.5){return(n,i)=>{n.o.i[i]|=262144,n.o.Mt[i]={G:t,Io:o,Rt:[0,0,0],Ro:[0,0,0],bo:[0,0,0],Co:[0,0,0],Ft:!1}}}function uo(t){let n=[],i=[];for(let t=0;t<100;t++)n.push(so(-1,1),.8,so(-.5,.5),lo(0,2)),i.push(...C([0,0,0,1],0,so(-180,180),0));return[fo(!1,2,0),co(0),o([$(),J(t.An,t.zn,[.095,.095,.095,1])],[$([0,0,0],void 0,[.5,.5,.5]),tt(t.Mn,Float32Array.from(n),Float32Array.from(i),[1,.54,0,1,.84,0])])]}function ho(t,o){return(n,i)=>{n.o.i[i]|=8,n.o.Yo[i]={qo:t,K:void 0===o,Jo:o||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}}}function vo(t){return(o,n)=>{t(o,n)}}function mo(t){return(o,n)=>{o.o.i[n]|=512,o.o.At[n]={S:t,Ct:!0,bt:null}}}function _o(t){return 1-(1-t)**4}function go(t){return t<.5?8*t**4:1-(-2*t+2)**4/2}function po(t){return(o,n)=>{let i={};for(let o in t){let{P:n,S:e=7}=t[o],r=n[n.length-1].k;i[o]={P:n.map((t=>({...t}))),S:e,W:r,I:0}}o.o.i[n]|=1,o.o.M[n]={R:i,C:i.idle}}}function yo(t,n=.2,i,e=[1,.5,0,1]){return[Q(t.Fn,t.Rn,e,0),o([$([0,.35,-.47],[.672,0,0,.74]),o([$(),Yt("tail anchor"),ho(0,[1,0,0,0,0,.096,-.995,0,0,.995,.096,0,0,.433,.395,1]),po({idle:{P:[{k:0,L:[0,0,0],V:[0,0,0,1]},{k:9,L:[0,0,0],V:[0,0,0,1]},{k:10,L:[0,-.044,.289],V:[-.288,0,0,.958],B:go},{k:15,L:[0,-.044,.289],V:[-.288,0,0,.958]},{k:16,L:[0,0,0],V:[0,0,0,1],B:go}],S:3},walk:{P:[{k:0,L:[0,0,0],V:[0,0,0,1]}]},jump:{P:[{k:0,L:[0,0,0],V:[0,0,0,1]},{k:Ti,L:[0,0,0],V:[-.131,0,0,.991],B:_o},{k:Ai,L:[0,0,0],V:[.087,0,0,.996]},{k:1,L:[0,0,0],V:[0,0,0,1],B:_o}],S:1}}),o([$([0,.46,0],[-.4,0,0,.92]),o([$(),po({idle:{P:[{k:0,V:[0,0,0,1]},{k:9,V:[0,0,0,1]},{k:10,V:[.371,0,0,.929],B:go},{k:15,V:[.371,0,0,.929]},{k:16,V:[0,0,0,1],B:go}],S:3},walk:{P:[{k:0,V:[0,0,0,1]}]},jump:{P:[{k:0,V:[0,0,0,1]}]}}),o([$(),ho(1,[1,0,0,0,0,.795,-.606,0,0,.606,.795,0,0,-.306,.251,1]),po({idle:{P:[{k:0,V:[0,.088,.116,.989],B:go},{k:5*n,V:[0,-.088,-.116,.989],B:go}]},walk:{P:[{k:0,V:[.087,0,0,.996]},{k:n,V:[0,0,0,1]}]},jump:{P:[{k:0,V:[0,0,0,1]},{k:Ti,V:[.216,0,0,.976],B:_o},{k:Ai,V:[.216,0,0,.976]},{k:1,V:[0,0,0,1],B:_o}],S:1}})])])],[$([.07,.46,0],[.74,0,0,.672]),o([$(),ho(2,[1,0,0,0,0,-1,0,0,0,-0,-1,0,-.073,.395,-.015,1]),po({idle:{P:[{k:0,V:[0,0,0,1]}]},walk:{P:[{k:0,V:[-.174,0,0,.985],bn:i},{k:n,V:[.131,0,0,.991],bn:i}]},jump:{P:[{k:0,V:[0,0,0,1]},{k:Ti,V:[-.259,0,0,.966],B:_o},{k:Ai,V:[-.259,0,0,.966]},{k:1,V:[0,0,0,1],B:_o}],S:1}})])],[$([-.07,.46,0],[.74,0,0,.672]),o([$(),ho(3,[1,0,0,0,0,-1,0,0,0,-0,-1,0,.073,.395,-.015,1]),po({idle:{P:[{k:0,V:[0,0,0,1]}]},walk:{P:[{k:0,V:[.131,0,0,.991]},{k:n,V:[-.174,0,0,.985]}]},jump:{P:[{k:0,V:[0,0,0,1]},{k:Ti,V:[-.301,0,0,.954],B:_o},{k:Ai,V:[-.301,0,0,.954]},{k:1,V:[0,0,0,1],B:_o}],S:1}})])],[$([.07,0,0],[.753,0,0,.658]),o([$(),ho(4,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,-.073,.291,-.509,1]),po({idle:{P:[{k:0,V:[0,0,0,1]},{k:9,V:[0,0,0,1]},{k:10,V:[-.492,0,0,.87],B:go},{k:15,V:[-.492,0,0,.87]},{k:16,V:[0,0,0,1],B:go}],S:3},walk:{P:[{k:0,V:[.131,0,0,.991]},{k:n,V:[-.131,0,0,.991]}]},jump:{P:[{k:0,V:[0,0,0,1]},{k:Ti,V:[.383,0,0,.924],B:_o},{k:Ai,V:[.383,0,0,.924]},{k:1,V:[0,0,0,1],B:_o}],S:1}})])],[$([-.07,0,0],[.753,0,0,.658]),o([$(),ho(5,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,.073,.291,-.509,1]),po({idle:{P:[{k:0,V:[0,0,0,1]},{k:9,V:[0,0,0,1]},{k:10,V:[-.468,0,0,.884],B:go},{k:15,V:[-.468,0,0,.884]},{k:16,V:[0,0,0,1],B:go}],S:3},walk:{P:[{k:0,V:[-.131,0,0,.991]},{k:n,V:[.131,0,0,.991]}]},jump:{P:[{k:0,V:[0,0,0,1]},{k:Ti,V:[.301,0,0,.954],B:_o},{k:Ai,V:[.301,0,0,.954]},{k:1,V:[0,0,0,1],B:_o}],S:1}})])])])])]}function wo(n,i){t(n,[(t,o)=>{t.o.i[o]|=2},mo(1),oo(3,0),fo(!0,1,6,[.6,.8,.8]),co(1,0),o([Yt("mesh anchor"),$([0,-.42,0],[0,.7,0,.7]),mo(2),o([$([0,.5,1],void 0,[.1,.1,.1]),fo(!0,0,4),mo(8)])],[Yt("camera anchor"),$([.5,.5,0],C([0,0,0,1],-10,0,0))],[Yt("pixie anchor"),$([4,1,0],[0,.7,0,.7])]),$(i)]);let e=0,r=0,a=0,l=0,s=t(n,[$([-10,0,.5]),Ot(qt(n.o,"mesh anchor"),.2),o([...yo(n),$(),mo(4)],[$(),Q(n.Fn,n.Cn,[1,.5,0,1])])]);return t(n,[$(),Ot(qt(n.o,"tail anchor"),1),o([$([0,-.2,-.05],[1,0,0,0]),Zt(null,[0,-1,0,0]),oo(0,1),vo(((t,o)=>e=o)),ho(0,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-.701,-.428,1])])]),t(n,[$(),Ot(e,.08),ho(1,[1,-0,-0,0,0,.132,.991,0,0,-.991,.132,0,-0,-1.1,-.285,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),vo(((t,o)=>r=o))])]),t(n,[$(),Ot(r,.06),ho(2,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-1.492,-.487,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),vo(((t,o)=>a=o))])]),t(n,[$(),Ot(a,.04),ho(3,[-1,-0,-0,0,0,.137,-.991,0,0,-.991,-.137,0,-0,-2.009,.214,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),vo(((t,o)=>l=o))])]),t(n,[$(),Ot(l,.02),ho(4,[-1,0,-0,0,0,-.204,-.979,0,-0,-.979,.204,0,-0,-2.224,1.021,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),vo(((t,o)=>o))])]),s}function xo(t){return[o([$([0,1.7,0],void 0,[3,3,3]),q(t.gn,t.zn,[.095,.095,.095,1])],[$([-2.25,1.7,0],void 0,[1.5,.1,3]),q(t.gn,t.zn,[.069,.154,.8,1])],[$([-.8,.1,0],void 0,[4.9,.2,3.4]),q(t.gn,t.zn,[.095,.095,.095,1])],[$([-2.814,.95,0],void 0,[.1,1.5,.1]),q(t.gn,t.zn,[.095,.095,.095,1])])]}function To(t,n=2,i=4){let e=so(.5,.9),r=lo(400,600),a=so(n,i),l=[],s=[];for(let t=0;t<r;t++)l.push(so(-e,e),so(-e,e),so(-e,e),lo(0,7)),s.push(...C([0,0,0,0],so(-90,90),so(-90,90),so(-90,90)));return[o([$([0,a/2,0],void 0,[.25,2*a,.25]),q(t.gn,t.pn,[.8,.2,.2,1])],[$([0,a,0]),tt(t.In,Float32Array.from(l),Float32Array.from(s),zi)])]}function Ao(t){let o=so(.5,.9),n=lo(400,600),i=[],e=[];for(let t=0;t<n;t++)i.push(so(-o,o),so(-o,o),so(-o,o),lo(0,7)),e.push(...C([0,0,0,0],so(-90,90),so(-90,90),so(-90,90)));return[tt(t.In,Float32Array.from(i),Float32Array.from(e),zi)]}function zo(t){return[o([$([0,2,0],void 0,[.5,8,.5]),q(t.gn,t.pn,[.119,.027,.012,1])],[$([0,3.705,-.125],void 0,[1.5,.225,.1]),q(t.gn,t.zn,[.119,.027,.012,1])],[$([0,3.705,.125],void 0,[1.5,.225,.1]),q(t.gn,t.zn,[.119,.027,.012,1])],[$([0,3.164,-.125],void 0,[1.5,.225,.1]),q(t.gn,t.zn,[.119,.027,.012,1])],[$([.65,3.875,-.125],void 0,[.2,.3,.2]),q(t.gn,t.pn,[.367,.367,.367,1])],[$([.5,3.875,-.125],void 0,[.2,.3,.2]),q(t.gn,t.pn,[.367,.367,.367,1])],[$([.65,3.35,-.125],void 0,[.2,.3,.2]),q(t.gn,t.pn,[.367,.367,.367,1])],[$([.5,3.35,-.125],void 0,[.2,.3,.2]),q(t.gn,t.pn,[.367,.367,.367,1])],[$([-.17,2.88,-.12],[0,0,-.383,.924],[.6,.1,.025]),q(t.gn,t.zn,[.367,.367,.367,1])],[$([-.5,3.875,.125],void 0,[.2,.3,.2]),q(t.gn,t.pn,[.367,.367,.367,1])],[$([-.65,3.875,.125],void 0,[.2,.3,.2]),q(t.gn,t.pn,[.367,.367,.367,1])])]}function Mo(t){return[o([$(),...xo(t)],[$([0,1.7,0],void 0,[3,3,3]),fo(!0,4,6),co(0)],[$([-2.25,1.7,0],void 0,[1.5,.1,3]),fo(!0,4,6),co(0)],[$([-.8,.1,0],void 0,[4.9,.2,3.4]),fo(!0,4,6),co(0)])]}function Fo(t){return[o([$([0,.8,0],void 0,[4,1,2]),q(t.gn,t.zn,[.8,.024,.016,1])],[$([1.276,.5,0],[.707,0,0,.707],[2,4.4,2]),q(t.gn,t.pn,[0,0,0,1])],[$([-1.1,.5,0],[.707,0,0,.707],[2,4.4,2]),q(t.gn,t.pn,[0,0,0,1])],[$([-.5,2,.9],void 0,[.2,1.4,.2]),q(t.gn,t.zn,[.8,.024,.016,1])],[$([-.5,2,-.9],void 0,[.2,1.4,.2]),q(t.gn,t.zn,[.8,.024,.016,1])],[$([1.9,2,.9],void 0,[.2,1.4,.2]),q(t.gn,t.zn,[.8,.024,.016,1])],[$([1.9,2,-.9],void 0,[.2,1.4,.2]),q(t.gn,t.zn,[.8,.024,.016,1])],[$([.7,2.8,0],void 0,[2.6,.2,2]),q(t.gn,t.zn,[.8,.024,.016,1])],[$([-2,1,-.6],[.5,.5,-.5,.5],[.8,.4,.8]),q(t.gn,t.pn,[.8,.784,.019,1])],[$([-2,1,.6],[.5,.5,-.5,.5],[.8,.4,.8]),q(t.gn,t.pn,[.8,.784,.019,1])],[$([.264,1.55,.55],void 0,[.2,.5,.8]),q(t.gn,t.zn,[0,0,0,1])],[$([.264,1.55,-.55],void 0,[.2,.5,.8]),q(t.gn,t.zn,[0,0,0,1])])]}function Ro(t){return[fo(!0,4,6,[4,1,2]),co(0),...Fo(t)]}function bo(t){return[o([$(void 0,void 0,void 0),q(t.gn,t.zn,[.342,.17,.035,1])],[$([.171,.62,0],[0,0,.574,.819],[.039,.7,1]),q(t.gn,t.zn,[.342,.17,.035,1])],[$([-.293,.536,0],[0,0,-.643,.766],[.039,.42,1]),q(t.gn,t.zn,[.342,.17,.035,1])])]}function Co(t){return[fo(!0,4,6),co(1),Ot(0),to(16384),...bo(t)]}function Io(n){n.o=new yi,n.Sn=!0,function(o){t(o,[$(void 0,C([0,0,0,1],0,90,0)),...ro(o)]),t(o,[$([-4,-.5,1.767],[0,.707,0,.707],[4,2.003,20]),...uo(o)]),t(o,[$([14.662,-.498,1.767],[0,.707,0,.707],[4,2.003,13]),...uo(o)]),t(o,[$([22.326,-1.477,1.767],[0,.707,0,.707],[4,2.003,2.349]),...uo(o)]),t(o,[$([28.13,.522,1.767],[0,.707,0,.707],[4,2.003,7.047]),...uo(o)]),t(o,[$([6.267,0,-5.233],[0,.707,0,.707],[10,1,40]),...uo(o)]),wo(o,[-6.258,.774,.343]),t(o,[$([10.595,-3.406,-6.05],C([0,0,0,1],0,90,0),[5,10,10]),J(o.An,o.Cn,[.5,.5,.5,1])]),t(o,[$([22.619,-2.849,-5.884],C([0,0,0,1],0,90,0),[5,10,10]),J(o.An,o.Cn,[.5,.5,.5,1])]),t(o,[$([33.788,-8.323,-6.71],C([0,0,0,1],0,90,0),[12,22,8]),J(o.An,o.Cn,[.5,.5,.5,1])]),t(o,[$([1.388,.5,-2.177],void 0,void 0),...xo(o)]),t(o,[$([7.88,.5,-3.146],[0,-.986,0,.166],void 0),...xo(o)]),t(o,[$([-1.721,.718,1.61],void 0,void 0),...Ao(o)]),t(o,[$([8.712,.385,2.999],void 0,void 0),...Ao(o)]),t(o,[$([-5.891,.238,-3.08],void 0,void 0),...Ao(o)]),t(o,[$([3.088,2.125,-.889],void 0,void 0),...Ao(o)]),t(o,[$([7.376,3.166,-1.898],void 0,void 0),...Ao(o)]),t(o,[$([-10.963,.687,2.061],void 0,void 0),...Ao(o)]),t(o,[$([-3.763,.109,-2.479],void 0,void 0),...zo(o)]),t(o,[$([-7.066,4.323,-4.943],void 0,[.2,.2,.2]),...zo(o)]),t(o,[$([-11.119,3.776,-5.088],void 0,[.15,.15,.15]),...zo(o)]),t(o,[$([-1.829,.492,-3.043],void 0,void 0),...Ao(o)]),t(o,[$([35.227,.109,3.529],void 0,void 0),...zo(o)]),t(o,[$([17.402,.109,-4.834],void 0,void 0),...zo(o)]),t(o,[$([20.492,.93,-1.49],void 0,void 0),...Ao(o)]),t(o,[$([14.841,6.84,-4.943],void 0,[.2,.2,.2]),...zo(o)]),t(o,[$([-9.599,.481,-5.351],void 0,void 0),...To(o)]),t(o,[$([5.231,4.852,-4.921],void 0,[.25,.25,.25]),...To(o)]),t(o,[$([14.157,.481,-2.192],void 0,void 0),...To(o)]),t(o,[$([22.052,.481,-2.192],void 0,void 0),...To(o)]),t(o,[$([23.878,.075,-2.767],void 0,void 0),...To(o)]),t(o,[$([26.067,.258,-1.865],void 0,void 0),...To(o)]),t(o,[$([24.574,.258,-3.404],void 0,void 0),...To(o)]),t(o,[$([25.149,.258,-1.274],void 0,void 0),...To(o)]),t(o,[$([23.034,.258,-.512],void 0,void 0),...To(o)]),t(o,[$([22.366,.258,-3.949],void 0,void 0),...To(o)]),t(o,[$([25.336,.258,-4.431],void 0,void 0),...To(o)]),t(o,[$([25.896,.258,-3.062],void 0,void 0),...To(o)]),t(o,[$([21.697,.258,-1.258],void 0,void 0),...To(o)]),t(o,[$([21.386,.258,-3.684],void 0,void 0),...To(o)]),t(o,[$([23.765,.258,-4.244],void 0,void 0),...To(o)]),t(o,[$([24.123,.258,-1.927],void 0,void 0),...To(o)]),t(o,[$([14.777,.258,-2.953],void 0,void 0),...To(o)]),t(o,[$([15.99,.258,-2.533],void 0,void 0),...To(o)]),t(o,[$([17.281,.258,-3.373],void 0,void 0),...To(o)]),t(o,[$([24.597,.743,-.826],void 0,void 0),...Ao(o)]),t(o,[$([22.628,.386,-3.539],void 0,void 0),...Ao(o)]),t(o,[$([1.388,.5,1.141],void 0,void 0),...Mo(o)]),t(o,[$([1.282,.677,2.333],void 0,void 0),...Ao(o)]),t(o,[$([5.114,.109,-2.479],void 0,void 0),...zo(o)]),t(o,[$([-10.396,.5,1.725],[0,.938,0,.345],void 0),...Ro(o)]),t(o,[$([-2.607,1,.922],[-.147,.684,.7,.144],[.4,.4,.4]),...Ro(o)]),t(o,[$([4.012,.109,3.49],void 0,void 0),...zo(o)]),t(o,[$([6.179,.385,-.591],void 0,void 0),...Ao(o)]),t(o,[$([7.733,.385,-.679],void 0,void 0),...Ao(o)]),t(o,[$([19.491,.5,1.141],void 0,void 0),...Mo(o)]),t(o,[$([10.554,.975,.813],void 0,void 0),...Co(o)]),t(o,[$([15.51,1,-2.033],[-.442,.55,.563,.431],[.4,.4,.4]),...Fo(o)]),t(o,[$([10.983,.481,-2.395],void 0,void 0),...To(o)]),t(o,[$([12.283,.481,-1.398],void 0,void 0),...To(o)]),t(o,[$([16.119,.93,-1.457],void 0,void 0),...Ao(o)]),t(o,[$([12.823,.481,3.414],void 0,void 0),...To(o)]),t(o,[$([14.934,.481,3.65],void 0,void 0),...To(o)]),t(o,[$([15.457,.481,3.312],void 0,void 0),...To(o)]),t(o,[$([28.12,1.185,.794],void 0,void 0),...zo(o)]),t(o,[$([19.685,4.091,.813],void 0,void 0),...Co(o)])}(n),t(n,[...no(n),$([-9,7,-3],C([0,0,0,1],-45,100,0))]);let i=t(n,[...jt(0,[145/255,85/255,61/255,1]),$([-6.2,10,0],C([0,0,0,1],10,0,0)),Ot(qt(n.o,"camera anchor"),.01),to(16384)]);t(n,[o([io(5,(()=>{n.o.i[i]|=16384}))],[io(7,(()=>{t(n,[...Qt(n),$([-20,5,0])])}))]),io(9,(()=>{n.o.St[i].vn=.05}))])}function So(t){return[o([$([0,1,0],void 0,[3,2,3]),q(t.gn,t.zn,[.406,0,0,1])],[$([0,2,0],[.707,0,0,.707],[6,6,5.98]),q(t.gn,t.pn,[.406,0,0,1])],[$([-1.5,1,-1.5],void 0,[.1,2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-1.5,1,1.5],void 0,[.1,2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([1.5,1,-1.5],void 0,[.1,2,.1]),q(t.gn,t.zn,[0,0,0,1])],[$([1.5,1,1.5],void 0,[.1,2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,2,1.49],void 0,[3.099,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,2,-1.5],void 0,[3.099,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([1.5,2,-.001],[0,.707,0,.707],[3.099,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-1.498,2,-.001],[0,.707,0,.707],[3.099,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-1.28,2.524,1.49],[0,0,.547,.837],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-1.28,2.524,-1.494],[0,0,.547,.837],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([1.273,2.524,1.49],[0,0,-.547,.837],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([1.273,2.524,-1.524],[0,0,-.547,.837],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([.507,3.274,-1.524],[0,0,-.191,.982],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([.507,3.274,1.527],[0,0,-.191,.982],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-.521,3.274,1.527],[0,0,.191,.982],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-.521,3.274,-1.525],[0,0,.191,.982],[1.159,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,1.5,1.6],void 0,[1.8,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([.854,.7,1.6],[0,0,-.707,.707],[1.5,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-.85,.7,1.6],[0,0,-.707,.707],[1.5,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,.7,1.59],[0,0,-.383,.924],[2.2,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,.7,1.58],[0,0,.383,.924],[2.2,.1,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([-1.247,2.524,-.011],[0,0,.547,.837],[1.159,.1,2.99]),q(t.gn,t.zn,[.07,.07,.07,1])],[$([1.242,2.524,-.011],[0,0,-.547,.837],[1.159,.1,2.99]),q(t.gn,t.zn,[.07,.07,.07,1])],[$([.508,3.242,-.011],[0,0,-.191,.982],[1.159,.1,2.99]),q(t.gn,t.zn,[.07,.07,.07,1])],[$([-.515,3.242,-.011],[0,0,.191,.982],[1.159,.1,2.99]),q(t.gn,t.zn,[.07,.07,.07,1])])]}function Po(t){return[o([$([0,.6,0],void 0,[.1,1.2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,1.21,.5],[.707,0,0,.707],[.1,2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,.6,1],void 0,[.1,1.2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,.8,.5],[.707,0,0,.707],[.1,2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])],[$([0,.4,.5],[.707,0,0,.707],[.1,2,.1]),q(t.gn,t.zn,[.8,.8,.8,1])])]}function ko(t){return[o([$([0,3,0],void 0,[5,12,5]),q(t.gn,t.pn,[.406,0,0,1])],[$([0,.001,0],void 0,[5.2,.4,5.2]),q(t.gn,t.pn,[.8,.8,.8,1])],[$([0,6,0],void 0,[5.2,.4,5.2]),q(t.gn,t.pn,[.8,.8,.8,1])],[$([0,3,0],void 0,[5.2,.4,5.2]),q(t.gn,t.pn,[.8,.8,.8,1])],[$([0,1.5,0],void 0,[5.2,.4,5.2]),q(t.gn,t.pn,[.8,.8,.8,1])],[$([0,4.5,0],void 0,[5.2,.4,5.2]),q(t.gn,t.pn,[.8,.8,.8,1])],[$([.527,3,1.595],void 0,[.8,12,.8]),q(t.gn,t.pn,[.8,.8,.8,1])])]}function Bo(t){return[o([$([0,0,0],C([0,0,0,1],0,-90,0),[5,60,20]),Zt([0,0,1],null),(t,o)=>{t.o.i[o]|=256,t.o.ht[o]={Animation:"walk"}},oo(.5,.5),...yo(t,10,void 0,[.8,.2,.2,1])])]}const Eo=35044,Lo=34962,Ko=34963,Vo=2304,Do=9729,Wo=3553,No=36160,Xo=5123,Ho=5126,Go=document.getElementById("update"),$o=document.getElementById("delta"),jo=document.getElementById("fps"),Uo=1/60;let Oo=Float32Array.from([-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5]),Yo=Float32Array.from([-1,0,0,0,-1,0,0,0,1,-1,0,0,0,0,1,0,1,0,-1,0,0,0,-1,0,0,0,-1,-1,0,0,0,0,-1,0,1,0,0,-1,0,0,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,-1,0,0,0,-1,1,0,0,0,0,-1,0,1,0,1,0,0]),qo=Float32Array.from([]),Jo=Float32Array.from([]),Qo=Uint16Array.from([16,5,22,5,11,22,1,12,7,12,18,7,2,4,13,4,15,13,14,17,20,17,23,20,19,21,8,21,10,8,6,9,0,9,3,0]),Zo=Float32Array.from([0,-.25,-.25,0,.25,-.25,.177,-.25,-.177,.177,.25,-.177,.25,-.25,0,.25,.25,0,.177,-.25,.177,.177,.25,.177,-0,-.25,.25,-0,.25,.25,-.177,-.25,.177,-.177,.25,.177,-.25,-.25,-0,-.25,.25,-0,-.177,-.25,-.177,-.177,.25,-.177]),tn=Float32Array.from([0,-.63,-.776,0,.63,-.776,.549,-.63,-.549,.549,.63,-.549,.776,-.63,0,.776,.63,0,.549,-.63,.549,.549,.63,.549,0,-.63,.776,0,.63,.776,-.549,-.63,.549,-.549,.63,.549,-.776,-.63,0,-.776,.63,0,-.549,-.63,-.549,-.549,.63,-.549]),on=Float32Array.from([]),nn=Float32Array.from([]),en=Uint16Array.from([14,10,6,6,2,14,14,12,10,10,8,6,6,4,2,2,0,14,0,1,14,1,15,14,14,15,12,15,13,12,5,9,13,13,1,5,5,7,9,9,11,13,13,15,1,1,3,5,12,13,10,13,11,10,10,11,8,11,9,8,8,9,6,9,7,6,6,7,4,7,5,4,4,5,2,5,3,2,2,3,0,3,1,0]),rn=Float32Array.from([-.009,.009,.001,0,-.422,.012,0,.405,.119,.008,.008,.001]),an=Float32Array.from([-.001,-.138,.99,.01,.025,1,-.01,-.285,.959,0,-.125,.992]),ln=Float32Array.from([]),sn=Float32Array.from([]),fn=Uint16Array.from([3,1,0,2,3,0]),cn=Float32Array.from([-.12,.016,.12,.04,0,.04,-.05,0,-.05,.13,.022,-.13]),un=Float32Array.from([.066,.996,-.066,-.01,1,.01,-.01,1,.01,-.084,.993,.084]),dn=Float32Array.from([]),hn=Float32Array.from([]),vn=Uint16Array.from([2,3,1,0,2,1]),mn=Float32Array.from([.147,.44,.021,.073,-0,-.008,.132,.234,-.28,.088,.409,-.55,.073,-.001,-.521,.103,.688,.168,.176,.893,.08,-.147,.44,.021,0,.482,-.037,0,.219,-.012,-.073,-0,-.008,-.132,.234,-.28,0,.219,-.53,-.088,.409,-.55,0,.432,-.585,-.073,-.001,-.521,-.103,.688,.168,0,.571,.373,-.176,.893,.08,0,.746,.168]),_n=Float32Array.from([.997,.009,.083,-.007,-.962,.275,.797,-.599,-.074,.688,.428,-.586,.035,-.971,-.235,.726,.191,.661,.417,.903,-.104,-.997,.009,.083,0,.785,-.62,0,-.59,.807,.007,-.962,.275,-.797,-.599,-.074,0,-.472,-.882,-.688,.428,-.586,0,.571,-.821,-.035,-.971,-.235,-.726,.191,.661,0,-.039,.999,-.417,.903,-.104,0,.932,.363]),gn=Float32Array.from([]),pn=Float32Array.from([2,.918,1,.082,2,1,0,0,4,.5,2,.5,4,.907,0,.093,4,1,0,0,1,.893,2,.107,1,1,0,0,3,.918,1,.082,1,1,0,0,2,.5,3,.5,3,1,0,0,5,.5,3,.5,0,1,0,0,5,.907,0,.093,0,1,0,0,5,1,0,0,1,.893,3,.107,1,1,0,0,1,1,0,0,1,1,0,0]),yn=Uint16Array.from([18,19,16,19,17,16,7,13,8,16,17,7,19,18,8,8,18,7,7,17,9,7,18,16,12,11,9,11,15,13,12,15,11,12,14,13,13,15,12,11,13,7,13,14,8,9,10,7,11,10,9,7,10,11,19,6,5,17,19,5,3,0,8,17,5,0,6,19,8,6,8,0,17,0,9,6,0,5,2,12,9,4,2,3,4,12,2,14,12,3,4,3,12,3,2,0,14,3,8,1,9,0,1,2,9,1,0,2]),wn=Float32Array.from([-.111,.575,-.859,-0,.384,-.481,-0,.251,-.862,.131,.518,-.819,-.152,.634,-1.248,-.008,.196,-1.3,.216,.518,-1.191,-.247,.793,-1.762,-0,.141,-1.608,.242,.549,-1.756,-.208,.738,-2.194,-0,.234,-2.101,.167,.495,-2.202,-.076,.65,-2.622,-0,.376,-2.482,.137,.502,-2.539,-.038,.426,-2.917]),xn=Float32Array.from([-.701,.652,.289,-.03,-.161,.986,-.097,-.964,.248,.848,.425,.317,-.708,.678,.198,-.131,-.98,.148,.94,.301,.159,-.662,.749,-.02,-.089,-.996,.005,.956,.294,-.017,-.643,.705,-.298,-.11,-.97,-.215,.976,.155,-.154,-.456,.779,-.431,-.203,-.949,-.242,.966,.102,-.237,-.139,-.245,-.96]),Tn=Float32Array.from([]),An=Float32Array.from([0,.933,1,.067,0,1,0,0,0,.946,1,.054,0,.953,1,.047,1,.942,2,.058,1,.877,2,.123,1,.97,2,.03,2,.858,3,.142,2,.911,3,.089,2,.932,3,.068,3,.917,4,.083,3,.937,4,.063,3,.945,4,.055,4,.983,3,.017,4,.917,3,.083,4,.956,3,.044,4,1,0,0]),zn=Uint16Array.from([16,15,13,16,14,15,16,13,14,13,15,10,15,12,10,15,14,12,14,11,12,14,13,11,13,10,11,12,11,9,11,8,9,11,10,8,10,7,8,8,7,5,7,4,5,7,9,4,9,6,4,10,12,7,12,9,7,6,5,3,5,2,3,5,4,2,4,0,2,4,6,0,6,3,0,9,8,6,8,5,6,1,0,3,1,3,2,2,0,1]),Mn=Float32Array.from([-.5,0,.5,.5,0,.5,-.5,0,-.5,.5,0,-.5]),Fn=Float32Array.from([0,1,0,0,1,0,0,1,0,0,1,0]),Rn=Float32Array.from([]),bn=Float32Array.from([]),Cn=Uint16Array.from([2,3,0,3,1,0]);const In=Math.PI/180,Sn=8388609,Pn=8388610;let kn,Bn=[0,0,0],En=[0,0,0],Ln=[0,0,0];const Kn=8388612,Vn=[0,0,0],Dn=[0,0,0],Wn=8388624,Nn=[[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5],[-.5,-.5,.5]],Xn=8388672,Hn=8388864,Gn=8421504,$n=[0,0];let jn=0;const Un=new WeakMap,On=new WeakMap,Yn=new WeakMap,qn=8389632,Jn=8396800;let Qn=[0,0,0];const Zn=8404992,ti=8421376,oi=[0,0,0,1],ni=8390656;let ii=[0,0,0],ei=[0,0,0];const ri=8650752,ai=8650752,li=8650816;let si=[0,0,0];const fi=2097152,ci=8519680,ui=8519680,di=new Float32Array(96),hi=8912896,vi=9437184,mi=4194304,_i=8388608,gi=25165888;let pi;class yi extends class{constructor(){this.i=[],this.Pn=[]}t(){return this.Pn.length>0?this.Pn.pop():this.i.push(0)-1}u(t){this.i[t]=0,this.Pn.push(t)}}{constructor(){super(...arguments),this.M=[],this.N=[],this.Yo=[],this.Oo=[],this.l=[],this.It=[],this.vt=[],this.ht=[],this.At=[],this.kn=[],this.Ao=[],this.do=[],this.mo=[],this.St=[],this._t=[],this.mn=[],this.Nt=[],this.Mt=[],this.nn=[],this.rn=[],this.yn=[],this.sn=[],this.A=[],this.F=[]}}let wi={G:1,U:[{Y:[8,"lowpass",9,8,!1,!1,8,1,[[!1,8,5,0,9]]],O:[77]}],X:.1},xi=1;const Ti=.2,Ai=.6000000000000001,zi=[0,1,0,0,.36,0,0,.5,0,.48,.98,0,1,.84,0,1,.54,0,.84,.21,.21];let Mi=new class extends class extends class{constructor(){this.Bn=0,this.En=0,this.Vo=window.innerWidth,this.Do=window.innerHeight,this.Sn=!0,this.zt={MouseX:0,MouseY:0},this.kt={MouseX:0,MouseY:0},this.Ln={Mouse:0,Mouse0:0,Mouse1:0,Mouse2:0,Touch0:0,Touch1:0},this.Kn={},this.dn=document.querySelector("main"),document.addEventListener("visibilitychange",(()=>document.hidden?this.Vn():this.Dn())),this.dn.addEventListener("contextmenu",(t=>t.preventDefault())),this.dn.addEventListener("mousedown",(t=>{this.zt["Mouse"+t.button]=1,this.kt["Mouse"+t.button]=1})),this.dn.addEventListener("mouseup",(t=>{this.zt["Mouse"+t.button]=0,this.kt["Mouse"+t.button]=-1})),this.dn.addEventListener("mousemove",(t=>{this.zt.MouseX=t.clientX,this.zt.MouseY=t.clientY,this.kt.MouseX=t.movementX,this.kt.MouseY=t.movementY})),this.dn.addEventListener("wheel",(t=>{t.preventDefault(),this.kt.WheelY=t.deltaY})),this.dn.addEventListener("touchstart",(t=>{t.preventDefault(),1===t.touches.length&&(this.Kn={});for(let o=0;o<t.touches.length;o++)this.Kn[t.touches[o].identifier]=o;for(let o=0;o<t.changedTouches.length;o++){let n=t.changedTouches[o],i=this.Kn[n.identifier];this.zt["Touch"+i]=1,this.zt[`Touch${i}X`]=n.clientX,this.zt[`Touch${i}Y`]=n.clientY,this.kt["Touch"+i]=1,this.kt[`Touch${i}X`]=0,this.kt[`Touch${i}Y`]=0}})),this.dn.addEventListener("touchmove",(t=>{t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let n=t.changedTouches[o],i=this.Kn[n.identifier];this.kt[`Touch${i}X`]=n.clientX-this.zt[`Touch${i}X`],this.kt[`Touch${i}Y`]=n.clientY-this.zt[`Touch${i}Y`],this.zt[`Touch${i}X`]=n.clientX,this.zt[`Touch${i}Y`]=n.clientY}})),this.dn.addEventListener("touchend",(t=>{t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let n=this.Kn[t.changedTouches[o].identifier];this.zt["Touch"+n]=0,this.kt["Touch"+n]=-1}})),this.dn.addEventListener("touchcancel",(t=>{t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let n=this.Kn[t.changedTouches[o].identifier];this.zt["Touch"+n]=0,this.kt["Touch"+n]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.zt[t.code]=1,this.kt[t.code]=1)})),window.addEventListener("keyup",(t=>{this.zt[t.code]=0,this.kt[t.code]=-1}))}Dn(){let t=0,o=performance.now(),n=i=>{let e=(i-o)/1e3;for(this.Wn(e),t+=e;t>=Uo;)t-=Uo,this.Nn(Uo);this.Xn(e),this.Hn(e),o=i,this.Bn=requestAnimationFrame(n)};this.Vn(),n(o)}Vn(){cancelAnimationFrame(this.Bn),this.Bn=0}Wn(t){this.En=performance.now();let o=Math.abs(this.kt.MouseX)+Math.abs(this.kt.MouseY);this.Ln.Mouse+=o,1===this.zt.Mouse0&&(this.Ln.Mouse0+=o),1===this.zt.Mouse1&&(this.Ln.Mouse1+=o),1===this.zt.Mouse2&&(this.Ln.Mouse2+=o),1===this.zt.Touch0&&(this.Ln.Touch0+=Math.abs(this.kt.Touch0X)+Math.abs(this.kt.Touch0Y)),1===this.zt.Touch1&&(this.Ln.Touch1+=Math.abs(this.kt.Touch1X)+Math.abs(this.kt.Touch1Y))}Nn(t){}Xn(t){}Hn(t){this.Sn=!1,-1===this.kt.Mouse0&&(this.Ln.Mouse0=0),-1===this.kt.Mouse1&&(this.Ln.Mouse1=0),-1===this.kt.Mouse2&&(this.Ln.Mouse2=0),-1===this.kt.Touch0&&(this.Ln.Touch0=0),-1===this.kt.Touch1&&(this.Ln.Touch1=0);for(let t in this.kt)this.kt[t]=0;let o=performance.now()-this.En;Go&&(Go.textContent=o.toFixed(1)),$o&&($o.textContent=(1e3*t).toFixed(1)),jo&&(jo.textContent=(1/t).toFixed())}}{constructor(){super(),this.Gn=document.querySelector("#billboard"),this.so=this.Gn.getContext("2d"),this.$n=document.querySelector("#scene"),this.Bt=this.$n.getContext("webgl2"),this.Audio=new AudioContext,this.Bt.enable(2929),this.Bt.enable(2884)}}{constructor(){super(...arguments),this.o=new yi,this.jn=function(t,o=4){let n=s(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec3 attr_position;\n\nvoid main() {\ngl_Position = pv * world * vec4(attr_position, 1.0);\n}\n","#version 300 es\n\nprecision mediump float;\n\nuniform vec4 color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = color;\n}\n");return{Eo:o,Po:n,Kt:{Bo:t.getUniformLocation(n,"pv"),o:t.getUniformLocation(n,"world"),uo:t.getUniformLocation(n,"color"),Lt:t.getAttribLocation(n,"attr_position")}}}(this.Bt,2),this.gn=function(t){let o=s(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\n\nin vec3 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nvoid main() {\nvert_position = world * vec4(attr_position, 1.0);\nvert_normal = (vec4(attr_normal, 1.0) * self).xyz;\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\nconst float bands = 2.0;\nfloat posterize(float factor) {\nreturn floor(factor * bands) / bands;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.3;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * light_color * posterize(diffuse_factor * light_intensity);\n\nif (shininess > 0.0) {\n\n\n\n\n\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, world_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * light_color * posterize(specular_factor * light_intensity);\n}\n}\n}\n\nfrag_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(view_dir);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{Eo:4,Po:o,Kt:{Bo:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),jt:t.getUniformLocation(o,"diffuse_color"),Ut:t.getUniformLocation(o,"specular_color"),Ot:t.getUniformLocation(o,"shininess"),Wo:t.getUniformLocation(o,"eye"),_o:t.getUniformLocation(o,"light_positions"),po:t.getUniformLocation(o,"light_details"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Lt:t.getAttribLocation(o,"attr_position"),Dt:t.getAttribLocation(o,"attr_normal")}}}(this.Bt),this.An=function(t){let o=s(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\n\nin vec3 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nvoid main() {\nvert_position = world * vec4(attr_position, 1.0);\nvert_normal = (vec4(attr_normal, 1.0) * self).xyz;\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\nprecision lowp sampler2DShadow;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform mat4 shadow_space;\nuniform sampler2DShadow shadow_map;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\n\n\nfloat shadow_factor(vec4 world_pos, float min) {\nvec4 shadow_space_pos = shadow_space * world_pos;\nvec3 shadow_space_ndc = shadow_space_pos.xyz / shadow_space_pos.w;\n\nshadow_space_ndc = shadow_space_ndc * 0.5 + 0.5;\n\n\nshadow_space_ndc.z -= 0.001;\n\nreturn texture(shadow_map, shadow_space_ndc) * (1.0 - min) + min;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * diffuse_factor * light_color * light_intensity;\n\nif (shininess > 0.0) {\n\n\n\n\n\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, world_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * specular_factor * light_color * light_intensity;\n}\n}\n}\n\nvec3 shaded_rgb = light_acc * shadow_factor(vert_position, 0.5);\nfrag_color= vec4(shaded_rgb, 1.0);\n\nfloat eye_distance = length(view_dir);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{Eo:4,Po:o,Kt:{Bo:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),jt:t.getUniformLocation(o,"diffuse_color"),Ut:t.getUniformLocation(o,"specular_color"),Ot:t.getUniformLocation(o,"shininess"),Wo:t.getUniformLocation(o,"eye"),_o:t.getUniformLocation(o,"light_positions"),po:t.getUniformLocation(o,"light_details"),Uo:t.getUniformLocation(o,"shadow_space"),jo:t.getUniformLocation(o,"shadow_map"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Lt:t.getAttribLocation(o,"attr_position"),Dt:t.getAttribLocation(o,"attr_normal")}}}(this.Bt),this.Fn=function(t){let o=s(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform mat4 bones[6];\n\nin vec3 attr_position;\nin vec3 attr_normal;\nin vec4 attr_weights;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nmat4 world_weighted(vec4 weights) {\nreturn weights[1] * bones[int(weights[0])] + weights[3] * bones[int(weights[2])];\n}\n\nvoid main() {\nmat4 bone_world = world_weighted(attr_weights);\nvert_position = bone_world * vec4(attr_position, 1.0);\nvert_normal = normalize(mat3(bone_world) * attr_normal);\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\nconst float bands = 2.0;\nfloat posterize(float factor) {\nreturn floor(factor * bands) / bands;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.5;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * light_color * posterize(diffuse_factor * light_intensity);\n\nif (shininess > 0.0) {\n\n\n\n\n\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, world_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * light_color * posterize(specular_factor * light_intensity);\n}\n}\n}\n\nfrag_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(view_dir);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{Eo:4,Po:o,Kt:{Bo:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),jt:t.getUniformLocation(o,"diffuse_color"),Ut:t.getUniformLocation(o,"specular_color"),Ot:t.getUniformLocation(o,"shininess"),Wo:t.getUniformLocation(o,"eye"),_o:t.getUniformLocation(o,"light_positions"),po:t.getUniformLocation(o,"light_details"),Lt:t.getAttribLocation(o,"attr_position"),Dt:t.getAttribLocation(o,"attr_normal"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Qo:t.getUniformLocation(o,"bones"),qt:t.getAttribLocation(o,"attr_weights")}}}(this.Bt),this.Jt=function(t){let o=s(t,"#version 300 es\n\nuniform mat4 pv;\nuniform vec4 color_start;\nuniform vec4 color_end;\n\nuniform vec4 details;\n\n\nin vec4 attr_origin_age;\nin vec3 attr_direction;\n\nout vec4 vert_color;\n\nvoid main() {\n\nvec3 velocity = attr_direction * details.y;\ngl_Position = pv * vec4(attr_origin_age.xyz + velocity * attr_origin_age.w, 1.0);\n\n\nfloat t = attr_origin_age.w / details.x;\ngl_PointSize = mix(details.z, details.w, t);\nvert_color = mix(color_start, color_end, t);\n}\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n");return{Eo:0,Po:o,Kt:{Bo:t.getUniformLocation(o,"pv"),Qt:t.getUniformLocation(o,"color_start"),Zt:t.getUniformLocation(o,"color_end"),Zo:t.getUniformLocation(o,"details"),on:t.getAttribLocation(o,"attr_origin_age"),gt:t.getAttribLocation(o,"attr_direction")}}}(this.Bt),this.ko=function(t){let o=s(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec3 attr_position;\n\nvoid main() {\ngl_Position = pv * world * vec4(attr_position, 1.0);\n}\n","#version 300 es\n\nprecision mediump float;\n\nout vec4 frag_color;\n\nvoid main() {\n\nfloat z = gl_FragCoord.z * 10.0;\nfrag_color = vec4(z, z, z, 1.0);\n}\n");return{Eo:4,Po:o,Kt:{Bo:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),Lt:t.getAttribLocation(o,"attr_position")}}}(this.Bt),this.Ko=function(t){let o=s(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec3 attr_position;\nin vec4 attr_offset;\nin vec4 attr_rotation;\n\nvoid main() {\nfloat x = attr_rotation.x;\nfloat y = attr_rotation.y;\nfloat z = attr_rotation.z;\nfloat w = attr_rotation.w;\n\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat yx = y * x2;\nfloat yy = y * y2;\nfloat zx = z * x2;\nfloat zy = z * y2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\n\nfloat m0 = 1.0 - yy - zz;\nfloat m1 = yx + wz;\nfloat m2 = zx - wy;\nfloat m3 = 0.0;\nfloat m4 = yx - wz;\nfloat m5 = 1.0 - xx - zz;\nfloat m6 = zy + wx;\nfloat m7 = 0.0;\nfloat m8 = zx + wy;\nfloat m9 = zy - wx;\nfloat m10 = 1.0 - xx - yy;\nfloat m11 = 0.0;\nfloat m12 = 0.0;\nfloat m13 = 0.0;\nfloat m14 = 0.0;\nfloat m15 = 1.0;\n\nmat4 rotation = mat4(\nm0, m1, m2, m3,\nm4, m5, m6, m7,\nm8, m9, m10, m11,\nm12, m13, m14, m15\n);\n\nvec4 world_position = world * rotation * vec4(attr_position + attr_offset.xyz, 1.0);\ngl_Position = pv * world_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\nout vec4 frag_color;\n\nvoid main() {\n\nfloat z = gl_FragCoord.z * 10.0;\nfrag_color = vec4(z, z, z, 1.0);\n}\n");return{Eo:4,Po:o,Kt:{Bo:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),Lt:t.getAttribLocation(o,"attr_position"),no:t.getAttribLocation(o,"attr_offset"),io:t.getAttribLocation(o,"attr_rotation")}}}(this.Bt),this.oo=function(t){let o=s(t,"#version 300 es\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform vec3 palette[16];\n\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\n\nuniform vec3 eye;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec3 attr_position;\nin vec3 attr_normal;\nin vec4 attr_offset;\nin vec4 attr_rotation;\n\nout vec4 vert_color;\n\nvoid main() {\nfloat x = attr_rotation.x;\nfloat y = attr_rotation.y;\nfloat z = attr_rotation.z;\nfloat w = attr_rotation.w;\n\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat yx = y * x2;\nfloat yy = y * y2;\nfloat zx = z * x2;\nfloat zy = z * y2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\n\nfloat m0 = 1.0 - yy - zz;\nfloat m1 = yx + wz;\nfloat m2 = zx - wy;\nfloat m3 = 0.0;\nfloat m4 = yx - wz;\nfloat m5 = 1.0 - xx - zz;\nfloat m6 = zy + wx;\nfloat m7 = 0.0;\nfloat m8 = zx + wy;\nfloat m9 = zy - wx;\nfloat m10 = 1.0 - xx - yy;\nfloat m11 = 0.0;\nfloat m12 = 0.0;\nfloat m13 = 0.0;\nfloat m14 = 0.0;\nfloat m15 = 1.0;\n\nmat4 rotation = mat4(\nm0, m1, m2, m3,\nm4, m5, m6, m7,\nm8, m9, m10, m11,\nm12, m13, m14, m15\n);\n\nvec4 world_position = world * rotation * vec4(attr_position + attr_offset.xyz, 1.0);\nvec3 world_normal = normalize((rotation * vec4(attr_normal, 0.0) * self).xyz);\ngl_Position = pv * world_position;\n\n\nvec3 color = palette[int(attr_offset[3])];\nvec3 light_acc = color * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - world_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += color * diffuse_factor * light_color * light_intensity;\n}\n}\n\nvert_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(eye - world_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n\n","#version 300 es\n\nprecision mediump float;\nin vec4 vert_color;\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n\n");return{Eo:4,Po:o,Kt:{Bo:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),ro:t.getUniformLocation(o,"palette"),Wo:t.getUniformLocation(o,"eye"),_o:t.getUniformLocation(o,"light_positions"),po:t.getUniformLocation(o,"light_details"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Lt:t.getAttribLocation(o,"attr_position"),Dt:t.getAttribLocation(o,"attr_normal"),no:t.getAttribLocation(o,"attr_offset"),io:t.getAttribLocation(o,"attr_rotation")}}}(this.Bt),this.In=function(t){let o=t.createBuffer();t.bindBuffer(Lo,o),t.bufferData(Lo,cn,Eo);let n=t.createBuffer();t.bindBuffer(Lo,n),t.bufferData(Lo,un,Eo);let i=t.createBuffer();t.bindBuffer(Lo,i),t.bufferData(Lo,dn,Eo);let e=t.createBuffer();t.bindBuffer(Lo,e),t.bufferData(Lo,hn,Eo);let r=t.createBuffer();return t.bindBuffer(Ko,r),t.bufferData(Ko,vn,Eo),{Et:o,Un:cn,Vt:n,On:un,Yn:i,qn:dn,Yt:e,Jn:hn,Wt:r,Qn:vn,Lo:vn.length}}(this.Bt),this.Mn=function(t){let o=t.createBuffer();t.bindBuffer(Lo,o),t.bufferData(Lo,rn,Eo);let n=t.createBuffer();t.bindBuffer(Lo,n),t.bufferData(Lo,an,Eo);let i=t.createBuffer();t.bindBuffer(Lo,i),t.bufferData(Lo,ln,Eo);let e=t.createBuffer();t.bindBuffer(Lo,e),t.bufferData(Lo,sn,Eo);let r=t.createBuffer();return t.bindBuffer(Ko,r),t.bufferData(Ko,fn,Eo),{Et:o,Un:rn,Vt:n,On:an,Yn:i,qn:ln,Yt:e,Jn:sn,Wt:r,Qn:fn,Lo:fn.length}}(this.Bt),this.Zn=function(t){let o=t.createBuffer();t.bindBuffer(Lo,o),t.bufferData(Lo,Mn,Eo);let n=t.createBuffer();t.bindBuffer(Lo,n),t.bufferData(Lo,Fn,Eo);let i=t.createBuffer();t.bindBuffer(Lo,i),t.bufferData(Lo,Rn,Eo);let e=t.createBuffer();t.bindBuffer(Lo,e),t.bufferData(Lo,bn,Eo);let r=t.createBuffer();return t.bindBuffer(Ko,r),t.bufferData(Ko,Cn,Eo),{Et:o,Un:Mn,Vt:n,On:Fn,Yn:i,qn:Rn,Yt:e,Jn:bn,Wt:r,Qn:Cn,Lo:Cn.length}}(this.Bt),this.zn=function(t){let o=t.createBuffer();t.bindBuffer(Lo,o),t.bufferData(Lo,Oo,Eo);let n=t.createBuffer();t.bindBuffer(Lo,n),t.bufferData(Lo,Yo,Eo);let i=t.createBuffer();t.bindBuffer(Lo,i),t.bufferData(Lo,qo,Eo);let e=t.createBuffer();t.bindBuffer(Lo,e),t.bufferData(Lo,Jo,Eo);let r=t.createBuffer();return t.bindBuffer(Ko,r),t.bufferData(Ko,Qo,Eo),{Et:o,Un:Oo,Vt:n,On:Yo,Yn:i,qn:qo,Yt:e,Jn:Jo,Wt:r,Qn:Qo,Lo:Qo.length}}(this.Bt),this.Rn=function(t){let o=t.createBuffer();t.bindBuffer(Lo,o),t.bufferData(Lo,mn,Eo);let n=t.createBuffer();t.bindBuffer(Lo,n),t.bufferData(Lo,_n,Eo);let i=t.createBuffer();t.bindBuffer(Lo,i),t.bufferData(Lo,gn,Eo);let e=t.createBuffer();t.bindBuffer(Lo,e),t.bufferData(Lo,pn,Eo);let r=t.createBuffer();return t.bindBuffer(Ko,r),t.bufferData(Ko,yn,Eo),{Et:o,Un:mn,Vt:n,On:_n,Yn:i,qn:gn,Yt:e,Jn:pn,Wt:r,Qn:yn,Lo:yn.length}}(this.Bt),this.Cn=function(t){let o=t.createBuffer();t.bindBuffer(Lo,o),t.bufferData(Lo,wn,Eo);let n=t.createBuffer();t.bindBuffer(Lo,n),t.bufferData(Lo,xn,Eo);let i=t.createBuffer();t.bindBuffer(Lo,i),t.bufferData(Lo,Tn,Eo);let e=t.createBuffer();t.bindBuffer(Lo,e),t.bufferData(Lo,An,Eo);let r=t.createBuffer();return t.bindBuffer(Ko,r),t.bufferData(Ko,zn,Eo),{Et:o,Un:wn,Vt:n,On:xn,Yn:i,qn:Tn,Yt:e,Jn:An,Wt:r,Qn:zn,Lo:zn.length}}(this.Bt),this.pn=function(t){let o=t.createBuffer();t.bindBuffer(Lo,o),t.bufferData(Lo,Zo,Eo);let n=t.createBuffer();t.bindBuffer(Lo,n),t.bufferData(Lo,tn,Eo);let i=t.createBuffer();t.bindBuffer(Lo,i),t.bufferData(Lo,on,Eo);let e=t.createBuffer();t.bindBuffer(Lo,e),t.bufferData(Lo,nn,Eo);let r=t.createBuffer();return t.bindBuffer(Ko,r),t.bufferData(Ko,en,Eo),{Et:o,Un:Zo,Vt:n,On:tn,Yn:i,qn:on,Yt:e,Jn:nn,Wt:r,Qn:en,Lo:en.length}}(this.Bt),this._o=new Float32Array(32),this.po=new Float32Array(32),this.ti=[],this.$o={Go:l(this.Bt,2048,2048)},this.h=0,this.v=0}Nn(t){!function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&ri)===ri&&ft(t,n,o)}(this,t),Dt(this),function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&ai)===ai&&ct(t,n,o)}(this,t),function(t,o){let n=[],i=[];for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&Xn)===Xn){let e=t.o.A[o],r=t.o.It[o];r.ct=[],r.xn?(r.xn=!1,D(e.o,r)):r.Tn?(D(e.o,r),i.push(r)):n.push(r)}for(let t=0;t<i.length;t++)X(i[t],n,n.length),X(i[t],i,t)}(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&li)===li&&ut(t,o)}(this),Dt(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&gi)===gi&&Nt(t,o)}(this)}Xn(t){!function(t,o){let n=[];for(let i=0;i<t.o.i.length;i++)if((t.o.i[i]&fi)===fi){if(dt(t.o,i))continue;let e=t.o.yn[i];switch(e.G){case 0:e.oi(i)&&n.push(i);break;case 1:e.ho-=o,e.ho<0&&n.push(i)}}for(let o of n){t.o.i[o]&=-2097153,0===t.o.i[o]&&t.o.u(o);let n=t.o.yn[o];n.wn&&n.wn(o),delete t.o.yn[o]}}(this,t),function(t,o){-1===t.kt.Touch0&&(jn=0),0===t.zt.Touch0&&(jn+=o),1===t.kt.Touch0&&($n[0]=t.zt.Touch0X,$n[1]=t.zt.Touch0Y);let n=0,i=0;if(1===t.zt.Touch0){let o=Math.min(t.Vo,t.Do)/4;n=(t.zt.Touch0X-$n[0])/o,i=(t.zt.Touch0Y-$n[1])/o}for(let o=0;o<t.o.i.length;o++)512==(512&t.o.i[o])&&O(t,o,n,i)}(this,t),function(t,o){for(let o=0;o<t.o.i.length;o++)512==(512&t.o.i[o])&&U(t,o)}(this),function(t,o){for(let o of navigator.getGamepads())o&&(t.kt[`pad${o.index}_axis_1`]=o.axes[0],t.kt[`pad${o.index}_axis_2`]=o.axes[1],t.kt[`pad${o.index}_axis_3`]=o.axes[2],t.kt[`pad${o.index}_axis_4`]=o.axes[3]);for(let o=0;o<t.o.i.length;o++)33280==(33280&t.o.i[o])&&Y(t,o)}(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Hn)===Hn&&H(t,o)}(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Gn)===Gn&&G(t,o)}(this),function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&Sn)===Sn&&S(t,n,o)}(this,t),function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&ti)===ti&&rt(t,n,o)}(this,t),function(t,o){for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&Zn)===Zn){let n=t.o.A[o],i=t.o.St[o],e=t.o.A[i.Pt],r=m([0,0,0],e.o),a=_([0,0,0,0],e.o);F(n.L,n.L,r,i.vn),I(n.V,n.V,a,i.vn),n.K=!0}}(this),function(t,o){for(let n=0;n<t.o.i.length;n++)4096==(4096&t.o.i[n])&&it(t,n,o)}(this,t),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&hi)==hi&&Lt(t,o)}(this),function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&mi)==mi&&Vt(t,n,o)}(this,t),function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&vi)==vi&&Kt(t,n,o)}(this,t),function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&ni)==ni&&st(t,n,o)}(this,t),Dt(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Pn)===Pn&&P(t,o)}(this),function(t,o){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&Kn)===Kn&&E(t,n,o)}(this,t),function(t,o){t.Vo==window.innerWidth&&t.Do==window.innerHeight||(t.Sn=!0),t.Sn&&(t.Vo=t.$n.width=t.Gn.width=window.innerWidth,t.Do=t.$n.height=t.Gn.height=window.innerHeight)}(this),function(t,o){t.ti=[];for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&Wn)===Wn){let n=t.o.Oo[o],i=t.o.A[o],e=n.J;if(t.Sn)switch(e.G){case 0:K(e,0===n.G?t.Vo/t.Do:n.Pt._/n.Pt.g);break;case 1:V(e)}c(n.hn,i.xt),d(n.Bo,e.J,n.hn),m(n.No,i.o),t.ti.push(o)}}(this),function(t,o){t._o.fill(0),t.po.fill(0);let n=0;for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Jn)===Jn&&et(t,o,n++)}(this),function(t,o){for(let o of t.ti){let n=t.o.Oo[o];switch(n.G){case 3:ht(t,n)}}}(this),function(t,o){for(let o of t.ti){let n=t.o.Oo[o];switch(n.G){case 0:yt(t,n);break;case 2:wt(t,n)}}}(this),function(t,o){t.so.resetTransform(),t.so.clearRect(0,0,t.Vo,t.Do);let n=[0,0,0],i=t.o.Oo[t.ti[0]];if(i)for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&qn)==qn){if(m(n,t.o.A[o].o),z(n,n,i.Bo),n[2]<-1||n[2]>1)continue;t.so.setTransform(1,0,0,1,.5*(n[0]+1)*t.Vo,.5*(1-n[1])*t.Do);let e=t.o.kn[o];switch(e.G){case 0:ot(t,e);break;case 2:nt(t,e)}}}(this),Ht(this)}};Io(Mi),Mi.Dn(),window.$=e.bind(null,Mi),window.game=Mi,window.scenes=[Io,function(o){o.o=new yi,o.Sn=!0,function(o){t(o,[$(void 0,C([0,0,0,1],0,90,0)),...ro(o)]),t(o,[$([-9,-.498,1.767],[0,.707,0,.707],[4,2.003,8]),...uo(o)]),t(o,[$([-3.833,-.898,1.767],[0,.707,0,.707],[4,2.003,2.349]),...uo(o)]),t(o,[$([-1.484,-1.299,1.767],[0,.707,0,.707],[4,2.003,2.349]),...uo(o)]),t(o,[$([3.214,-.498,1.767],[0,.707,0,.707],[4,2.003,7.047]),...uo(o)]),t(o,[$([7.911,.304,1.767],[0,.707,0,.707],[4,2.003,2.349]),...uo(o)]),t(o,[$([11.435,.905,1.767],[0,.707,0,.707],[4,2.003,4.698]),...uo(o)]),t(o,[$([17.307,-.498,1.767],[0,.707,0,.707],[4,2.003,7.047]),...uo(o)]),t(o,[$([6.267,0,-5.233],[0,.707,0,.707],[10,1,40]),...uo(o)]),wo(o,[-6.258,.774,.343]),t(o,[$([17.281,.258,-3.373],void 0,void 0),...To(o)]),t(o,[$([22.628,.386,-3.539],void 0,void 0),...Ao(o)]),t(o,[$([-8.685,.5,-4.619],[0,.56,0,.829],[2,2,2]),...So(o)]),t(o,[$([-12,.5,3.5],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([-10,.5,3.5],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([-8,.5,3.5],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([-6,.5,3.5],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([-2.123,.5,-4.634],[0,.175,0,.985],void 0),...ko(o)]),t(o,[$([-5,.5,-8],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([-3,.5,-8],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([-1,.5,-8],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([1,.5,-8],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([3,.5,-8],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([5.772,.5,-7.376],void 0,[.8,.8,.8]),...So(o)]),t(o,[$([5,.5,-8],[0,.707,0,.707],void 0),...Po(o)]),t(o,[$([4.669,.547,-6.026],void 0,void 0),...Ao(o)]),t(o,[$([3.112,.769,3.408],void 0,void 0),...Ao(o)]),t(o,[$([3.714,.191,-2.208],void 0,void 0),...To(o)]),t(o,[$([9.436,.356,-3.75],[0,.952,0,.305],void 0),...zo(o)]),t(o,[$([13.056,.5,-6.526],[0,.175,0,.985],[.6,.6,.6]),...ko(o)]),t(o,[$([15.088,.5,-6.526],[0,.175,0,.985],[.6,.6,.6]),...ko(o)]),t(o,[$([17.147,.5,-6.526],[0,.175,0,.985],[.6,.6,.6]),...ko(o)]),t(o,[$([13.606,.582,-6.194],void 0,void 0),...Ao(o)]),t(o,[$([17.024,3.589,-6.274],void 0,void 0),...Ao(o)]),t(o,[$([21.275,.356,-7.481],[0,.952,0,.305],[.7,.7,.7]),...zo(o)]),t(o,[$([22.834,.5,-6.821],[0,-.437,0,.899],[.8,.8,.8]),...So(o)]),t(o,[$([25.7,.5,-3],[0,.815,0,.579],[.5,.5,.5]),...Po(o)]),t(o,[$([1.7,.9,-6],[.681,.19,-.19,.681],[.4,.4,.4]),...Fo(o)]),t(o,[$([1.334,.611,-5.021],void 0,void 0),...Ao(o)]),t(o,[$([24.836,.5,-2.687],[0,.815,0,.579],[.5,.5,.5]),...Po(o)]),t(o,[$([23.942,.5,-2.493],[0,.739,0,.674],[.5,.5,.5]),...Po(o)]),t(o,[$([23.024,.5,-2.431],[0,.722,0,.692],[.5,.5,.5]),...Po(o)]),t(o,[$([22.074,.5,-2.387],[0,.722,0,.692],[.5,.5,.5]),...Po(o)]),t(o,[$([21.15,.5,-2.497],[0,.602,0,.798],[.5,.5,.5]),...Po(o)]),t(o,[$([20.344,.5,-2.934],[0,.411,0,.911],[.5,.5,.5]),...Po(o)]),t(o,[$([18.363,.5,-4.784],[0,.411,0,.911],[.5,.5,.5]),...Po(o)]),t(o,[$([17.557,.5,-5.128],[0,.678,0,.735],[.5,.5,.5]),...Po(o)]),t(o,[$([16.626,.5,-5.209],[0,.678,0,.735],[.5,.5,.5]),...Po(o)]),t(o,[$([15.701,.5,-5.209],[0,.739,0,.674],[.5,.5,.5]),...Po(o)]),t(o,[$([14.795,.5,-5.122],[0,.739,0,.674],[.5,.5,.5]),...Po(o)]),t(o,[$([19.038,.5,-4.178],[0,.411,0,.911],[.5,.5,.5]),...Po(o)]),t(o,[$([13.888,.5,-5.109],[0,.678,0,.735],[.5,.5,.5]),...Po(o)]),t(o,[$([12.964,.5,-5.109],[0,.739,0,.674],[.5,.5,.5]),...Po(o)]),t(o,[$([12.126,.5,-5.315],[0,.476,0,.88],[.5,.5,.5]),...Po(o)]),t(o,[$([11.445,.5,-5.934],[0,.33,0,.944],[.5,.5,.5]),...Po(o)]),t(o,[$([11.101,.5,-6.778],[0,.049,0,.999],[.5,.5,.5]),...Po(o)]),t(o,[$([11.014,.5,-7.721],[0,.049,0,.999],[.5,.5,.5]),...Po(o)]),t(o,[$([19.421,.289,-3.388],[.149,.384,-.33,.85],[.5,.5,.5]),...Po(o)]),t(o,[$([19.003,.331,-4.134],void 0,void 0),...Ao(o)])}(o),t(o,[...jt(0,[1,208/255,0,1]),$([0,0,0],C([0,0,0,1],-30,0,0)),Ot(qt(o.o,"camera anchor"),.05)])},function(n){n.o=new yi,n.Sn=!0,function(o){t(o,[$(void 0,C([0,0,0,1],0,90,0)),...ro(o)]),t(o,[$([-9,-.498,1.767],[0,.707,0,.707],[4,2.003,8]),...uo(o)]),t(o,[$([-3.833,-.898,1.767],[0,.707,0,.707],[4,2.003,2.349]),...uo(o)]),t(o,[$([-1.484,-1.299,1.767],[0,.707,0,.707],[4,2.003,2.349]),...uo(o)]),t(o,[$([3.214,-.498,1.767],[0,.707,0,.707],[4,2.003,7.047]),...uo(o)]),t(o,[$([7.911,.304,1.767],[0,.707,0,.707],[4,2.003,2.349]),...uo(o)]),t(o,[$([11.435,.905,1.767],[0,.707,0,.707],[4,2.003,4.698]),...uo(o)]),t(o,[$([17.307,-.498,1.767],[0,.707,0,.707],[4,2.003,7.047]),...uo(o)]),t(o,[$([6.267,0,-5.233],[0,.707,0,.707],[10,1,40]),...uo(o)]),wo(o,[-6.258,.774,.343]),t(o,[$([4.669,.547,-6.026],void 0,void 0),...Ao(o)]),t(o,[$([15.5,-6,-3.026],void 0,void 0),...Bo(o)]),t(o,[$([3.112,.769,3.408],void 0,void 0),...Ao(o)]),t(o,[$([13.606,.582,-6.194],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([1.334,.611,-5.021],void 0,void 0),...Ao(o)]),t(o,[$([-10.877,.191,-4.573],void 0,[20,4,20]),...To(o)]),t(o,[$([11.065,.547,-8.23],void 0,void 0),...Ao(o)]),t(o,[$([14.128,.547,-.948],void 0,void 0),...Ao(o)]),t(o,[$([3.998,.547,-1.593],void 0,void 0),...Ao(o)]),t(o,[$([-8.014,.547,-1.915],void 0,void 0),...Ao(o)]),t(o,[$([11.522,2.276,.987],void 0,void 0),...Ao(o)]),t(o,[$([21.291,.582,-2.405],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([23.468,.582,-8.639],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([-3.806,.582,-2.029],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([16.992,.582,-.578],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([-6.169,.191,-7.926],void 0,[20,4,20]),...To(o)]),t(o,[$([-11.78,.191,-9.474],void 0,[20,4,20]),...To(o)]),t(o,[$([-1.494,.191,-9.474],void 0,[20,4,20]),...To(o)]),t(o,[$([-3.686,.191,-4.379],void 0,[20,4,20]),...To(o)]),t(o,[$([1.602,.191,-5.927],void 0,[20,4,20]),...To(o)]),t(o,[$([.312,.191,-2.767],void 0,[20,4,20]),...To(o)]),t(o,[$([-10.296,.191,2.747],void 0,[20,4,20]),...To(o)]),t(o,[$([2.731,.191,2.521],void 0,[20,4,20]),...To(o)]),t(o,[$([5.471,.191,-9.023],void 0,[20,4,20]),...To(o)]),t(o,[$([5.149,.191,-2.864],void 0,[20,4,20]),...To(o)]),t(o,[$([8.503,.191,-5.798],void 0,[20,4,20]),...To(o)]),t(o,[$([12.243,.191,-8.765],void 0,[20,4,20]),...To(o)]),t(o,[$([10.889,.191,-2.348],void 0,[20,4,20]),...To(o)]),t(o,[$([14.758,.191,-4.799],void 0,[20,4,20]),...To(o)]),t(o,[$([18.37,.191,2.521],void 0,[20,4,20]),...To(o)]),t(o,[$([17.789,.191,-9.023],void 0,[20,4,20]),...To(o)]),t(o,[$([19.305,.191,-4.154],void 0,[20,4,20]),...To(o)]),t(o,[$([24.045,.191,-2.251],void 0,[20,4,20]),...To(o)]),t(o,[$([22.981,.191,-7.83],void 0,[20,4,20]),...To(o)])}(n),t(n,[$([0,0,0],C([0,0,0,1],-30,0,0)),Ot(qt(n.o,"camera anchor"),.05),o([$(),...jt(0,[.4,.6,.4,1]),Jt(.03),(t,o)=>{t.o.i[o]|=4194304,t.o.sn[o]={cn:524288,W:.3,un:10,zo:10,fn:!1}}])])},function(n){n.o=new yi,n.Sn=!0,t(n,[$(void 0,C([0,0,0,1],0,90,0)),...ro(n)]),t(n,[$([0,-25,0],void 0,[16,50,16]),fo(!1,2,0),co(0),J(n.An,n.zn,[.5,.5,.5,1])]);for(let o=0;o<8;o++){let o=so(-8,-.5);t(n,[$([so(-8,8),0,o]),...To(n)])}let i=[],e=[];for(let t=0;t<80;t++)i.push(so(-16,16),.2,so(-8,8),lo(0,2)),e.push(...C([0,0,0,1],0,0,0));t(n,[$([0,0,0],void 0,[.5,.5,.5]),tt(n.Mn,Float32Array.from(i),Float32Array.from(e),[1,.54,0,1,.84,0])]),wo(n,[-1,1,1]),t(n,[...Co(n),$([2.5,5,1])]),t(n,[...Co(n),$([2.4,8,1])]);for(let o=0;o<2;o++)t(n,[$([so(-8,8),0,so(-3,0)],C([0,0,0,1],0,so(-180,180),0)),...zo(n)]);t(n,[$([-4,0,-1],C([0,0,0,1],0,145,0),[.6,.6,.6]),...Fo(n)]),t(n,[$([20,-12,-5],C([0,0,0,1],0,90,0),[30,30,30]),J(n.An,n.Cn,[.5,.5,.5,1])]),t(n,[$([55,-10,-5.5],C([0,0,0,1],0,90,0),[20,20,20]),J(n.An,n.Cn,[.5,.5,.5,1])]),t(n,[$([4.4,0,-2],C([0,0,0,1],0,12,0),[1,1,1]),o([$(),...xo(n)],[$([.5,0,1.5]),...Ao(n)])]),t(n,[$([-4,-.3,.5]),...Ao(n)]),t(n,[$([2.5,.2,3.5]),...Ao(n)]),t(n,[...jt(0,[145/255,85/255,61/255,1]),$([0,0,0],C([0,0,0,1],-30,0,0)),Ot(qt(n.o,"camera anchor"),.05)])}]}();
