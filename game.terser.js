!function(){function t(t){return(o,i)=>{o.o.t[i]|=16384,o.o.i[i]={l:t}}}function o(t,o,i=0){for(let n=i;n<t.t.length;n++)if(16384&t.t[n]&&t.i[n].l===o)return n;throw`No entity named ${o}.`}function i(t,o){let i=t.o.v();for(let n of o)n(t,i);return i}function n(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t}function e(t,o){let i=o[0],n=o[1],e=o[2],r=o[3],a=o[4],l=o[5],s=o[6],d=o[7],f=o[8],v=o[9],c=o[10],u=o[11],m=o[12],h=o[13],_=o[14],p=o[15],g=i*l-n*a,y=i*s-e*a,w=i*d-r*a,T=n*s-e*l,x=n*d-r*l,A=e*d-r*s,R=f*h-v*m,F=f*_-c*m,M=f*p-u*m,z=v*_-c*h,I=v*p-u*h,b=c*p-u*_,k=g*b-y*I+w*z+T*M-x*F+A*R;return k?(k=1/k,t[0]=(l*b-s*I+d*z)*k,t[1]=(e*I-n*b-r*z)*k,t[2]=(h*A-_*x+p*T)*k,t[3]=(c*x-v*A-u*T)*k,t[4]=(s*M-a*b-d*F)*k,t[5]=(i*b-e*M+r*F)*k,t[6]=(_*w-m*A-p*y)*k,t[7]=(f*A-c*w+u*y)*k,t[8]=(a*I-l*M+d*R)*k,t[9]=(n*M-i*I-r*R)*k,t[10]=(m*x-h*w+p*g)*k,t[11]=(v*w-f*x-u*g)*k,t[12]=(l*F-a*z-s*R)*k,t[13]=(i*z-n*F+e*R)*k,t[14]=(h*y-m*T-_*g)*k,t[15]=(f*T-v*y+c*g)*k,t):null}function r(t,o,i){let n=o[0],e=o[1],r=o[2],a=o[3],l=o[4],s=o[5],d=o[6],f=o[7],v=o[8],c=o[9],u=o[10],m=o[11],h=o[12],_=o[13],p=o[14],g=o[15],y=i[0],w=i[1],T=i[2],x=i[3];return t[0]=y*n+w*l+T*v+x*h,t[1]=y*e+w*s+T*c+x*_,t[2]=y*r+w*d+T*u+x*p,t[3]=y*a+w*f+T*m+x*g,y=i[4],w=i[5],T=i[6],x=i[7],t[4]=y*n+w*l+T*v+x*h,t[5]=y*e+w*s+T*c+x*_,t[6]=y*r+w*d+T*u+x*p,t[7]=y*a+w*f+T*m+x*g,y=i[8],w=i[9],T=i[10],x=i[11],t[8]=y*n+w*l+T*v+x*h,t[9]=y*e+w*s+T*c+x*_,t[10]=y*r+w*d+T*u+x*p,t[11]=y*a+w*f+T*m+x*g,y=i[12],w=i[13],T=i[14],x=i[15],t[12]=y*n+w*l+T*v+x*h,t[13]=y*e+w*s+T*c+x*_,t[14]=y*r+w*d+T*u+x*p,t[15]=y*a+w*f+T*m+x*g,t}function a(t,o,i,n,e){let r,a=1/Math.tan(o/2);return t[0]=a/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(r=1/(n-e),t[10]=(e+n)*r,t[14]=2*e*n*r):(t[10]=-1,t[14]=-2*n),t}function l(t,o){return t[0]=o[12],t[1]=o[13],t[2]=o[14],t}function s(t,o){let i=function(t,o){let i=o[4],n=o[5],e=o[6],r=o[8],a=o[9],l=o[10];return t[0]=Math.hypot(o[0],o[1],o[2]),t[1]=Math.hypot(i,n,e),t[2]=Math.hypot(r,a,l),t}([0,0,0],o),n=1/i[0],e=1/i[1],r=1/i[2],a=o[0]*n,l=o[1]*e,s=o[2]*r,d=o[4]*n,f=o[5]*e,v=o[6]*r,c=o[8]*n,u=o[9]*e,m=o[10]*r,h=a+f+m,_=0;return h>0?(_=2*Math.sqrt(h+1),t[3]=.25*_,t[0]=(v-u)/_,t[1]=(c-s)/_,t[2]=(l-d)/_):a>f&&a>m?(_=2*Math.sqrt(1+a-f-m),t[3]=(v-u)/_,t[0]=.25*_,t[1]=(l+d)/_,t[2]=(c+s)/_):f>m?(_=2*Math.sqrt(1+f-a-m),t[3]=(c-s)/_,t[0]=(l+d)/_,t[1]=.25*_,t[2]=(v+u)/_):(_=2*Math.sqrt(1+m-a-f),t[3]=(l-d)/_,t[0]=(c+s)/_,t[1]=(v+u)/_,t[2]=.25*_),t}function d(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t}function f(t,o,i){return t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t}function v(t,o,i){return t[0]=o[0]*i,t[1]=o[1]*i,t[2]=o[2]*i,t}function c(t,o){return t[0]=-o[0],t[1]=-o[1],t[2]=-o[2],t}function u(t,o){let i=o[0],n=o[1],e=o[2],r=i*i+n*n+e*e;return r>0&&(r=1/Math.sqrt(r)),t[0]=o[0]*r,t[1]=o[1]*r,t[2]=o[2]*r,t}function m(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function h(t,o,i){let n=o[0],e=o[1],r=o[2],a=i[3]*n+i[7]*e+i[11]*r+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*e+i[8]*r+i[12])/a,t[1]=(i[1]*n+i[5]*e+i[9]*r+i[13])/a,t[2]=(i[2]*n+i[6]*e+i[10]*r+i[14])/a,t}function _(t,o,i,n){let e=o[0],r=o[1],a=o[2];return t[0]=e+n*(i[0]-e),t[1]=r+n*(i[1]-r),t[2]=a+n*(i[2]-a),t}function p(t,o,i,n,e){return t[0]=o,t[1]=i,t[2]=n,t[3]=e,t}function g(t,o,i){let n=o[0],e=o[1],r=o[2],a=o[3],l=i[0],s=i[1],d=i[2],f=i[3];return t[0]=n*f+a*l+e*d-r*s,t[1]=e*f+a*s+r*l-n*d,t[2]=r*f+a*d+n*s-e*l,t[3]=a*f-n*l-e*s-r*d,t}function y(t,o,i,n){let e=Math.sin(o/2*oi),r=Math.cos(o/2*oi),a=Math.sin(i/2*oi),l=Math.cos(i/2*oi),s=Math.sin(n/2*oi),d=Math.cos(n/2*oi);return t[0]=e*l*d+r*a*s,t[1]=r*a*d-e*l*s,t[2]=r*l*s-e*a*d,t[3]=r*l*d+e*a*s,t}function w(t,o,i,n){let e,r,a,l,s,d=o[0],f=o[1],v=o[2],c=o[3],u=i[0],m=i[1],h=i[2],_=i[3];return r=d*u+f*m+v*h+c*_,r<0&&(r=-r,u=-u,m=-m,h=-h,_=-_),1-r>1e-6?(e=Math.acos(r),a=Math.sin(e),l=Math.sin((1-n)*e)/a,s=Math.sin(n*e)/a):(l=1-n,s=n),t[0]=l*d+s*u,t[1]=l*f+s*m,t[2]=l*v+s*h,t[3]=l*c+s*_,t}function T(t,o,i,n=[.9,.9,.9,1]){return(e,r)=>{e.o.t[r]|=8,e.o.u[r]={m:0,h:{m:0,_:t,p:o,g:i,h:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},A:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F:[0,0,0],M:n}}}function x(t,o,i,n,e=[0,0,0,1]){return(r,a)=>{r.o.t[a]|=8,r.o.u[a]={m:3,I:t,h:{m:1,k:o,p:i,g:n,h:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},A:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F:[0,0,0],M:e}}}function A(...t){return(o,n)=>{let e=[];for(let n of t){let t=i(o,n);e.push(t)}o.o.t[n]|=16,o.o.C[n]={C:e}}}function*R(t,o,i){if((t.t[o]&i)===i&&(yield o),16&t.t[o])for(let n of t.C[o].C)yield*R(t,n,i)}function F(t,o){if(16&t.t[o])for(let i of t.C[o].C)F(t,i);t.B(o)}function M(t=[0,0,0],o=[0,0,0,1],i=[1,1,1]){return(n,e)=>{n.o.t[e]|=2097152,n.o.K[e]={o:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],S:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],P:t,N:o,$:i,V:!0}}}function*z(t,o,i){(t.t[o]&i)===i&&(yield o);let n=t.K[o].D;void 0!==n&&(yield*z(t,n,i))}function I(t,o){return[A([M([0,0,5]),T(1,.1,15,o)])]}function b(t){return 1-(1-t)**4}function k(t){return t<.5?8*t**4:1-(-2*t+2)**4/2}function C(t){return(o,i)=>{let n={};for(let o in t){let{L:i,W:e=7}=t[o],r=i[i.length-1].H;n[o]={L:i.map((t=>({...t}))),W:e,X:r,j:0}}o.o.t[i]|=1,o.o.U[i]={G:n,O:n.idle}}}function E(t,o){return(i,n)=>{i.o.t[n]|=4,i.o.Y[n]={q:t,V:void 0===o,J:o||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}}}function B(t){return(o,i)=>{o.o.t[i]|=256,o.o.Z[i]={tt:t}}}function K(t,o,i){return(n,e)=>{if(!ii.has(o)){let i=n.ot.createVertexArray();n.ot.bindVertexArray(i),n.ot.bindBuffer(Ho,o.it),n.ot.enableVertexAttribArray(t.et.nt),n.ot.vertexAttribPointer(t.et.nt,3,qo,!1,0,0),n.ot.bindBuffer(Ho,o.rt),n.ot.enableVertexAttribArray(t.et.at),n.ot.vertexAttribPointer(t.et.at,3,qo,!1,0,0),n.ot.bindBuffer(Xo,o.lt),n.ot.bindVertexArray(null),ii.set(o,i)}n.o.t[e]|=32768,n.o.st[e]={m:1,dt:t,ft:o,vt:ii.get(o),ct:i}}}function S(t,o,i){return(n,e)=>{if(!ni.has(o)){let i=n.ot.createVertexArray();n.ot.bindVertexArray(i),n.ot.bindBuffer(Ho,o.it),n.ot.enableVertexAttribArray(t.et.nt),n.ot.vertexAttribPointer(t.et.nt,3,qo,!1,0,0),n.ot.bindBuffer(Ho,o.rt),n.ot.enableVertexAttribArray(t.et.at),n.ot.vertexAttribPointer(t.et.at,3,qo,!1,0,0),n.ot.bindBuffer(Ho,o.ut),n.ot.enableVertexAttribArray(t.et.ht),n.ot.vertexAttribPointer(t.et.ht,4,qo,!1,0,0),n.ot.bindBuffer(Xo,o.lt),n.ot.bindVertexArray(null),ni.set(o,i)}n.o.t[e]|=32768,n.o.st[e]={m:2,dt:t,ft:o,vt:ni.get(o),ct:i}}}function P(t,o,i,n){return(e,r)=>{let a=e.ot.createBuffer();e.ot.bindBuffer(Ho,a),e.ot.bufferData(Ho,6400,35048),e.o.t[r]|=32768,e.o.st[r]={m:3,dt:e._t,gt:a,yt:t,wt:i,Tt:[o,n]}}}function N(t,o,i,n){return(e,r)=>{let a=e.xt,l=e.ot.createVertexArray();e.ot.bindVertexArray(l),e.ot.bindBuffer(Ho,t.it),e.ot.enableVertexAttribArray(a.et.nt),e.ot.vertexAttribPointer(a.et.nt,3,qo,!1,0,0);let s=e.ot.createBuffer();e.ot.bindBuffer(Ho,s),e.ot.bufferData(Ho,o,Wo),e.ot.enableVertexAttribArray(a.et.At),e.ot.vertexAttribPointer(a.et.At,4,qo,!1,0,0),e.ot.vertexAttribDivisor(a.et.At,1);let d=e.ot.createBuffer();e.ot.bindBuffer(Ho,d),e.ot.bufferData(Ho,i,Wo),e.ot.enableVertexAttribArray(a.et.Rt),e.ot.vertexAttribPointer(a.et.Rt,4,qo,!1,0,0),e.ot.vertexAttribDivisor(a.et.Rt,1),e.ot.bindBuffer(Xo,t.lt),e.ot.bindVertexArray(null),e.o.t[r]|=32768,e.o.st[r]={m:4,dt:a,ft:t,vt:l,Ft:o.length/4,Mt:n,zt:s,It:d}}}function $(o,i=[1,.5,0,1],n=1,e){return[S(o.bt,o.kt,i),A([M([0,.35,-.47],[.672,0,0,.74]),A([M(),t(1===n?"tail anchor":""),E(0,[1,0,0,0,0,.096,-.995,0,0,.995,.096,0,0,.433,.395,1]),B(1),C({idle:{L:[{H:0,P:[0,0,0],N:[0,0,0,1]},{H:9*n,P:[0,0,0],N:[0,0,0,1]},{H:10*n,P:[0,-.044,.289],N:[-.288,0,0,.958],Ct:k},{H:15*n,P:[0,-.044,.289],N:[-.288,0,0,.958]},{H:16*n,P:[0,0,0],N:[0,0,0,1],Ct:k}],W:3},walk:{L:[{H:0,P:[0,0,0],N:[0,0,0,1]}],W:5},jump:{L:[{H:0,P:[0,0,0],N:[0,0,0,1]},{H:ei*n,P:[0,0,0],N:[-.131,0,0,.991],Ct:b},{H:ri*n,P:[0,0,0],N:[.087,0,0,.996]},{H:1*n,P:[0,0,0],N:[0,0,0,1],Ct:b}],W:1}}),A([M([0,.46,0],[-.4,0,0,.92]),A([M(),B(1),C({idle:{L:[{H:0,N:[0,0,0,1]},{H:9*n,N:[0,0,0,1]},{H:10*n,N:[.371,0,0,.929],Ct:k},{H:15*n,N:[.371,0,0,.929]},{H:16*n,N:[0,0,0,1],Ct:k}],W:3},walk:{L:[{H:0,N:[0,0,0,1]}],W:5},jump:{L:[{H:0,N:[0,0,0,1]}],W:1}}),A([M(),E(1,[1,0,0,0,0,.795,-.606,0,0,.606,.795,0,0,-.306,.251,1]),B(1),C({idle:{L:[{H:0,N:[0,.088,.116,.989],Ct:k},{H:1*n,N:[0,-.088,-.116,.989],Ct:k}]},walk:{L:[{H:0,N:[.087,0,0,.996]},{H:.2*n,N:[0,0,0,1]}],W:5},jump:{L:[{H:0,N:[0,0,0,1]},{H:ei*n,N:[.216,0,0,.976],Ct:b},{H:ri*n,N:[.216,0,0,.976]},{H:1*n,N:[0,0,0,1],Ct:b}],W:1}})])])],[M([.07,.46,0],[.74,0,0,.672]),A([M(),E(2,[1,0,0,0,0,-1,0,0,0,-0,-1,0,-.073,.395,-.015,1]),B(1),C({idle:{L:[{H:0,N:[0,0,0,1]}]},walk:{L:[{H:0,N:[-.174,0,0,.985],Et:e},{H:.2*n,N:[.131,0,0,.991],Et:e}],W:5},jump:{L:[{H:0,N:[0,0,0,1]},{H:ei*n,N:[-.259,0,0,.966],Ct:b},{H:ri*n,N:[-.259,0,0,.966]},{H:1*n,N:[0,0,0,1],Ct:b}],W:1}})])],[M([-.07,.46,0],[.74,0,0,.672]),A([M(),E(3,[1,0,0,0,0,-1,0,0,0,-0,-1,0,.073,.395,-.015,1]),B(1),C({idle:{L:[{H:0,N:[0,0,0,1]}]},walk:{L:[{H:0,N:[.131,0,0,.991]},{H:.2*n,N:[-.174,0,0,.985]}],W:5},jump:{L:[{H:0,N:[0,0,0,1]},{H:ei*n,N:[-.301,0,0,.954],Ct:b},{H:ri*n,N:[-.301,0,0,.954]},{H:1*n,N:[0,0,0,1],Ct:b}],W:1}})])],[M([.07,0,0],[.753,0,0,.658]),A([M(),E(4,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,-.073,.291,-.509,1]),B(1),C({idle:{L:[{H:0,N:[0,0,0,1]},{H:9*n,N:[0,0,0,1]},{H:10*n,N:[-.492,0,0,.87],Ct:k},{H:15*n,N:[-.492,0,0,.87]},{H:16*n,N:[0,0,0,1],Ct:k}],W:3},walk:{L:[{H:0,N:[.131,0,0,.991]},{H:.2*n,N:[-.131,0,0,.991]}],W:5},jump:{L:[{H:0,N:[0,0,0,1]},{H:ei*n,N:[.383,0,0,.924],Ct:b},{H:ri*n,N:[.383,0,0,.924]},{H:1*n,N:[0,0,0,1],Ct:b}],W:1}})])],[M([-.07,0,0],[.753,0,0,.658]),A([M(),E(5,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,.073,.291,-.509,1]),B(1),C({idle:{L:[{H:0,N:[0,0,0,1]},{H:9*n,N:[0,0,0,1]},{H:10*n,N:[-.468,0,0,.884],Ct:k},{H:15*n,N:[-.468,0,0,.884]},{H:16*n,N:[0,0,0,1],Ct:k}],W:3},walk:{L:[{H:0,N:[-.131,0,0,.991]},{H:.2*n,N:[.131,0,0,.991]}],W:5},jump:{L:[{H:0,N:[0,0,0,1]},{H:ei*n,N:[.301,0,0,.954],Ct:b},{H:ri*n,N:[.301,0,0,.954]},{H:1*n,N:[0,0,0,1],Ct:b}],W:1}})])])])])]}function V(t,o,i){return(n,e)=>{n.o.t[e]|=512,n.o.Bt[e]={Kt:t,St:o,Pt:i,Nt:[],$t:0}}}function D(t,o=.1){return(i,n)=>{i.o.t[n]|=4096,i.o.Vt[n]={I:t,Dt:o}}}function L(t){return(o,i)=>{o.o.t[i]|=131072,o.o.Lt[i]={Wt:t}}}function W(t,o){return(i,n)=>{i.o.t[n]|=524288,i.o.Ht[n]={m:1,Xt:t,jt:o}}}function H(t){return[D(o(t.o,"pixie anchor"),.02),A([M(),L(.1),V(1,.1,.1),P([1,1,1,1],4,[.5,.5,1,1],1)]),W(7,(i=>{t.o.Vt[i].I=o(t.o,"exit")}))]}function X(t){return(o,i)=>{o.o.t[i]|=2,o.o.Ut[i]={Gt:t,j:0}}}function j(t){return(o,i)=>{t(o,i)}}function U(t,o,i,n=[1,1,1]){return(e,r)=>{e.o.t[r]|=32,e.o.Ot[r]={Entity:r,Yt:!0,qt:t,Qt:o,t:i,Tt:n,Jt:[0,0,0],Zt:[0,0,0],oo:[0,0,0],io:[0,0,0],no:[]}}}function G(t,o,i){return(n,e)=>{n.o.t[e]|=64,n.o.eo[e]={ro:t,N:o,Animation:i}}}function O(t){return(o,i)=>{o.o.t[i]|=128,o.o.ao[i]={W:t,lo:!0,so:null}}}function Y(t,o){return(i,n)=>{i.o.t[n]|=8192,i.o.do[n]={fo:t,vo:o,co:[],uo:[]}}}function q(t,o=.5){return(i,n)=>{i.o.t[n]|=65536,i.o.mo[n]={m:t,ho:o,_o:[0,0,0],po:[0,0,0],yo:[0,0,0],wo:!1}}}function Q(n,e,r=n.To){let a=i(n,[X(),O(1),Y(3,0),U(!0,1,6,[.6,.8,.8]),q(1,0),A([t("mesh anchor"),M([0,-.42,0],[0,.7,0,.7]),O(2),A([M([0,.5,1],void 0,[.1,.1,.1]),U(!0,0,4),O(8)])],[t("pup anchor 0"),M([0,-.42,.2],[0,.707,0,.707]),O(2)],[t("pup anchor 1"),M([-.2,-.42,.2],[0,.707,0,.707]),O(2)],[t("pup anchor 2"),M([-.4,-.42,.2],[0,.707,0,.707]),O(2)],[t("camera anchor"),M([.5,.5,0],y([0,0,0,1],-10,0,0))],[t("sun anchor"),M()],[t("pixie anchor"),M([4,1,0],[0,.7,0,.7])]),M(e)]),l=0,s=0,d=0,f=0;i(n,[M([-10,0,.5]),D(o(n.o,"mesh anchor"),.2),A([...$(n),M(),O(4)],[M(),S(n.bt,n.xo,[1,.5,0,1])])]),i(n,[M(),D(o(n.o,"tail anchor"),1),A([M([0,-.2,-.05],[1,0,0,0]),G(null,[0,-1,0,0]),Y(0,1),j(((t,o)=>l=o)),E(0,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-.701,-.428,1])])]),i(n,[M(),D(l,.08),E(1,[1,-0,-0,0,0,.132,.991,0,0,-.991,.132,0,-0,-1.1,-.285,1]),A([M([0,.2,.1],void 0,[.1,.1,.1]),j(((t,o)=>s=o))])]),i(n,[M(),D(s,.06),E(2,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-1.492,-.487,1]),A([M([0,.2,.1],void 0,[.1,.1,.1]),j(((t,o)=>d=o))])]),i(n,[M(),D(d,.04),E(3,[-1,-0,-0,0,0,.137,-.991,0,0,-.991,-.137,0,-0,-2.009,.214,1]),A([M([0,.2,.1],void 0,[.1,.1,.1]),j(((t,o)=>f=o))])]),i(n,[M(),D(f,.02),E(4,[-1,0,-0,0,0,-.204,-.979,0,-0,-.979,.204,0,-0,-2.224,1.021,1]),A([M([0,.2,.1],void 0,[.1,.1,.1]),j(((t,o)=>o))])]);for(let t=0;t<r;t++)i(n,[M(),D(o(n.o,"pup anchor "+t),.2-.02*t),A([...$(n,[1,.5,0,1],.7+.1*t),M(void 0,void 0,[.3,.3,.3]),O(4)])]);return a}function J(){return ai=16807*ai%2147483647,(ai-1)/2147483646}function Z(t=0,o=1){return~~(J()*(o-t+1)+t)}function tt(t=0,o=1){return J()*(o-t)+t}function ot(t){return t[Z(0,t.length-1)]}function it(t){return(o,i)=>{o.o.t[i]&=~t}}function nt(t,o){return(i,n)=>{i.o.t[n]|=1024,i.o.Kt[n]={Xt:t,Ao:o}}}function et(t){return[A([M([0,3.5,0],[0,-.707,0,.707],[1,7,1]),B(32768),K(t.Ro,t.Fo,[1,1,1,1])],[M([0,7.8,0],[0,-.707,0,.707],[.8,1.6,.8]),B(32768),K(t.Ro,t.Fo,[1,1,1,1])],[M([0,9.4,0],[0,-.707,0,.707],[.56,1.6,.56]),B(32768),K(t.Ro,t.Fo,[1,1,1,1])],[M([0,10.2,0],[-.5,-.5,.5,.5],[1.721,.509,.593]),B(32768),K(t.Ro,t.Fo,[1,1,1,1])],[M([0,8.6,0],[-.5,-.5,.5,.5],[1.12,.438,.796]),B(32768),K(t.Ro,t.Fo,[0,0,0,1])],[M([0,7,0],[-.5,-.5,.5,.5],[2.61,.771,.9]),B(32768),K(t.Ro,t.Fo,[0,0,0,1])])]}function rt(t){return[G([0,0,1],null),Y(tt(1,3),0),nt(25),X(li),it(2),A([M(void 0,y([.7,0,0,.7],0,-90,-90),[.1,.1,.1]),...et(t)],[M(void 0,[0,1,0,0]),L(.02),V(1,.01,1),P([1,.5,0,1],10,[.56,.33,.24,1],2)])]}function at(t,o){return(i,n)=>{i.o.t[n]|=262144,i.o.Mo[n]={zo:t,Io:o,$t:o}}}function lt(t,...o){return t.reduce(((t,i)=>t+function(t){let o=t.shift();return"boolean"==typeof o||null==o?"":Array.isArray(o)?o.join(""):o}(o)+i))}function st(t){return lt`
<div
style="
margin: 40vh 2vw 0;
font-size: 16vw;
font-weight: 600;
"
>
NOAH
</div>
<nav
style="
margin: 2vh 3vw;
font-size: 1rem;
font-style: italic;
line-height: 2;
"
>
<div onclick="$(${2})">New Game</div>
<div>${function(t){return lt`
Quality:
<select onchange="$(${1}, this)">
<option
value="${512}"
${512===t.bo&&"selected"}
>
Low
</option>
<option
value="${1024}"
${1024===t.bo&&"selected"}
>
Medium
</option>
<option
value="${2048}"
${2048===t.bo&&"selected"}
>
High
</option>
<option
value="${4096}"
${4096===t.bo&&"selected"}
>
Ultra
</option>
</select>
`}(t)}</div>
</nav>
`}function dt(t){return lt`
<div
style="
animation: 6s ease-out 1s forwards intro;
"
>
<div
style="
margin: 60vh 2vw 0;
font-size: 4vw;
"
>
Humans have destroyed Earth and ran away.<br />Reach the Ark!
</div>
</div>
`}function ft(t){return""}function vt(t){return lt`
<div
style="
margin: 20vh 2vw 0;
font-size: 12vw;
font-weight: 600;
opacity: 0;
animation: 1s 4s forwards fadein;
"
>
THE END
</div>
`}function ct(t,o,i=0){for(let n=i;n<t.t.length;n++)if((t.t[n]&o)===o)return n}function ut(t=[1,1,1],o=1){return(i,n)=>{i.o.t[n]|=2048,i.o.ko[n]={m:1,Co:t,Eo:o**2}}}function mt(t){return[A([M([10,10,10]),ut([1,1,1],.9)])]}function ht(t){return[D(o(t.o,"sun anchor"),.01),A([M([10,10,-10],y([0,0,0,1],-35,135,0)),x(t.Ko.Bo,8,1,100),ut([1,1,1],.6)])]}function _t(t){let o=[],i=[];for(let t=0;t<100;t++)o.push(tt(-1,1),.8,tt(-.5,.5),Z(0,1)),i.push(...y([0,0,0,1],0,tt(-180,180),0));return[U(!1,18,0),q(0),A([M(),K(t.Ro,t.So,[82/255,39/255,5/255,1])],[M([0,0,0],void 0,[.5,.5,.5]),N(t.Po,Float32Array.from(o),Float32Array.from(i),[1,.54,0,1,.84,0])])]}function pt(t){return[A([M([0,1.5,0],void 0,[3,3,3]),B(32768),K(t.Ro,t.So,[.095,.095,.095,1])],[M([-2.25,2,0],void 0,[1.5,.1,3]),B(32768),K(t.Ro,t.So,[.069,.154,.8,1])],[M([-.8,.1,0],void 0,[4.9,.2,3.4]),B(32768),K(t.Ro,t.So,[.095,.095,.095,1])],[M([-2.8,1,0],void 0,[.1,2,.1]),B(32768),K(t.Ro,t.So,[.095,.095,.095,1])])]}function gt(t,o=2,i=4){let n=tt(.5,.9),e=Z(400,600),r=tt(o,i),a=[],l=[];for(let t=0;t<e;t++)a.push(tt(-n,n),tt(-n,n),tt(-n,n),Z(0,7)),l.push(...y([0,0,0,0],tt(-90,90),tt(-90,90),tt(-90,90)));return[A([M([0,r/2,0],void 0,[.25,r,.25]),B(32768),K(t.Ro,t.Fo,[.8,.2,.2,1])],[M([0,r,0]),B(32768),N(t.No,Float32Array.from(a),Float32Array.from(l),di)])]}function yt(t){let o=tt(.5,.9),i=Z(400,600),n=[],e=[];for(let t=0;t<i;t++)n.push(tt(-o,o),tt(-o,o),tt(-o,o),Z(0,7)),e.push(...y([0,0,0,0],tt(-90,90),tt(-90,90),tt(-90,90)));return[B(32768),N(t.No,Float32Array.from(n),Float32Array.from(e),di)]}function wt(t){return[A([M([0,4,0],void 0,[.5,8,.5]),B(32768),K(t.Ro,t.Fo,[.119,.027,.012,1])],[M([0,7.41,-.25],void 0,[3,.45,.2]),B(32768),K(t.Ro,t.So,[.119,.027,.012,1])],[M([0,7.41,.25],void 0,[3,.45,.2]),B(32768),K(t.Ro,t.So,[.119,.027,.012,1])],[M([0,6.329,-.25],void 0,[3,.45,.2]),B(32768),K(t.Ro,t.So,[.119,.027,.012,1])],[M([1.3,7.75,-.25],void 0,[.2,.3,.2]),B(32768),K(t.Ro,t.Fo,[.367,.367,.367,1])],[M([1,7.75,-.25],void 0,[.2,.3,.2]),B(32768),K(t.Ro,t.Fo,[.367,.367,.367,1])],[M([1.3,6.7,-.25],void 0,[.2,.3,.2]),B(32768),K(t.Ro,t.Fo,[.367,.367,.367,1])],[M([1,6.7,-.25],void 0,[.2,.3,.2]),B(32768),K(t.Ro,t.Fo,[.367,.367,.367,1])],[M([-.34,5.76,-.24],[0,0,-.383,.924],[1.2,.2,.05]),B(32768),K(t.Ro,t.So,[.367,.367,.367,1])],[M([-1,7.75,.25],void 0,[.2,.3,.2]),B(32768),K(t.Ro,t.Fo,[.367,.367,.367,1])],[M([-1.3,7.75,.25],void 0,[.2,.3,.2]),B(32768),K(t.Ro,t.Fo,[.367,.367,.367,1])])]}function Tt(t){return[A([M(),...pt(t)],[M([0,1.5,0],void 0,[3,3,3]),U(!1,34,0),q(0)],[M([-2.25,2,0],void 0,[1.5,.1,3]),U(!1,66,0),q(0)],[M([-.8,.1,0],void 0,[4.9,.2,3.4]),U(!1,34,0),q(0)])]}function xt(t){return[A([M([0,.8,0],void 0,[4,1,2]),B(32768),K(t.Ro,t.So,[.8,.024,.016,1])],[M([1.276,.5,0],[.707,0,0,.707],[1,2.2,1]),B(32768),K(t.Ro,t.Fo,[0,0,0,1])],[M([-1.1,.5,0],[.707,0,0,.707],[1,2.2,1]),B(32768),K(t.Ro,t.Fo,[0,0,0,1])],[M([-.5,2,.9],void 0,[.2,1.4,.2]),B(32768),K(t.Ro,t.So,[.8,.024,.016,1])],[M([-.5,2,-.9],void 0,[.2,1.4,.2]),B(32768),K(t.Ro,t.So,[.8,.024,.016,1])],[M([1.9,2,.9],void 0,[.2,1.4,.2]),B(32768),K(t.Ro,t.So,[.8,.024,.016,1])],[M([1.9,2,-.9],void 0,[.2,1.4,.2]),B(32768),K(t.Ro,t.So,[.8,.024,.016,1])],[M([.7,2.8,0],void 0,[2.6,.2,2]),B(32768),K(t.Ro,t.So,[.8,.024,.016,1])],[M([-2,1,-.6],[.5,.5,-.5,.5],[.4,.2,.4]),B(32768),K(t.Ro,t.Fo,[.8,.784,.019,1])],[M([-2,1,.6],[.5,.5,-.5,.5],[.4,.2,.4]),B(32768),K(t.Ro,t.Fo,[.8,.784,.019,1])],[M([.264,1.55,.55],void 0,[.2,.5,.8]),B(32768),K(t.Ro,t.So,[0,0,0,1])],[M([.264,1.55,-.55],void 0,[.2,.5,.8]),B(32768),K(t.Ro,t.So,[0,0,0,1])])]}function At(t){return[A([M(),...xt(t)],[M([0,.8,0],void 0,[4,1,2]),U(!1,66,0),q(0)])]}function Rt(t){return[A([M(void 0,void 0,void 0),B(32768),K(t.Ro,t.So,[.342,.17,.035,1])],[M([.171,.62,0],[0,0,.574,.819],[.039,.7,1]),B(32768),K(t.Ro,t.So,[.342,.17,.035,1])],[M([-.293,.536,0],[0,0,-.643,.766],[.039,.42,1]),B(32768),K(t.Ro,t.So,[.342,.17,.035,1])])]}function Ft(t){return[U(!0,36,6),q(1),D(0),it(4096),...Rt(t)]}function Mt(t,o){return(i,n)=>{i.o.t[n]|=4194304,i.o.$o[n]={tt:t,Ao:o}}}function zt(o){return[U(!1,2,1,[1,100,1]),Mt(1,3),A([t("exit"),M([1,1,0])],[M([1,0,0],[0,-.707,0,.707],[.3,.3,.3]),...$(o)])]}function It(t){return[G([0,0,1],null,"walk"),Y(1,0),nt(10),S(t.bt,t.No,ot(fi)),A([M(),A([M(),E(0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),C({idle:{L:[{H:0,P:[0,0,0]}]},walk:{L:[{H:0,P:[0,-.05,0]},{H:.6,P:[0,.01,0]}]}}),A([M(void 0,[0,0,-.628,.778]),A([M(),E(1,[.124,.992,0,0,-.992,.124,-0,0,-0,-0,1,0,-0,-0,-0,1]),C({idle:{L:[{H:0,N:[0,0,0,1]}]},walk:{L:[{H:0,N:[0,0,.044,.999]},{H:.6,N:[0,0,-.342,.94]}]}})])],[M(void 0,[0,0,.628,.778]),A([M(),E(2,[.124,-.992,-0,0,.992,.124,-0,0,0,-0,1,0,0,-0,-0,1]),C({idle:{L:[{H:0,N:[0,0,0,1]}]},walk:{L:[{H:0,N:[0,0,-.044,.999]},{H:.6,N:[0,0,.342,.94]}]}})])])])])]}function bt(t){let o=tt();return o<.1?[G([0,0,1],null,"walk"),Y(tt(1,1.2),0),nt(100),A([M(void 0,void 0,[2,2,2]),B(32784),...$(t,ot(vi),3)])]:o<.5?[G([0,0,1],null,"walk"),Y(tt(2,2.2),0),nt(50),A([M(void 0,void 0,[1,1.5,1]),B(32784),...$(t,ot(vi),1.5)])]:[G([0,0,1],null,"jump"),Y(tt(3,3.2),0),nt(30),A([M(void 0,void 0,[.5,.5,1]),B(32784),...$(t,ot(vi),.8)])]}function kt(t){i(t,[M([7.532,-.5,1.453],[0,.707,0,.707],[4,2.003,30]),..._t(t)]),i(t,[M([30.675,-1.198,1.453],[0,.707,0,.707],[4,2.003,17.76]),..._t(t)]),i(t,[M([71.785,-1.477,1.453],[0,.707,0,.707],[4,2.003,6.11]),..._t(t)]),i(t,[M([76.045,.522,1.453],[0,.707,0,.707],[4,2.003,7.047]),..._t(t)]),i(t,[M([49.734,-1.5,-5.547],[0,.707,0,.707],[10,4,120]),..._t(t)]),i(t,[M([17.043,-3.406,-6.364],y([0,0,0,1],0,90,0),[5,10,10]),K(t.Ro,t.xo,[.5,.5,.5,1])]),i(t,[M([29.067,-2.849,-6.198],y([0,0,0,1],0,90,0),[5,10,10]),K(t.Ro,t.xo,[.5,.5,.5,1])]),i(t,[M([40.236,-8.323,-7.025],y([0,0,0,1],0,90,0),[12,22,8]),K(t.Ro,t.xo,[.5,.5,.5,1])]),i(t,[M([11.667,.5,-2.491],void 0,void 0),...pt(t)]),i(t,[M([-1.899,.435,-3.704],[0,-.986,0,.166],[.5,.5,.5]),...pt(t)]),i(t,[M([8.578,.718,.592],void 0,void 0),...yt(t)]),i(t,[M([24.076,.385,-.486],void 0,void 0),...yt(t)]),i(t,[M([.556,.238,-3.394],void 0,void 0),...yt(t)]),i(t,[M([13.367,2.125,-1.203],void 0,void 0),...yt(t)]),i(t,[M([-1.273,.19,-3.205],void 0,[.5,.5,.5]),...yt(t)]),i(t,[M([-4.515,.687,1.747],void 0,void 0),...yt(t)]),i(t,[M([2.685,.334,-2.793],void 0,void 0),...wt(t)]),i(t,[M([-.619,4.323,-5.257],void 0,[.2,.2,.2]),...wt(t)]),i(t,[M([-4.671,3.776,-5.403],void 0,[.15,.15,.15]),...wt(t)]),i(t,[M([4.619,.533,-3.357],void 0,void 0),...yt(t)]),i(t,[M([23.85,.109,-5.148],void 0,void 0),...wt(t)]),i(t,[M([26.94,.93,-1.805],void 0,void 0),...yt(t)]),i(t,[M([21.289,6.84,-5.257],void 0,[.2,.2,.2]),...wt(t)]),i(t,[M([-3.151,-.074,-5.666],void 0,void 0),...gt(t)]),i(t,[M([11.679,4.852,-5.235],void 0,[.25,.25,.25]),...gt(t)]),i(t,[M([20.605,.481,-2.506],void 0,void 0),...gt(t)]),i(t,[M([28.5,.481,-2.506],void 0,void 0),...gt(t)]),i(t,[M([30.326,.075,-3.081],void 0,void 0),...gt(t)]),i(t,[M([33.681,.258,-2.988],void 0,void 0),...gt(t)]),i(t,[M([33.432,.258,-4.449],void 0,void 0),...gt(t)]),i(t,[M([31.597,.258,-1.588],void 0,void 0),...gt(t)]),i(t,[M([29.482,.258,-.826],void 0,void 0),...gt(t)]),i(t,[M([28.814,.258,-4.263],void 0,void 0),...gt(t)]),i(t,[M([34.241,.258,-5.087],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([32.344,.258,-3.376],void 0,void 0),...gt(t)]),i(t,[M([28.145,.258,-1.573],void 0,void 0),...gt(t)]),i(t,[M([27.834,.258,-3.998],void 0,void 0),...gt(t)]),i(t,[M([30.213,.258,-4.558],void 0,void 0),...gt(t)]),i(t,[M([30.571,.258,-2.241],void 0,void 0),...gt(t)]),i(t,[M([21.225,.258,-3.268],void 0,void 0),...gt(t)]),i(t,[M([22.438,.258,-2.848],void 0,void 0),...gt(t)]),i(t,[M([23.729,.258,-3.687],void 0,void 0),...gt(t)]),i(t,[M([31.045,.743,-1.14],void 0,void 0),...yt(t)]),i(t,[M([29.076,.386,-3.853],void 0,void 0),...yt(t)]),i(t,[M([11.687,.5,.827],void 0,void 0),...Tt(t)]),i(t,[M([11.581,.677,2.019],void 0,void 0),...yt(t)]),i(t,[M([15.393,.109,-2.793],void 0,void 0),...wt(t)]),i(t,[M([-3.948,.5,1.411],[0,.622,0,.783],void 0),...At(t)]),i(t,[M([7.692,1,-.096],[-.147,.684,.7,.144],[.4,.4,.4]),...At(t)]),i(t,[M([14.311,.109,3.176],void 0,void 0),...wt(t)]),i(t,[M([22.335,.385,-.905],void 0,void 0),...yt(t)]),i(t,[M([-2.766,.385,-.993],void 0,void 0),...yt(t)]),i(t,[M([54.036,.5,.827],void 0,void 0),...Tt(t)]),i(t,[M([28.606,.975,0],void 0,void 0),...Ft(t)]),i(t,[M([21.958,1,-2.347],[-.442,.55,.563,.431],[.4,.4,.4]),...xt(t)]),i(t,[M([17.431,.481,-2.709],void 0,void 0),...gt(t)]),i(t,[M([18.731,.481,-1.713],void 0,void 0),...gt(t)]),i(t,[M([22.567,.93,-1.771],void 0,void 0),...yt(t)]),i(t,[M([30.874,.481,3.099],void 0,void 0),...gt(t)]),i(t,[M([32.985,.481,3.336],void 0,void 0),...gt(t)]),i(t,[M([33.508,.481,2.998],void 0,void 0),...gt(t)]),i(t,[M([56.116,.236,2.713],void 0,void 0),...wt(t)]),i(t,[M([54.23,4.091,0],void 0,void 0),...Ft(t)]),i(t,[M([31.022,.258,-3.719],void 0,void 0),...gt(t)]),i(t,[M([31.784,.258,-4.745],void 0,void 0),...gt(t)]),i(t,[M([31.022,.258,-3.719],void 0,void 0),...gt(t)]),i(t,[M([31.784,.258,-4.745],void 0,void 0),...gt(t)]),i(t,[M([34.225,.258,-5.693],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([37.32,.258,-6.004],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([34.816,.258,-6.02],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([34.692,.258,-5.569],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([35.656,.258,-6.284],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([35.345,.258,-5.678],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([36.184,.258,-5.88],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([38.564,.258,-6.611],void 0,[.4,.4,.4]),...gt(t)]),i(t,[M([36.268,.258,-6.533],void 0,[.4,.4,.4]),...gt(t)]),i(t,[M([36.878,.258,-7.025],void 0,[.4,.4,.4]),...gt(t)]),i(t,[M([37.911,.258,-6.465],void 0,[.4,.4,.4]),...gt(t)]),i(t,[M([37.394,.258,-6.916],void 0,[.4,.4,.4]),...gt(t)]),i(t,[M([37.058,.258,-6.527],void 0,[.4,.4,.4]),...gt(t)]),i(t,[M([38.19,.258,-6.962],void 0,[.4,.4,.4]),...gt(t)]),i(t,[M([28.606,2.405,0],void 0,void 0),...Ft(t)]),i(t,[M([53.759,-.498,1.453],[0,.707,0,.707],[4,2.003,30]),..._t(t)]),i(t,[M([69.451,-3.406,-6.364],y([0,0,0,1],0,90,0),[5,10,10]),K(t.Ro,t.xo,[.5,.5,.5,1])]),i(t,[M([51.79,4.323,-5.257],void 0,[.2,.2,.2]),...wt(t)]),i(t,[M([47.737,3.776,-5.403],void 0,[.15,.15,.15]),...wt(t)]),i(t,[M([45.996,.109,-1.516],[0,-.727,0,.686],void 0),...wt(t)]),i(t,[M([44.272,.258,-4.246],[0,-.727,0,.686],void 0),...gt(t)]),i(t,[M([43.782,.258,-3.059],[0,-.727,0,.686],void 0),...gt(t)]),i(t,[M([43.311,1,-3.568],[-.713,.063,.065,.696],[.4,.4,.4]),...xt(t)]),i(t,[M([42.7,.93,-2.993],[0,-.727,0,.686],void 0),...yt(t)]),i(t,[M([59.592,.435,-4.675],[0,.707,0,.707],[.5,.5,.5]),...pt(t)]),i(t,[M([61.26,.435,-4.675],[0,.707,0,.707],[.5,.5,.5]),...pt(t)]),i(t,[M([62.932,.435,-4.675],[0,.707,0,.707],[.5,.5,.5]),...pt(t)]),i(t,[M([60.146,.558,-3.884],[0,-.727,0,.686],void 0),...yt(t)]),i(t,[M([68.567,.075,-3.081],void 0,void 0),...gt(t)]),i(t,[M([71.922,.258,-2.988],void 0,void 0),...gt(t)]),i(t,[M([71.673,.258,-4.449],void 0,void 0),...gt(t)]),i(t,[M([72.482,.258,-5.087],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([70.584,.258,-3.376],void 0,void 0),...gt(t)]),i(t,[M([68.812,.258,-2.241],void 0,void 0),...gt(t)]),i(t,[M([67.317,.386,-3.853],void 0,void 0),...yt(t)]),i(t,[M([69.263,.258,-3.719],void 0,void 0),...gt(t)]),i(t,[M([70.025,.258,-4.745],void 0,void 0),...gt(t)]),i(t,[M([72.466,.258,-5.693],void 0,[.7,.7,.7]),...gt(t)]),i(t,[M([41.695,2.405,0],void 0,void 0),...Ft(t)]),i(t,[M([41.394,2.405,2.85],void 0,void 0),...Ft(t)]),i(t,[M([41.031,2.952,-1.296],[0,0,-.707,.707],void 0),...Ft(t)]),i(t,[M([61.983,.211,2.777],void 0,void 0),...yt(t)]),i(t,[M([87.091,-10.266,-7.025],y([0,0,0,1],0,90,0),[12,22,8]),K(t.Ro,t.xo,[.5,.5,.5,1])]),i(t,[M([78.665,1.215,3.099],[0,.996,0,.086],void 0),...gt(t)]),i(t,[M([75.148,1.398,-.34],[0,.996,0,.086],void 0),...gt(t)]),i(t,[M([73.43,1.229,3.107],[0,.996,0,.086],void 0),...gt(t)]),i(t,[M([78.016,.236,-3.542],void 0,void 0),...wt(t)]),i(t,[M([56.158,.609,.392],[0,-1,0,-.016],void 0),...yt(t)]),i(t,[M([56.401,1,.298],[.698,.155,.159,-.681],void 0),...At(t)]),i(t,[M([77,1.5,0]),...zt(t)]),i(t,[M([-3,2,-2],[.011,.755,.122,.644]),A([M(),L(1),at(It,.5),B(393216)])]),i(t,[M([14,2,-2],[.011,.755,.122,.644]),A([M(),L(1),at(It,.5),B(393216)])]),i(t,[M([33,2,-2],[.011,.755,.122,.644]),A([M(),L(1),at(It,.5),B(393216)])]),i(t,[M([53,2,-2],[.011,.755,.122,.644]),A([M(),L(1),at(It,.5),B(393216)])]),i(t,[M([73,2,-2],[.011,.755,.122,.644]),A([M(),L(1),at(It,.5),B(393216)])]),i(t,[M([-7,.5,-5],[0,.707,0,.707]),at(bt,1)]),i(t,[...mt(),M()]),i(t,[...ht(t),M()])}function Ct(n){n.o=new si,n.Vo=!0;let e=i(n,[M([0,1,-3]),t("camera anchor")]),r=Q(n,[0,.774,0]);n.o.t[r]&=-129,kt(n);let a=i(n,[M([0,16,-5],y([0,0,0,1],10,0,0),[17,10,1]),A([M(),L(.5),V(20,.1,0),P([1,1,1,1],2,[.5,.5,1,1],1)])]),l=i(n,[M([-5,10,-3],y([0,0,0,1],-45,110,0)),A([M(),L(3),at(rt,3)])]),s=i(n,[...I(0,[145/255,85/255,61/255,1]),M([0,15,0],y([0,0,0,1],10,0,0)),D(o(n.o,"camera anchor"),.02),it(4096)]),d=[i(n,[...$(n,[1,.5,0,1],.7),M([1,.5,0],[0,.707,0,.707],[.3,.3,.3]),Y(1.5,0)]),i(n,[...$(n,[1,.5,0,1],.8),M([.3,.5,-.5],[0,.707,0,.707],[.3,.3,.3]),Y(1.6,0)]),i(n,[...$(n,[1,.5,0,1],.9),M([-.2,.5,.3],[0,.707,0,.707],[.3,.3,.3]),Y(1.7,0)])];var f,v;i(n,[(f=()=>n.Do===dt,v=()=>{F(n.o,l),i(n,[A([W(1,(()=>{n.o.t[s]|=4096}))],[W(4,(()=>{for(let t of d)G([0,0,1],null,"jump")(n,t),nt(7)(n,t)}))],[W(7,(()=>{F(n.o,a);let t=n.o.Vt[s];t.I=o(n.o,"camera anchor",e+1),t.Dt=.05,i(n,[...H(n),M([-20,5,0])])}))]),W(2,(()=>{n.o.t[r]|=128}))])},(t,o)=>{t.o.t[o]|=524288,t.o.Ht[o]={m:0,Lo:f,jt:v}})])}function Et(t){t.o=new si,t.Vo=!0,Q(t,[0,.774,0]),kt(t),i(t,[...I(0,[145/255,85/255,61/255,1]),M([0,10,10]),D(o(t.o,"camera anchor"),.05)])}function Bt(t){return[A([M([0,1,0],void 0,[3,2,3]),B(32768),K(t.Ro,t.So,[.406,0,0,1])],[M([0,2,.9],[.707,0,0,.707],[3,1.2,2.99]),B(32768),K(t.Ro,t.Fo,[.406,0,0,1])],[M([-1.5,1,-1.5],void 0,[.1,2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-1.5,1,1.5],void 0,[.1,2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([1.5,1,-1.5],void 0,[.1,2,.1]),B(32768),K(t.Ro,t.So,[0,0,0,1])],[M([1.5,1,1.5],void 0,[.1,2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,2,1.49],void 0,[3.099,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,2,-1.5],void 0,[3.099,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([1.5,2,-.001],[0,.707,0,.707],[3.099,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-1.498,2,-.001],[0,.707,0,.707],[3.099,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-1.28,2.524,1.49],[0,0,.547,.837],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-1.28,2.524,-1.494],[0,0,.547,.837],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([1.273,2.524,1.49],[0,0,-.547,.837],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([1.273,2.524,-1.524],[0,0,-.547,.837],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([.507,3.274,-1.524],[0,0,-.191,.982],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([.507,3.274,1.527],[0,0,-.191,.982],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-.521,3.274,1.527],[0,0,.191,.982],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-.521,3.274,-1.525],[0,0,.191,.982],[1.159,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,1.5,1.6],void 0,[1.8,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([.854,.7,1.6],[0,0,-.707,.707],[1.5,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-.85,.7,1.6],[0,0,-.707,.707],[1.5,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,.7,1.59],[0,0,-.383,.924],[2.2,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,.7,1.58],[0,0,.383,.924],[2.2,.1,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([-1.247,2.524,-.011],[0,0,.547,.837],[1.159,.1,2.99]),B(32768),K(t.Ro,t.So,[.07,.07,.07,1])],[M([1.242,2.524,-.011],[0,0,-.547,.837],[1.159,.1,2.99]),B(32768),K(t.Ro,t.So,[.07,.07,.07,1])],[M([.508,3.242,-.011],[0,0,-.191,.982],[1.159,.1,2.99]),B(32768),K(t.Ro,t.So,[.07,.07,.07,1])],[M([-.515,3.242,-.011],[0,0,.191,.982],[1.159,.1,2.99]),B(32768),K(t.Ro,t.So,[.07,.07,.07,1])])]}function Kt(t){return[A([M([0,.6,0],void 0,[.1,1.2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,1.21,.5],[.707,0,0,.707],[.1,2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,.6,1],void 0,[.1,1.2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,.8,.5],[.707,0,0,.707],[.1,2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])],[M([0,.4,.5],[.707,0,0,.707],[.1,2,.1]),B(32768),K(t.Ro,t.So,[.8,.8,.8,1])])]}function St(t){return[A([M([0,3,0],void 0,[2.5,6,2.5]),B(32768),K(t.Ro,t.Fo,[.406,0,0,1])],[M([0,.001,0],void 0,[2.6,.2,2.6]),B(32768),K(t.Ro,t.Fo,[.8,.8,.8,1])],[M([0,6,0],void 0,[2.6,.2,2.6]),B(32768),K(t.Ro,t.Fo,[.8,.8,.8,1])],[M([0,3,0],void 0,[2.6,.2,2.6]),B(32768),K(t.Ro,t.Fo,[.8,.8,.8,1])],[M([0,1.5,0],void 0,[2.6,.2,2.6]),B(32768),K(t.Ro,t.Fo,[.8,.8,.8,1])],[M([0,4.5,0],void 0,[2.6,.2,2.6]),B(32768),K(t.Ro,t.Fo,[.8,.8,.8,1])],[M([.527,3,1.595],void 0,[.4,6,.4]),B(32768),K(t.Ro,t.Fo,[.8,.8,.8,1])])]}function Pt(t){return[A([M(),...wt(t)],[M([0,4,0],void 0,[.5,8,.5]),U(!1,34,0),q(0)])]}function Nt(t){return[A([M(),...Bt(t)],[M([0,1,0],void 0,[3,2,3]),U(!1,34,0),q(0)])]}function $t(t){return[A([M(),...Kt(t)],[M([0,.7,.5],void 0,[.1,1.2,2]),U(!1,34,0),q(0)])]}function Vt(t){t.o=new si,t.Vo=!0,Q(t,[0,.774,0]),function(t){i(t,[M([5.402,-.5,.961],[0,.707,0,.707],[4,2.003,15]),..._t(t)]),i(t,[M([19.346,-2.5,.961],[0,.707,0,.707],[4,2.003,14]),..._t(t)]),i(t,[M([42.296,-.498,.961],[0,.707,0,.707],[4,2.003,35]),..._t(t)]),i(t,[M([56.933,-1.5,-6.039],[0,.707,0,.707],[10,4,120]),..._t(t)]),i(t,[M([66.274,.258,-4.179],void 0,void 0),...gt(t)]),i(t,[M([32.705,.386,-4.345],void 0,void 0),...yt(t)]),i(t,[M([1.391,.5,-5.425],[0,.56,0,.829],[2,2,2]),...Bt(t)]),i(t,[M([-.953,.5,2.694],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([1.047,.5,2.694],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([2.523,-.045,2.694],[.191,.681,-.191,.681],void 0),...Kt(t)]),i(t,[M([7.953,.5,-5.44],[0,.175,0,.985],void 0),...St(t)]),i(t,[M([8.455,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([10.455,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([12.455,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([14.455,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([16.455,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([19.227,.5,-6.935],void 0,[.8,.8,.8]),...Bt(t)]),i(t,[M([18.455,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([18.125,.547,-5.585],void 0,void 0),...yt(t)]),i(t,[M([13.626,-.537,-1.589],void 0,[2,2,2]),...yt(t)]),i(t,[M([13.791,.191,-3.014],void 0,void 0),...gt(t)]),i(t,[M([24.62,.356,-5.02],[0,.952,0,.305],void 0),...wt(t)]),i(t,[M([62.05,.5,-7.332],[0,.175,0,.985],[.6,.6,.6]),...St(t)]),i(t,[M([64.082,.5,-7.332],[0,.175,0,.985],[.6,.6,.6]),...St(t)]),i(t,[M([66.141,.5,-7.332],[0,.175,0,.985],[.6,.6,.6]),...St(t)]),i(t,[M([62.6,.582,-7],void 0,void 0),...yt(t)]),i(t,[M([66.018,3.589,-7.08],void 0,void 0),...yt(t)]),i(t,[M([70.268,.356,-8.288],[0,.952,0,.305],[.7,.7,.7]),...wt(t)]),i(t,[M([71.828,.5,-7.627],[0,-.437,0,.899],[.8,.8,.8]),...Bt(t)]),i(t,[M([74.694,.5,-3.806],[0,.815,0,.579],[.5,.5,.5]),...Kt(t)]),i(t,[M([11.777,.9,-6.806],[.681,.19,-.19,.681],[.4,.4,.4]),...xt(t)]),i(t,[M([11.411,.611,-5.828],void 0,void 0),...yt(t)]),i(t,[M([73.83,.5,-3.493],[0,.815,0,.579],[.5,.5,.5]),...Kt(t)]),i(t,[M([72.936,.5,-3.299],[0,.739,0,.674],[.5,.5,.5]),...Kt(t)]),i(t,[M([72.017,.5,-3.237],[0,.722,0,.692],[.5,.5,.5]),...Kt(t)]),i(t,[M([71.067,.5,-3.193],[0,.722,0,.692],[.5,.5,.5]),...Kt(t)]),i(t,[M([70.144,.5,-3.303],[0,.602,0,.798],[.5,.5,.5]),...Kt(t)]),i(t,[M([69.338,.5,-3.74],[0,.411,0,.911],[.5,.5,.5]),...Kt(t)]),i(t,[M([67.357,.5,-5.59],[0,.411,0,.911],[.5,.5,.5]),...Kt(t)]),i(t,[M([66.55,.5,-5.934],[0,.678,0,.735],[.5,.5,.5]),...Kt(t)]),i(t,[M([65.619,.5,-6.015],[0,.678,0,.735],[.5,.5,.5]),...Kt(t)]),i(t,[M([64.694,.5,-6.015],[0,.739,0,.674],[.5,.5,.5]),...Kt(t)]),i(t,[M([63.788,.5,-5.928],[0,.739,0,.674],[.5,.5,.5]),...Kt(t)]),i(t,[M([68.032,.5,-4.984],[0,.411,0,.911],[.5,.5,.5]),...Kt(t)]),i(t,[M([62.882,.5,-5.915],[0,.678,0,.735],[.5,.5,.5]),...Kt(t)]),i(t,[M([61.957,.5,-5.915],[0,.739,0,.674],[.5,.5,.5]),...Kt(t)]),i(t,[M([61.12,.5,-6.121],[0,.476,0,.88],[.5,.5,.5]),...Kt(t)]),i(t,[M([60.439,.5,-6.74],[0,.33,0,.944],[.5,.5,.5]),...Kt(t)]),i(t,[M([60.095,.5,-7.584],[0,.049,0,.999],[.5,.5,.5]),...Kt(t)]),i(t,[M([60.007,.5,-8.527],[0,.049,0,.999],[.5,.5,.5]),...Kt(t)]),i(t,[M([68.415,.289,-4.194],[.149,.384,-.33,.85],[.5,.5,.5]),...Kt(t)]),i(t,[M([29.079,.331,-4.94],void 0,void 0),...yt(t)]),i(t,[M([2.724,.611,2.529],void 0,void 0),...yt(t)]),i(t,[M([25.372,.228,0],[-.673,.673,.216,.216],[.75,.75,.75]),...Pt(t)]),i(t,[M([23.231,-.715,.057],void 0,void 0),...Ft(t)]),i(t,[M([25.088,.402,2.789],void 0,void 0),...gt(t)]),i(t,[M([9.208,.611,2.529],void 0,void 0),...yt(t)]),i(t,[M([15.132,-1.485,1.53],[.5,.5,.5,.5],void 0),...Kt(t)]),i(t,[M([15.272,-1.922,2.401],void 0,void 0),...yt(t)]),i(t,[M([24.972,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([26.972,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([28.972,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([31.744,.5,-6.935],void 0,[.8,.8,.8]),...Bt(t)]),i(t,[M([30.972,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([38.086,.356,-7.729],[0,.952,0,.305],void 0),...wt(t)]),i(t,[M([20.999,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([22.999,.5,-7.559],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([15.638,-.537,-1.628],void 0,[2,2,2]),...yt(t)]),i(t,[M([17.728,-.537,-1.473],void 0,[2,2,2]),...yt(t)]),i(t,[M([19.817,-.537,-1.783],void 0,[2,2,2]),...yt(t)]),i(t,[M([21.791,-.537,-1.667],void 0,[2,2,2]),...yt(t)]),i(t,[M([23.687,-.537,-2.015],void 0,[2,2,2]),...yt(t)]),i(t,[M([44.792,.5,-.191],[0,.707,0,.707],[2,2,2]),...Nt(t)]),i(t,[M([41.232,3.454,.057],void 0,void 0),...Ft(t)]),i(t,[M([41.232,1.077,.057],void 0,void 0),...Ft(t)]),i(t,[M([41.232,2.27,.057],void 0,void 0),...Ft(t)]),i(t,[M([41.232,4.617,0],void 0,void 0),...Ft(t)]),i(t,[M([59.503,.258,.928],void 0,void 0),...gt(t)]),i(t,[M([54.898,.258,1.47],void 0,void 0),...gt(t)]),i(t,[M([50.294,.258,1.16],void 0,void 0),...gt(t)]),i(t,[M([53.834,.356,-3.705],[0,.194,0,.981],void 0),...wt(t)]),i(t,[M([59.058,.356,-10.051],[0,.556,0,.831],void 0),...wt(t)]),i(t,[M([47.846,.331,2.412],void 0,void 0),...yt(t)]),i(t,[M([54.829,.5,2.694],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([56.829,.5,2.694],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([58.305,-.045,2.694],[.191,.681,-.191,.681],void 0),...Kt(t)]),i(t,[M([58.505,.611,2.529],void 0,void 0),...yt(t)]),i(t,[M([82.626,-.498,.961],[0,.707,0,.707],[4,2.003,35]),..._t(t)]),i(t,[M([72.227,.5,-1.567],[0,.175,0,.985],void 0),...St(t)]),i(t,[M([71.008,2.999,.323],[.707,.707,0,0],[2,2,2]),...$t(t)]),i(t,[M([78.077,.722,-3.382],[-.324,.629,.629,-.324],[.75,.75,.75]),...Pt(t)]),i(t,[M([76.999,1.985,0],void 0,void 0),...Ft(t)]),i(t,[M([72.162,4.567,.31],void 0,void 0),...Ft(t)]),i(t,[M([77.575,.777,2.871],void 0,void 0),...yt(t)]),i(t,[M([67.938,.258,2.631],void 0,void 0),...gt(t)]),i(t,[M([79.198,.258,-.813],void 0,void 0),...gt(t)]),i(t,[M([81.946,.258,-5.34],void 0,void 0),...gt(t)]),i(t,[M([94.119,.258,-2.957],void 0,void 0),...gt(t)]),i(t,[M([96.328,.258,2.515],void 0,void 0),...gt(t)]),i(t,[M([-1.914,.5,-.217],void 0,void 0),...$t(t)]),i(t,[M([-1.914,.5,1.824],void 0,void 0),...$t(t)]),i(t,[M([84.659,.356,-2.181],[0,.952,0,.305],void 0),...wt(t)]),i(t,[M([90.594,.5,-6.21],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([92.594,.5,-6.21],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([95.366,.5,-5.586],void 0,[.8,.8,.8]),...Bt(t)]),i(t,[M([94.594,.5,-6.21],[0,.707,0,.707],void 0),...Kt(t)]),i(t,[M([89.688,.5,-5.266],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([89.696,.5,-3.44],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([89.712,.5,-1.644],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([89.73,.5,.147],[0,1,0,0],void 0),...$t(t)]),i(t,[M([89.73,.5,2.069],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([89.688,1.638,-5.266],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([89.696,1.638,-3.44],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([89.712,1.638,-1.644],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([89.73,1.638,.147],[0,1,0,0],void 0),...$t(t)]),i(t,[M([89.73,1.638,2.069],[0,1,0,0],void 0),...Kt(t)]),i(t,[M([95,.5,0]),...zt(t)]),i(t,[M([62.526,-.798,.961],[0,.707,0,.707],[4,2.003,5.75]),..._t(t)]),i(t,[...mt(),M()]),i(t,[...ht(t),M()])}(t),i(t,[...H(t),M([-20,5,0])]),i(t,[...I(0,[1,208/255,0,1]),M([0,10,10]),D(o(t.o,"camera anchor"),.05)])}function Dt(t){return[B(32768),K(t.Ro,t.Fo,[.8,.2,.2,1])]}function Lt(t){return[A([M(),...Dt(t)],[M(void 0,void 0,[.5,1,.25]),U(!1,34,0),q(0)])]}function Wt(t){return[A([M([0,0,0],y([0,0,0,1],0,-90,0),[5,60,20]),G([0,0,1],null,"walk"),Y(.5,.5),...$(t,[0,0,0,1],50)])]}function Ht(t){return[D(0),it(4096),q(1),U(!0,36,6,[6,.5,.5]),A([M([0,0,0],y([0,0,0,1],0,0,90),[.5,6,.5]),...Dt(t)])]}function Xt(o){return[t("launchpad"),G([0,1,0],null),it(64),Y(5,0),A([M(),L(.01),it(131072),A([M([0,-30,0],void 0,[3,3,3]),...et(o)],[M([0,-30,0],[.707,0,0,.707]),A([M(),L(.1),V(2,.01,5),P([1,1,1,1],200,[1,.5,0,1],500)])])])]}function jt(n){n.o=new si,n.Vo=!0,Q(n,[0,-2,0]),function(o){i(o,[M([3.698,-4.7,1.395],[0,.707,0,.707],[4,2.003,20]),..._t(o)]),i(o,[M([33.685,-2.25,1.395],[0,.707,0,.707],[4,5,40]),..._t(o)]),i(o,[M([46.763,-1.75,-5.605],[0,.707,0,.707],[10,4,105]),..._t(o)]),i(o,[M([11.077,.547,-6.398],void 0,void 0),...yt(o)]),i(o,[M([-3.752,-1.042,-.369],void 0,[3,3,3]),...yt(o)]),i(o,[M([20.014,.582,-6.565],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([7.742,.611,-5.393],void 0,void 0),...yt(o)]),i(o,[M([17.472,.547,-8.601],void 0,void 0),...yt(o)]),i(o,[M([20.536,.547,-1.319],void 0,void 0),...yt(o)]),i(o,[M([10.405,.547,-1.964],void 0,void 0),...yt(o)]),i(o,[M([-1.606,.547,-2.287],void 0,void 0),...yt(o)]),i(o,[M([27.699,.582,-2.777],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([29.875,.582,-9.011],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([15.796,.582,-4.064],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([23.4,.582,-.949],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([-3.889,-3.873,2.375],void 0,[20,4,20]),...gt(o)]),i(o,[M([-1.288,.191,-1.989],void 0,[10,4,10]),...gt(o)]),i(o,[M([10.51,-3.953,-1.485],void 0,[10,8,10]),...gt(o)]),i(o,[M([6.327,.191,-1.725],void 0,[10,4,10]),...gt(o)]),i(o,[M([9.531,.191,-6.075],void 0,[10,4,10]),...gt(o)]),i(o,[M([9.298,.191,-2.361],void 0,[10,4,10]),...gt(o)]),i(o,[M([12.562,.026,-1.458],void 0,[10,8,10]),...gt(o)]),i(o,[M([13.787,.191,-3.901],void 0,[10,4,10]),...gt(o)]),i(o,[M([16.759,.191,-9.066],void 0,[10,4,10]),...gt(o)]),i(o,[M([16.063,.191,-3.029],void 0,[10,4,10]),...gt(o)]),i(o,[M([24.792,.191,-2.704],void 0,[10,4,10]),...gt(o)]),i(o,[M([19.979,.191,-3.293],void 0,[10,4,10]),...gt(o)]),i(o,[M([30.828,.191,-1.452],void 0,[10,4,10]),...gt(o)]),i(o,[M([33.475,.191,-8.416],void 0,[10,4,10]),...gt(o)]),i(o,[M([37.639,.191,-1.219],void 0,[7.5,3,7.5]),...gt(o)]),i(o,[M([41.669,-.324,-1.576],void 0,[10,4,10]),...gt(o)]),i(o,[M([46.723,-.09,-1.525],void 0,[10,8,10]),...gt(o)]),i(o,[M([52.76,.191,-2.093],void 0,[10,4,10]),...gt(o)]),i(o,[M([56.985,.191,-2.047],void 0,[10,4,10]),...gt(o)]),i(o,[M([83.135,.191,-1.66],void 0,[10,4,10]),...gt(o)]),i(o,[M([61.023,.191,-9.333],void 0,[10,4,10]),...gt(o)]),i(o,[M([60.327,.191,-3.297],void 0,[10,4,10]),...gt(o)]),i(o,[M([64.506,.191,-2.925],void 0,[10,4,10]),...gt(o)]),i(o,[M([69.056,.191,-2.972],void 0,[10,4,10]),...gt(o)]),i(o,[M([70.356,.191,-8.637],void 0,[10,4,10]),...gt(o)]),i(o,[M([79.318,.191,-3.25],void 0,[10,4,10]),...gt(o)]),i(o,[M([77.739,.191,-8.683],void 0,[10,4,10]),...gt(o)]),i(o,[M([43.479,.191,-9.068],void 0,[10,4,10]),...gt(o)]),i(o,[M([90.685,.191,-2.381],void 0,[10,4,10]),...gt(o)]),i(o,[M([-3.794,-1.961,0],[0,.707,0,.707],[1.5,6.144,2]),..._t(o)]),i(o,[M([-.541,-.873,-2.022],void 0,[3,3,3]),...yt(o)]),i(o,[M([2.748,-.436,-2.215],void 0,[3,3,3]),...yt(o)]),i(o,[M([5.921,-.436,-2.176],void 0,[3,3,3]),...yt(o)]),i(o,[M([9.133,-.436,-2.137],void 0,[3,3,3]),...yt(o)]),i(o,[M([12.267,-.436,-2.099],void 0,[3,3,3]),...yt(o)]),i(o,[M([15.07,-1.114,1.98],void 0,[3,3,3]),...yt(o)]),i(o,[M([10.124,-1.192,-.696],[.704,-.07,.07,.704],[.5,4,.5]),...Lt(o)]),i(o,[M([12.816,-2.88,.162],void 0,[1.3,1.3,1.3]),...Ft(o)]),i(o,[M([-1.529,2.558,-2.052],[.344,.618,-.344,.618],[.5,4,.5]),...Dt(o)]),i(o,[M([11.491,-.094,-.654],[.705,.056,-.056,.705],[.5,4,.5]),...Lt(o)]),i(o,[M([6.645,3.532,-1.492],[.54,.61,.192,.547],[.5,4,.5]),...Dt(o)]),i(o,[M([19.142,-.333,2.004],void 0,[20,4,20]),...gt(o)]),i(o,[M([44.068,1.007,0],void 0,[1.3,1.3,1.3]),...Ft(o)]),i(o,[M([34.713,-.331,-1.754],void 0,[10,4,10]),...gt(o)]),i(o,[M([34.042,2.193,.619],[.706,-.045,.045,.706],[.5,4,.5]),...Lt(o)]),i(o,[M([35.14,2.918,.012],[.707,.006,-.006,.707],[.5,2,.5]),...Lt(o)]),i(o,[M([37.71,4.1,.044],[.5,.5,-.5,.5],[.5,4,.5]),...Lt(o)]),i(o,[M([41.553,5.419,-.251],[.5,.5,-.5,.5],[.5,4,.5]),...Lt(o)]),i(o,[M([68.295,-3.312,-3.498],void 0,void 0),...Wt(o)]),i(o,[M([34.944,.582,-4.29],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([45.044,.582,-5.722],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([38.853,.582,.005],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([49.571,.582,2.404],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([58.548,.582,-9.282],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([71.898,.582,-1.62],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([61.489,.582,-1.736],void 0,[2.439,1,2.539]),...yt(o)]),i(o,[M([46.815,6.495,0],[.5,.5,-.5,.5],[.5,6,.5]),...Lt(o)]),i(o,[M([92.214,-2.25,1.395],[0,.707,0,.707],[4,5,57]),..._t(o)]),i(o,[M([48.271,7.051,0],void 0,void 0),...Ht(o)]),i(o,[M([58.571,-3.256,1.395],[0,.707,0,.707],[4,2,10]),..._t(o)]),i(o,[M([55.291,-1.158,-1.698],void 0,[3,3,3]),...yt(o)]),i(o,[M([58.346,-1.41,-1.985],void 0,[3,3,3]),...yt(o)]),i(o,[M([59.944,.696,1.773],[0,.66,0,.751],void 0),...Ht(o)]),i(o,[M([62.768,.65,1.652],[0,.674,0,.739],void 0),...Ht(o)]),i(o,[M([58.433,.696,1.773],[0,.708,0,.706],void 0),...Ht(o)]),i(o,[M([61.141,.682,1.682],[0,.724,0,.69],void 0),...Ht(o)]),i(o,[M([54.119,-1.488,0],[.707,.006,-.006,.707],[.5,2,.5]),...Lt(o)]),i(o,[M([55.644,-.759,.49],[.703,.075,-.075,.703],[.5,2,.5]),...Lt(o)]),i(o,[M([80.256,.191,2.869],void 0,[10,4,10]),...gt(o)]),i(o,[M([82.065,1.241,2.496],void 0,[2,2,2]),...yt(o)]),i(o,[M([120.2,3,0]),t("exit"),U(!1,2,1),Mt(1,4)]),i(o,[M([122.6,.2,0],[0,.707,0,-.707],void 0),...Xt(o)]),i(o,[...mt(),M()]),i(o,[...ht(o),M()])}(n),i(n,[M([0,10,10]),D(o(n.o,"camera anchor"),.05),A([M(),...I(0,[.4,.6,.4,1]),L(.03),(t,o)=>{t.o.t[o]|=1048576,t.o.Wo[o]={tt:131072,X:.5,Ho:5,$t:5,Xo:!1}}])])}function Ut(t,i,n){switch(i){case 0:document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen();break;case 1:t.bo=parseInt(n.value);break;case 2:t.Do=dt;break;case 3:switch(t.jo){case Ct:case Et:t.jo=Vt;break;case Vt:t.jo=jt}t.To++,t.jo(t),t.Do=ft;break;case 4:{let[i]=n;t.o.t[i]&=-4194305;for(let o=0;o<t.o.t.length;o++)t.o.t[o]&=-129;let e=o(t.o,"launchpad");t.o.t[e]|=64,t.o.t[t.o.C[e].C[0]]|=131072,t.Do=vt;break}}}function Gt(t,o,i,n){return t.bindTexture(Go,o),t.texImage2D(Go,0,32856,i,n,0,6408,5121,null),t.texParameteri(Go,10241,Uo),t.texParameteri(Go,10240,Uo),o}function Ot(t,o,i,n){return t.bindTexture(Go,o),t.texImage2D(Go,0,33190,i,n,0,6402,5125,null),t.texParameteri(Go,10241,Uo),t.texParameteri(Go,10240,Uo),t.texParameteri(Go,34892,34894),t.texParameteri(Go,10242,33071),t.texParameteri(Go,10243,33071),o}function Yt(t,o,i){let n={Uo:t.createFramebuffer(),Go:o,Oo:i,Yo:Gt(t,t.createTexture(),o,i),qo:Ot(t,t.createTexture(),o,i)};t.bindFramebuffer(Oo,n.Uo),t.framebufferTexture2D(Oo,36096,Go,n.qo,0),t.framebufferTexture2D(Oo,36064,Go,n.Yo,0);let e=t.checkFramebufferStatus(Oo);if(36053!=e)throw Error(`Failed to set up the framebuffer (${e}).`);return n}function qt(t,o,i){let n=t.createProgram();if(t.attachShader(n,Qt(t,35633,o)),t.attachShader(n,Qt(t,35632,i)),t.linkProgram(n),!t.getProgramParameter(n,35714))throw Error(t.getProgramInfoLog(n));return n}function Qt(t,o,i){let n=t.createShader(o);if(t.shaderSource(n,i),t.compileShader(n),!t.getShaderParameter(n,35713))throw Error(t.getShaderInfoLog(n));return n}function Jt(t,o,i){let n=t.o.K[o],e=t.o.U[o];if(e.$o){let t=e.G[e.$o];t&&t!==e.O&&(0===e.O.j?e.O=t:1&e.O.W&&(e.O.j=0,e.O=t)),e.$o=void 0}let r=null,a=null;for(let t of e.O.L){if(e.O.j<t.H){a=t;break}r=t}if(r&&a){let t=(e.O.j-r.H)/(a.H-r.H);a.Ct&&(t=a.Ct(t)),r.P&&a.P&&(_(n.P,r.P,a.P,t),n.V=!0),r.N&&a.N&&(w(n.N,r.N,a.N,t),n.V=!0)}else r&&(r.P&&(d(n.P,r.P),n.V=!0),r.N&&(function(t,o){t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3]}(n.N,r.N),n.V=!0));let l=e.O.j+i;if(l<e.O.X)e.O.j=l;else{if(e.O.j=0,4&e.O.W)for(let t of e.O.L.reverse())t.H=e.O.X-t.H;2&e.O.W||(e.O=e.G.idle)}}function Zt(t,o,i,n){let e,r,a=t.currentTime+n,l=0,s=t.createGain();if(s.gain.value=(o[0]/9)**3,o[5]&&(r=t.createOscillator(),r.type=o[5],r.frequency.value=(o[7]/3)**3,e=t.createGain(),e.gain.value=(o[6]+3)**3,r.connect(e)),o[1]){let i=t.createBiquadFilter();i.type=o[1],i.frequency.value=2**o[2],i.Q.value=o[3]**1.5,e&&o[4]&&e.connect(i.detune),s.connect(i),i.connect(t.destination)}else s.connect(t.destination);for(let n of o[8]){let o=t.createGain();o.connect(s);let r=(n[1]/9)**3,d=(n[2]/9)**3,f=(n[3]/9)**3,v=d+f+(n[4]/6)**3;if(o.gain.setValueAtTime(0,a),o.gain.linearRampToValueAtTime(r,a+d),o.gain.setValueAtTime(r,a+d+f),o.gain.exponentialRampToValueAtTime(1e-5,a+v),n[0]){let r=t.createOscillator();r.type=n[0],r.connect(o),r.detune.value=3*(n[5]-7.5)**3,e&&n[6]&&e.connect(r.detune);let l=440*2**((i-69)/12);if(n[7]){let t=(n[8]/9)**3,o=(n[9]/9)**3,i=(n[10]/6)**3;r.frequency.linearRampToValueAtTime(0,a),r.frequency.linearRampToValueAtTime(l,a+t),r.frequency.setValueAtTime(l,a+t+o),r.frequency.exponentialRampToValueAtTime(1e-5,a+t+o+i)}else r.frequency.setValueAtTime(l,a);r.start(a),r.stop(a+v)}else{let i=t.createBufferSource();i.buffer=to(t),i.loop=!0,i.connect(o),i.start(a),i.stop(a+v)}v>l&&(l=v)}r&&(r.start(a),r.stop(a+l))}function to(t){if(!Oi){Oi=t.createBuffer(1,2*t.sampleRate,t.sampleRate);let o=Oi.getChannelData(0);for(let t=0;t<o.length;t++)o[t]=2*Math.random()-1}return Oi}function oo(t,o,i){let n=t.o.Ut[o];n.O&&(n.j+=i,n.j>n.O.Qo&&(n.O=void 0)),n.$o&&!n.O&&(function(t,o){let i=60/(o.Jo||120)/4;for(let n of o.Zo)for(let o=0;o<n.ti.length;o++)n.ti[o]&&Zt(t,n.oi,n.ti[o],o*i)}(t.Audio,n.$o),n.O=n.$o,n.j=0),n.$o=n.Gt}function io(t,o){o>1?(a(t.h,t._,o,t.p,t.g),e(t.T,t.h)):(a(t.h,t._/o,o,t.p,t.g),e(t.T,t.h))}function no(t){!function(t,o,i,n,e,r,a){let l=1/(e-i),s=1/(n-o),d=1/(r-a);t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+i)*l,t[13]=(o+n)*s,t[14]=(a+r)*d,t[15]=1}(t.h,t.k,t.k,-t.k,-t.k,t.p,t.g),e(t.T,t.h)}function eo(t,o){let i,n,e,r,a,s;l(o.oo,t),i=r=o.oo[0],n=a=o.oo[1],e=s=o.oo[2];let d=[0,0,0];for(let l=0;l<8;l++){let f=qi[l];d[0]=f[0]*o.Tt[0],d[1]=f[1]*o.Tt[1],d[2]=f[2]*o.Tt[2],h(d,d,t),d[0]<i&&(i=d[0]),d[0]>r&&(r=d[0]),d[1]<n&&(n=d[1]),d[1]>a&&(a=d[1]),d[2]<e&&(e=d[2]),d[2]>s&&(s=d[2])}o.Jt=[i,n,e],o.Zt=[r,a,s],o.io[0]=(r-i)/2,o.io[1]=(a-n)/2,o.io[2]=(s-e)/2}function ro(t,o){let i=t.oo[0]-o.oo[0],n=t.io[0]+o.io[0]-Math.abs(i),e=t.oo[1]-o.oo[1],r=t.io[1]+o.io[1]-Math.abs(e),a=t.oo[2]-o.oo[2],l=t.io[2]+o.io[2]-Math.abs(a);return n<r&&n<l?[n*Math.sign(i),0,0]:r<l?[0,r*Math.sign(e),0]:[0,0,l*Math.sign(a)]}function ao(t,o){return t.Jt[0]<o.Zt[0]&&t.Zt[0]>o.Jt[0]&&t.Jt[1]<o.Zt[1]&&t.Zt[1]>o.Jt[1]&&t.Jt[2]<o.Zt[2]&&t.Zt[2]>o.Jt[2]}function lo(t,o,i){for(let n=0;n<i;n++){let i=o[n],e=t.t&i.Qt,r=i.t&t.Qt;if((e||r)&&ao(t,i)){let o=ro(t,i);e&&t.no.push({ii:i.Entity,ni:o}),r&&i.no.push({ii:t.Entity,ni:c([0,0,0],o)})}}}function so(t,o){let i=t.o.eo[o],n=t.o.do[o];if(i.ro&&n.co.push(i.ro.slice()),i.N&&n.uo.push(i.N.slice()),i.Animation)for(let n of R(t.o,o,1))t.o.U[n].$o=i.Animation}function fo(t,o){let i=t.o.ao[o];if(1&i.W){let i=t.o.do[o],n=t.o.Ot[o],e=t.o.Ut[o],r=t.o.mo[o],a=!1;if(t.ei.ArrowLeft&&(i.co.push([-1,0,0]),a=!0),t.ei.ArrowRight&&(i.co.push([1,0,0]),a=!0),a&&n.no.length>0){let o=t.o.Ot[n.no[0].ii].Qt;16&o?e.$o=Zi:32&o?e.$o=tn:64&o&&(e.$o=on)}r.wo||t.ei.ArrowUp&&(r._o[1]+=500)}if(2&i.W){let n=t.o.K[o];i.so||(t.ei.ArrowLeft&&i.lo&&(i.lo=!1,p(n.N,0,-.7,0,.7),n.V=!0),t.ei.ArrowRight&&!i.lo&&(i.lo=!0,p(n.N,0,.7,0,.7),n.V=!0))}if(8&i.W){let n=t.o.Ot[o];if(t.ei.Space&&!i.so&&n.no.length>0){let i=n.no[0].ii,e=t.o.Vt[i];for(let n of z(t.o,o,128))t.o.ao[n].so=i;t.o.t[i]|=4096,e.I=o}if(-1===t.ri.Space&&i.so){t.o.t[i.so]&=-4097;for(let i of z(t.o,o,128))t.o.ao[i].so=null}}if(4&i.W){let i;(t.ei.ArrowLeft||t.ei.ArrowRight)&&(i="walk");let n=t.o.K[o].D;if(void 0!==n){let o=t.o.K[t.o.Vt[n].I].D;void 0!==o&&t.o.mo[o].wo&&(i="jump")}if(i)for(let n of R(t.o,o,1))t.o.U[n].$o=i}}function vo(t,o,i,n){let e=t.o.ao[o];if(1&e.W){let e=t.o.do[o];Math.abs(i)>.01&&e.co.push([(r=i,Math.max(-1,Math.min(1,r))),0,0]);let a=t.o.mo[o];a.wo||Math.abs(n)>.5&&(a._o[1]+=500)}var r;if(2&e.W){let n=t.o.K[o];e.so||(i<0&&e.lo&&(e.lo=!1,p(n.N,0,-.7,0,.7),n.V=!0),i>0&&!e.lo&&(e.lo=!0,p(n.N,0,.7,0,.7),n.V=!0))}if(8&e.W){let i=t.o.Ot[o];if(1===t.ri.Touch0&&en<.2&&!e.so&&i.no.length>0){let n=i.no[0].ii;for(let i of z(t.o,o,128))t.o.ao[i].so=n;t.o.t[n]|=4096,t.o.Vt[n].I=o}if(-1===t.ri.Touch0&&e.so){t.o.t[e.so]&=-4097;for(let i of z(t.o,o,128))t.o.ao[i].so=null}}if(4&e.W&&0!==i)for(let i of R(t.o,o,1))t.o.U[i].$o="walk"}function co(t,o){if(1&t.o.ao[o].W){let i=t.o.do[o];Math.abs(t.ri.pad0_axis_1)>.1&&i.co.push([-t.ri.pad0_axis_1,0,0]),Math.abs(t.ri.pad0_axis_2)>.1&&i.co.push([0,0,-t.ri.pad0_axis_2])}}function uo(t,o,i){let n=t.o.Z[o];Math.abs(t.o.K[o].o[12]-i)>15?t.o.t[o]&=~n.tt:t.o.t[o]|=n.tt}function mo(t,o,i){let n=t.o.Kt[o];n.Xt-=i,n.Xt<0&&(n.Ao&&Ut(t,n.Ao,o),F(t.o,o))}function ho(t,o,i){let n=t.o.ko[o];l(ln,t.o.K[o].o),1===n.m&&u(ln,ln),t.ai[4*i+0]=ln[0],t.ai[4*i+1]=ln[1],t.ai[4*i+2]=ln[2],t.ai[4*i+3]=n.m,t.li[4*i+0]=n.Co[0],t.li[4*i+1]=n.Co[1],t.li[4*i+2]=n.Co[2],t.li[4*i+3]=n.Eo}function _o(t,o,i){let n=t.o.K[o],e=t.o.do[o];if(e.co.length){let t=e.co.reduce(po),o=Math.min(1,function(t){return Math.hypot(t[0],t[1],t[2])}(t));!function(t,o,i){!function(t,o,i){t[0]=o[0]-i[0],t[1]=o[1]-i[1],t[2]=o[2]-i[2]}(t,h([0,0,0],o,i),l([0,0,0],i))}(t,t,n.o),u(t,t),v(t,t,o*e.fo*i),f(n.P,n.P,t),n.V=!0,e.co=[]}if(e.uo.length){let t=e.uo.reduce(go);w(t,fn,t,Math.min(1,e.vo/Math.PI*i)),g(n.N,t,n.N),n.V=!0,e.uo=[]}}function po(t,o){return f(t,t,o)}function go(t,o){return g(t,t,o)}function yo(t,o,i){let n=t.o.Bt[o],e=t.o.K[o];var r,a;n.$t+=i,n.$t>n.St&&(n.$t=0,l(cn,e.o),(r=un)[0]=(a=e.o)[8],r[1]=a[9],r[2]=a[10],u(r,r),n.Nt.push(...cn,0),n.Nt.push(...un,Math.random()));for(let t=0;t<n.Nt.length;)n.Nt[t+3]+=i,n.Nt[t+3]>n.Kt?n.Nt.splice(t,8):t+=8}function wo(t,o,i){let n=t.o.K[o],e=t.o.mo[o];if(1===e.m){d(e.po,e.yo),v(e._o,e._o,i),f(e.po,e.po,e._o),e.po[1]+=-20*i;let t=[0,0,0];v(t,e.po,i),f(n.P,n.P,t),n.V=!0,(r=e._o)[0]=0,r[1]=0,r[2]=0}var r}function To(t,o){let i=t.o.K[o],n=t.o.Ot[o],e=t.o.mo[o];if(1===e.m){let o=!1;for(let r=0;r<n.no.length;r++){let a=n.no[r];if(65536&t.o.t[a.ii]){o=!0,f(i.P,i.P,a.ni),i.V=!0;let n=t.o.mo[a.ii];switch(n.m){case 0:u(_n,a.ni),v(_n,_n,-2*m(e.po,_n)),f(e.yo,e.po,_n);break;case 1:d(e.yo,n.po)}v(e.yo,e.yo,e.ho),a.ni[1]>0&&e.yo[1]<1&&(e.yo[1]=0,e.wo=!1)}}o||(d(e.yo,e.po),e.wo=!0)}}function xo(t,o){if(16&t.t[o]){let i=t.C[o];for(let o of i.C)if(524288&t.t[o])return!0}return!1}function Ao(t,o){t.ot.bindFramebuffer(Oo,null),t.ot.viewport(0,0,t.si,t.di),t.ot.clearColor(...o.M),t.ot.clear(16640),Fo(t,o)}function Ro(t,o){t.ot.bindFramebuffer(Oo,o.I.Uo),t.ot.viewport(0,0,o.I.Go,o.I.Oo),t.ot.clearColor(...o.M),t.ot.clear(16640),Fo(t,o)}function Fo(t,o){let i=null;for(let n=0;n<t.o.t.length;n++)if((t.o.t[n]&gn)===gn){let e=t.o.K[n],r=t.o.st[n];if(r.dt!==i)switch(i=r.dt,r.m){case 0:Mo(t,r.dt,o);break;case 1:Io(t,r.dt,o);break;case 2:ko(t,r.dt,o);break;case 3:Eo(t,r.dt,o);break;case 4:Ko(t,r.dt,o)}switch(r.m){case 0:zo(t,e,r);break;case 1:bo(t,e,r);break;case 2:Co(t,n,e,r);break;case 3:{let o=t.o.Bt[n];o.Nt.length&&Bo(t,r,o);break}case 4:So(t,e,r)}}}function Mo(t,o,i){t.ot.enable(jo),t.ot.useProgram(o.fi),t.ot.uniformMatrix4fv(o.et.R,!1,i.R)}function zo(t,o,i){t.ot.uniformMatrix4fv(i.dt.et.o,!1,o.o),t.ot.uniform4fv(i.dt.et.Co,i.Co),t.ot.bindVertexArray(i.vt),t.ot.drawElements(i.dt.vi,i.ft.ci,Yo,0),t.ot.bindVertexArray(null)}function Io(t,o,i){if(t.ot.enable(jo),t.ot.useProgram(o.fi),t.ot.uniformMatrix4fv(o.et.R,!1,i.R),t.ot.uniform3fv(o.et.ui,i.F),t.ot.uniform4fv(o.et.ai,t.ai),t.ot.uniform4fv(o.et.li,t.li),t.ot.uniform4fv(o.et.mi,i.M),t.ot.uniform1f(o.et.hi,i.h.g),3===i.m)t.ot.activeTexture(33984),t.ot.bindTexture(Go,t.Ko._i.qo),t.ot.uniform1i(o.et.pi,0);else{t.ot.activeTexture(33984),t.ot.bindTexture(Go,t.Ko.Bo.qo),t.ot.uniform1i(o.et.pi,0);let i=ct(t.o,2056);i&&t.ot.uniformMatrix4fv(o.et.gi,!1,t.o.u[i].R)}}function bo(t,o,i){t.ot.uniformMatrix4fv(i.dt.et.o,!1,o.o),t.ot.uniformMatrix4fv(i.dt.et.S,!1,o.S),t.ot.uniform4fv(i.dt.et.ct,i.ct),t.ot.bindVertexArray(i.vt),t.ot.drawElements(i.dt.vi,i.ft.ci,Yo,0),t.ot.bindVertexArray(null)}function ko(t,o,i){t.ot.enable(jo),t.ot.useProgram(o.fi),t.ot.uniformMatrix4fv(o.et.R,!1,i.R),t.ot.uniform3fv(o.et.ui,i.F),t.ot.uniform4fv(o.et.ai,t.ai),t.ot.uniform4fv(o.et.li,t.li),t.ot.uniform4fv(o.et.mi,i.M),t.ot.uniform1f(o.et.hi,i.h.g)}function Co(t,o,i,n){t.ot.uniformMatrix4fv(n.dt.et.o,!1,i.o),t.ot.uniformMatrix4fv(n.dt.et.S,!1,i.S),t.ot.uniform4fv(n.dt.et.ct,n.ct);let e=[];if(16&t.o.t[o])for(let i of R(t.o,o,2097156))e.push(i);else{let i=o;for(let o=0;o<5;o++){let o=ct(t.o,2097156,i);o&&(e.push(o),i=o+1)}}for(let o of e){let i=t.o.K[o],n=t.o.Y[o];r(yn.subarray(16*n.q),i.o,n.J)}t.ot.uniformMatrix4fv(n.dt.et.yi,!1,yn),t.ot.bindVertexArray(n.vt),t.ot.drawElements(n.dt.vi,n.ft.ci,Yo,0),t.ot.bindVertexArray(null)}function Eo(t,o,i){t.ot.enable(jo),t.ot.useProgram(o.fi),t.ot.uniformMatrix4fv(o.et.R,!1,i.R)}function Bo(t,o,i){t.ot.uniform4fv(o.dt.et.yt,o.yt),t.ot.uniform4fv(o.dt.et.wt,o.wt),t.ot.uniform4f(o.dt.et.wi,i.Kt,i.Pt,...o.Tt);let n=Float32Array.from(i.Nt);t.ot.bindBuffer(Ho,o.gt),t.ot.bufferSubData(Ho,0,n),t.ot.enableVertexAttribArray(o.dt.et.Ti),t.ot.vertexAttribPointer(o.dt.et.Ti,4,qo,!1,32,0),t.ot.enableVertexAttribArray(o.dt.et.ro),t.ot.vertexAttribPointer(o.dt.et.ro,3,qo,!1,32,16),t.ot.drawArrays(o.dt.vi,0,i.Nt.length/8)}function Ko(t,o,i){t.ot.disable(jo),t.ot.useProgram(o.fi),t.ot.uniformMatrix4fv(o.et.R,!1,i.R),t.ot.uniform3fv(o.et.ui,i.F),t.ot.uniform4fv(o.et.mi,i.M),t.ot.uniform1f(o.et.hi,i.h.g)}function So(t,o,i){t.ot.uniformMatrix4fv(i.dt.et.o,!1,o.o),t.ot.uniform3fv(i.dt.et.Mt,i.Mt),t.ot.bindVertexArray(i.vt),t.ot.drawElementsInstanced(i.dt.vi,i.ft.ci,Yo,0,Math.floor(i.Ft*(t.bo/4096))),t.ot.bindVertexArray(null)}function Po(t,o){let i=t.o.Lt[o],n=t.o.K[o];n.P=[Math.random()-.5,Math.random()-.5,Math.random()-.5],v(n.P,n.P,2*i.Wt),n.V=!0}function No(t,o,n){let e=t.o.Mo[o],r=2048/t.bo;if(e.$t+=n,e.$t>e.Io*r){e.$t=0;let n=t.o.K[o],r=[0,0,0];l(r,n.o);let a=[0,0,0,0];s(a,n.o),i(t,[...e.zo(t),M(r,a)])}}function $o(t,o,i){let n=t.o.Wo[o];n.$t+=i,n.Xo&&n.$t>n.X?(n.$t=0,n.Xo=!1,t.o.t[o]&=~n.tt):!n.Xo&&n.$t>n.Ho&&(n.$t=0,n.Xo=!0,t.o.t[o]|=n.tt)}function Vo(t,o){for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&An)===An){let i=t.o.K[o];i.V&&Do(t.o,o,i)}}function Do(t,o,i){if(i.V=!1,function(t,o,i,n){let e=o[0],r=o[1],a=o[2],l=o[3],s=e+e,d=r+r,f=a+a,v=e*s,c=e*d,u=e*f,m=r*d,h=r*f,_=a*f,p=l*s,g=l*d,y=l*f,w=n[0],T=n[1],x=n[2];t[0]=(1-(m+_))*w,t[1]=(c+y)*w,t[2]=(u-g)*w,t[3]=0,t[4]=(c-y)*T,t[5]=(1-(v+_))*T,t[6]=(h+p)*T,t[7]=0,t[8]=(u+g)*x,t[9]=(h-p)*x,t[10]=(1-(v+m))*x,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(i.o,i.N,i.P,i.$),void 0!==i.D&&r(i.o,t.K[i.D].o,i.o),e(i.S,i.o),16&t.t[o]){let i=t.C[o];for(let n=0;n<i.C.length;n++){let e=i.C[n];if(2097152&t.t[e]){let i=t.K[e];i.D=o,Do(t,e,i)}}}}function Lo(t,o){let i=t.o.Ot[o],n=t.o.$o[o];for(let e of i.no)n.tt&t.o.Ot[e.ii].Qt&&Ut(t,n.Ao,[o,e.ii])}const Wo=35044,Ho=34962,Xo=34963,jo=2884,Uo=9729,Go=3553,Oo=36160,Yo=5123,qo=5126,Qo=document.getElementById("update"),Jo=document.getElementById("delta"),Zo=document.getElementById("fps"),ti=1/60,oi=Math.PI/180,ii=new WeakMap,ni=new WeakMap,ei=.2,ri=.6000000000000001;let ai=1,li={Zo:[{oi:[8,"lowpass",9,8,!1,!1,8,1,[[!1,8,5,0,9]]],ti:[77]}],Qo:.1};class si extends class{constructor(){this.t=[],this.xi=[]}v(){return this.xi.length>0?this.xi.pop():this.t.push(0)-1}B(t){this.t[t]=0,this.xi.push(t)}}{constructor(){super(...arguments),this.U=[],this.Ut=[],this.Y=[],this.u=[],this.C=[],this.Ot=[],this.eo=[],this.ao=[],this.Z=[],this.Bt=[],this.Kt=[],this.ko=[],this.Vt=[],this.do=[],this.i=[],this.st=[],this.mo=[],this.Lt=[],this.Mo=[],this.Ht=[],this.Wo=[],this.K=[],this.$o=[]}}const di=[0,1,0,0,.36,0,0,.5,0,.48,.98,0,1,.84,0,1,.54,0,.84,.21,.21],fi=[[.1,.1,.1,1],[.2,.2,.2,1],[.3,.3,.3,1]],vi=[[.1,.1,.1,1],[.2,.2,.2,1]];let ci=Float32Array.from([-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5]),ui=Float32Array.from([-1,0,0,0,-1,0,0,0,1,-1,0,0,0,0,1,0,1,0,-1,0,0,0,-1,0,0,0,-1,-1,0,0,0,0,-1,0,1,0,0,-1,0,0,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,-1,0,0,0,-1,1,0,0,0,0,-1,0,1,0,1,0,0]),mi=Float32Array.from([]),hi=Float32Array.from([]),_i=Uint16Array.from([16,5,22,5,11,22,1,12,7,12,18,7,2,4,13,4,15,13,14,17,20,17,23,20,19,21,8,21,10,8,6,9,0,9,3,0]),pi=Float32Array.from([0,-.5,-.5,0,.5,-.5,.354,-.5,-.354,.354,.5,-.354,.5,-.5,0,.5,.5,0,.354,-.5,.354,.354,.5,.354,-0,-.5,.5,-0,.5,.5,-.354,-.5,.354,-.354,.5,.354,-.5,-.5,-0,-.5,.5,-0,-.354,-.5,-.354,-.354,.5,-.354]),gi=Float32Array.from([0,-.63,-.776,0,.63,-.776,.549,-.63,-.549,.549,.63,-.549,.776,-.63,0,.776,.63,0,.549,-.63,.549,.549,.63,.549,0,-.63,.776,0,.63,.776,-.549,-.63,.549,-.549,.63,.549,-.776,-.63,0,-.776,.63,0,-.549,-.63,-.549,-.549,.63,-.549]),yi=Float32Array.from([]),wi=Float32Array.from([]),Ti=Uint16Array.from([14,10,6,6,2,14,14,12,10,10,8,6,6,4,2,2,0,14,0,1,14,1,15,14,14,15,12,15,13,12,5,9,13,13,1,5,5,7,9,9,11,13,13,15,1,1,3,5,12,13,10,13,11,10,10,11,8,11,9,8,8,9,6,9,7,6,6,7,4,7,5,4,4,5,2,5,3,2,2,3,0,3,1,0]),xi=Float32Array.from([-.009,.009,.001,0,-.422,.012,0,.405,.119,.008,.008,.001]),Ai=Float32Array.from([-.001,-.138,.99,.01,.025,1,-.01,-.285,.959,0,-.125,.992]),Ri=Float32Array.from([]),Fi=Float32Array.from([]),Mi=Uint16Array.from([3,1,0,2,3,0]),zi=Float32Array.from([-.17,.016,0,0,0,.057,-0,0,-.071,.184,.022,-0]),Ii=Float32Array.from([.094,.996,0,-.014,1,0,-.014,1,0,-.119,.993,0]),bi=Float32Array.from([]),ki=Float32Array.from([2,1,0,0,0,1,0,0,0,1,0,0,1,1,0,0]),Ci=Uint16Array.from([2,3,1,0,2,1]),Ei=Float32Array.from([.147,.44,.021,.073,-0,-.008,.132,.234,-.28,.088,.409,-.55,.073,-.001,-.521,.103,.688,.168,.176,.893,.08,-.147,.44,.021,0,.482,-.037,0,.219,-.012,-.073,-0,-.008,-.132,.234,-.28,0,.219,-.53,-.088,.409,-.55,0,.432,-.585,-.073,-.001,-.521,-.103,.688,.168,0,.571,.373,-.176,.893,.08,0,.746,.168]),Bi=Float32Array.from([.997,.009,.083,-.007,-.962,.275,.797,-.599,-.074,.688,.428,-.586,.035,-.971,-.235,.726,.191,.661,.417,.903,-.104,-.997,.009,.083,0,.785,-.62,0,-.59,.807,.007,-.962,.275,-.797,-.599,-.074,0,-.472,-.882,-.688,.428,-.586,0,.571,-.821,-.035,-.971,-.235,-.726,.191,.661,0,-.039,.999,-.417,.903,-.104,0,.932,.363]),Ki=Float32Array.from([]),Si=Float32Array.from([2,.918,1,.082,2,1,0,0,4,.5,2,.5,4,.907,0,.093,4,1,0,0,1,.893,2,.107,1,1,0,0,3,.918,1,.082,1,1,0,0,2,.5,3,.5,3,1,0,0,5,.5,3,.5,0,1,0,0,5,.907,0,.093,0,1,0,0,5,1,0,0,1,.893,3,.107,1,1,0,0,1,1,0,0,1,1,0,0]),Pi=Uint16Array.from([18,19,16,19,17,16,7,13,8,16,17,7,19,18,8,8,18,7,7,17,9,7,18,16,12,11,9,11,15,13,12,15,11,12,14,13,13,15,12,11,13,7,13,14,8,9,10,7,11,10,9,7,10,11,19,6,5,17,19,5,3,0,8,17,5,0,6,19,8,6,8,0,17,0,9,6,0,5,2,12,9,4,2,3,4,12,2,14,12,3,4,3,12,3,2,0,14,3,8,1,9,0,1,2,9,1,0,2]),Ni=Float32Array.from([-.111,.575,-.859,-0,.384,-.481,-0,.251,-.862,.131,.518,-.819,-.152,.634,-1.248,-.008,.196,-1.3,.216,.518,-1.191,-.247,.793,-1.762,-0,.141,-1.608,.242,.549,-1.756,-.208,.738,-2.194,-0,.234,-2.101,.167,.495,-2.202,-.076,.65,-2.622,-0,.376,-2.482,.137,.502,-2.539,-.038,.426,-2.917]),$i=Float32Array.from([-.701,.652,.289,-.03,-.161,.986,-.097,-.964,.248,.848,.425,.317,-.708,.678,.198,-.131,-.98,.148,.94,.301,.159,-.662,.749,-.02,-.089,-.996,.005,.956,.294,-.017,-.643,.705,-.298,-.11,-.97,-.215,.976,.155,-.154,-.456,.779,-.431,-.203,-.949,-.242,.966,.102,-.237,-.139,-.245,-.96]),Vi=Float32Array.from([]),Di=Float32Array.from([0,.933,1,.067,0,1,0,0,0,.946,1,.054,0,.953,1,.047,1,.942,2,.058,1,.877,2,.123,1,.97,2,.03,2,.858,3,.142,2,.911,3,.089,2,.932,3,.068,3,.917,4,.083,3,.937,4,.063,3,.945,4,.055,4,.983,3,.017,4,.917,3,.083,4,.956,3,.044,4,1,0,0]),Li=Uint16Array.from([16,15,13,16,14,15,16,13,14,13,15,10,15,12,10,15,14,12,14,11,12,14,13,11,13,10,11,12,11,9,11,8,9,11,10,8,10,7,8,8,7,5,7,4,5,7,9,4,9,6,4,10,12,7,12,9,7,6,5,3,5,2,3,5,4,2,4,0,2,4,6,0,6,3,0,9,8,6,8,5,6,1,0,3,1,3,2,2,0,1]),Wi=Float32Array.from([-.5,0,.5,.5,0,.5,-.5,0,-.5,.5,0,-.5]),Hi=Float32Array.from([0,1,0,0,1,0,0,1,0,0,1,0]),Xi=Float32Array.from([]),ji=Float32Array.from([]),Ui=Uint16Array.from([2,3,0,3,1,0]);const Gi=2097153;let Oi;const Yi=2097160,qi=[[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5],[-.5,-.5,.5]],Qi=2097184,Ji=2097216;let Zi={Zo:[{oi:[3,"lowpass",9,0,!1,!1,8,8,[["sine",8,1,1,3,8,!1,!1,8,8,8],[!1,8,2,2,2]]],ti:[48]}],Qo:.25},tn={Zo:[{oi:[3,"lowpass",8,0,!1,!1,8,8,[["sine",8,1,1,3,8,!1,!1,8,8,8],[!1,8,1,2,3]]],ti:[48]}],Qo:.25},on={Zo:[{oi:[8,"bandpass",8,2,!1,!1,8,8,[["square",3,1,1,2,8,!1,!1,7,7,8],[!1,3,2,2,3]]],ti:[48]}],Qo:.25};const nn=[0,0];let en=0;const rn=2097408,an=2099200;let ln=[0,0,0];const sn=2101248,dn=2105344,fn=[0,0,0,1],vn=2097664;let cn=[0,0,0],un=[0,0,0];const mn=2162688,hn=2162720;let _n=[0,0,0];const pn=524288,gn=2129920,yn=new Float32Array(96),wn=2228224,Tn=2359296,xn=1048576,An=2097152,Rn=6291488;let Fn,Mn=new class extends class extends class{constructor(){this.Ai=0,this.Ri=0,this.si=window.innerWidth,this.di=window.innerHeight,this.Vo=!0,this.ei={Fi:0,Mi:0},this.ri={Fi:0,Mi:0},this.zi={},this.Ii=document.querySelector("main"),document.addEventListener("visibilitychange",(()=>document.hidden?this.bi():this.ki())),this.Ii.addEventListener("contextmenu",(t=>t.preventDefault())),this.Ii.addEventListener("touchstart",(t=>{t.target===this.Ii&&t.preventDefault(),1===t.touches.length&&(this.zi={});for(let o=0;o<t.touches.length;o++)this.zi[t.touches[o].identifier]=o;for(let o=0;o<t.changedTouches.length;o++){let i=t.changedTouches[o],n=this.zi[i.identifier];this.ei["Touch"+n]=1,this.ei[`Touch${n}X`]=i.clientX,this.ei[`Touch${n}Y`]=i.clientY,this.ri["Touch"+n]=1,this.ri[`Touch${n}X`]=0,this.ri[`Touch${n}Y`]=0}})),this.Ii.addEventListener("touchmove",(t=>{t.target===this.Ii&&t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let i=t.changedTouches[o],n=this.zi[i.identifier];this.ri[`Touch${n}X`]=i.clientX-this.ei[`Touch${n}X`],this.ri[`Touch${n}Y`]=i.clientY-this.ei[`Touch${n}Y`],this.ei[`Touch${n}X`]=i.clientX,this.ei[`Touch${n}Y`]=i.clientY}})),this.Ii.addEventListener("touchend",(t=>{t.target===this.Ii&&t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let i=this.zi[t.changedTouches[o].identifier];this.ei["Touch"+i]=0,this.ri["Touch"+i]=-1}})),this.Ii.addEventListener("touchcancel",(t=>{for(let o=0;o<t.changedTouches.length;o++){let i=this.zi[t.changedTouches[o].identifier];this.ei["Touch"+i]=0,this.ri["Touch"+i]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.ei[t.code]=1,this.ri[t.code]=1)})),window.addEventListener("keyup",(t=>{this.ei[t.code]=0,this.ri[t.code]=-1}))}ki(){let t=0,o=performance.now(),i=n=>{let e=(n-o)/1e3;for(this.Ci(e),t+=e;t>=ti;)t-=ti,this.Ei(ti),this.Bi();this.Ki(e),this.Si(e),o=n,this.Ai=requestAnimationFrame(i)};this.bi(),i(o)}bi(){cancelAnimationFrame(this.Ai),this.Ai=0}Ci(t){this.Ri=performance.now()}Ei(t){}Ki(t){}Bi(){for(let t in this.ri)this.ri[t]=0}Si(t){this.Vo=!1;let o=performance.now()-this.Ri;Qo&&(Qo.textContent=o.toFixed(1)),Jo&&(Jo.textContent=(1e3*t).toFixed(1)),Zo&&(Zo.textContent=(1/t).toFixed())}}{constructor(){super(),this.Pi=document.querySelector("canvas"),this.ot=this.Pi.getContext("webgl2"),this.Audio=new AudioContext,this.ot.enable(2929),this.ot.enable(jo),this.ot.frontFace(2304)}}{constructor(){super(...arguments),this.o=new si,this.Ni=function(t,o=4){let i=qt(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec3 attr_position;\n\nvoid main() {\ngl_Position = pv * world * vec4(attr_position, 1.0);\n}\n","#version 300 es\n\nprecision mediump float;\n\nuniform vec4 color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = color;\n}\n");return{vi:o,fi:i,et:{R:t.getUniformLocation(i,"pv"),o:t.getUniformLocation(i,"world"),Co:t.getUniformLocation(i,"color"),nt:t.getAttribLocation(i,"attr_position")}}}(this.ot,2),this.Ro=function(t){let o=qt(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\n\nin vec3 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nvoid main() {\nvert_position = world * vec4(attr_position, 1.0);\nvert_normal = (vec4(attr_normal, 1.0) * self).xyz;\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\nprecision lowp sampler2DShadow;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform mat4 shadow_space;\nuniform sampler2DShadow shadow_map;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\n\n\nfloat shadow_factor(vec4 world_pos, float min) {\nvec4 shadow_space_pos = shadow_space * world_pos;\nvec3 shadow_space_ndc = shadow_space_pos.xyz / shadow_space_pos.w;\n\nshadow_space_ndc = shadow_space_ndc * 0.5 + 0.5;\n\n\nshadow_space_ndc.z -= 0.001;\n\nreturn texture(shadow_map, shadow_space_ndc) * (1.0 - min) + min;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * diffuse_factor * light_color * light_intensity;\n}\n}\n\nvec3 shaded_rgb = light_acc * shadow_factor(vert_position, 0.5);\nfrag_color= vec4(shaded_rgb, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{vi:4,fi:o,et:{R:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),S:t.getUniformLocation(o,"self"),ct:t.getUniformLocation(o,"diffuse_color"),ui:t.getUniformLocation(o,"eye"),ai:t.getUniformLocation(o,"light_positions"),li:t.getUniformLocation(o,"light_details"),gi:t.getUniformLocation(o,"shadow_space"),pi:t.getUniformLocation(o,"shadow_map"),mi:t.getUniformLocation(o,"fog_color"),hi:t.getUniformLocation(o,"fog_distance"),nt:t.getAttribLocation(o,"attr_position"),at:t.getAttribLocation(o,"attr_normal")}}}(this.ot),this.bt=function(t){let o=qt(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform mat4 bones[6];\n\nin vec3 attr_position;\nin vec3 attr_normal;\nin vec4 attr_weights;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nmat4 world_weighted(vec4 weights) {\nreturn weights[1] * bones[int(weights[0])] + weights[3] * bones[int(weights[2])];\n}\n\nvoid main() {\nmat4 bone_world = world_weighted(attr_weights);\nvert_position = bone_world * vec4(attr_position, 1.0);\nvert_normal = normalize(mat3(bone_world) * attr_normal);\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\nconst float bands = 2.0;\nfloat posterize(float factor) {\nreturn floor(factor * bands) / bands;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.5;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * light_color * posterize(diffuse_factor * light_intensity);\n}\n}\n\nfrag_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{vi:4,fi:o,et:{R:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),S:t.getUniformLocation(o,"self"),ct:t.getUniformLocation(o,"diffuse_color"),ui:t.getUniformLocation(o,"eye"),ai:t.getUniformLocation(o,"light_positions"),li:t.getUniformLocation(o,"light_details"),nt:t.getAttribLocation(o,"attr_position"),at:t.getAttribLocation(o,"attr_normal"),mi:t.getUniformLocation(o,"fog_color"),hi:t.getUniformLocation(o,"fog_distance"),yi:t.getUniformLocation(o,"bones"),ht:t.getAttribLocation(o,"attr_weights")}}}(this.ot),this._t=function(t){let o=qt(t,"#version 300 es\n\nuniform mat4 pv;\nuniform vec4 color_start;\nuniform vec4 color_end;\n\nuniform vec4 details;\n\n\nin vec4 attr_origin_age;\nin vec3 attr_direction;\n\nout vec4 vert_color;\n\nvoid main() {\n\nvec3 velocity = attr_direction * details.y;\ngl_Position = pv * vec4(attr_origin_age.xyz + velocity * attr_origin_age.w, 1.0);\n\n\nfloat t = attr_origin_age.w / details.x;\ngl_PointSize = mix(details.z, details.w, t);\nvert_color = mix(color_start, color_end, t);\n}\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n");return{vi:0,fi:o,et:{R:t.getUniformLocation(o,"pv"),yt:t.getUniformLocation(o,"color_start"),wt:t.getUniformLocation(o,"color_end"),wi:t.getUniformLocation(o,"details"),Ti:t.getAttribLocation(o,"attr_origin_age"),ro:t.getAttribLocation(o,"attr_direction")}}}(this.ot),this.xt=function(t){let o=qt(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform vec3 palette[16];\n\nuniform vec3 eye;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec3 attr_position;\nin vec4 attr_offset;\nin vec4 attr_rotation;\n\nout vec4 vert_color;\n\nvoid main() {\nfloat x = attr_rotation.x;\nfloat y = attr_rotation.y;\nfloat z = attr_rotation.z;\nfloat w = attr_rotation.w;\n\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat yx = y * x2;\nfloat yy = y * y2;\nfloat zx = z * x2;\nfloat zy = z * y2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\n\nfloat m0 = 1.0 - yy - zz;\nfloat m1 = yx + wz;\nfloat m2 = zx - wy;\nfloat m3 = 0.0;\nfloat m4 = yx - wz;\nfloat m5 = 1.0 - xx - zz;\nfloat m6 = zy + wx;\nfloat m7 = 0.0;\nfloat m8 = zx + wy;\nfloat m9 = zy - wx;\nfloat m10 = 1.0 - xx - yy;\nfloat m11 = 0.0;\nfloat m12 = 0.0;\nfloat m13 = 0.0;\nfloat m14 = 0.0;\nfloat m15 = 1.0;\n\nmat4 rotation = mat4(\nm0, m1, m2, m3,\nm4, m5, m6, m7,\nm8, m9, m10, m11,\nm12, m13, m14, m15\n);\n\nvec4 world_position = world * rotation * vec4(attr_position + attr_offset.xyz, 1.0);\ngl_Position = pv * world_position;\n\n\nvec3 color = palette[int(attr_offset[3])];\nvert_color = vec4(color * 0.1, 1.0);\n\nfloat eye_distance = length(eye - world_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n\n");return{vi:4,fi:o,et:{R:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),Mt:t.getUniformLocation(o,"palette"),ui:t.getUniformLocation(o,"eye"),mi:t.getUniformLocation(o,"fog_color"),hi:t.getUniformLocation(o,"fog_distance"),nt:t.getAttribLocation(o,"attr_position"),At:t.getAttribLocation(o,"attr_offset"),Rt:t.getAttribLocation(o,"attr_rotation")}}}(this.ot),this.No=function(t){let o=t.createBuffer();t.bindBuffer(Ho,o),t.bufferData(Ho,zi,Wo);let i=t.createBuffer();t.bindBuffer(Ho,i),t.bufferData(Ho,Ii,Wo);let n=t.createBuffer();t.bindBuffer(Ho,n),t.bufferData(Ho,bi,Wo);let e=t.createBuffer();t.bindBuffer(Ho,e),t.bufferData(Ho,ki,Wo);let r=t.createBuffer();return t.bindBuffer(Xo,r),t.bufferData(Xo,Ci,Wo),{it:o,$i:zi,rt:i,Vi:Ii,Di:n,Li:bi,ut:e,Wi:ki,lt:r,Hi:Ci,ci:Ci.length}}(this.ot),this.Po=function(t){let o=t.createBuffer();t.bindBuffer(Ho,o),t.bufferData(Ho,xi,Wo);let i=t.createBuffer();t.bindBuffer(Ho,i),t.bufferData(Ho,Ai,Wo);let n=t.createBuffer();t.bindBuffer(Ho,n),t.bufferData(Ho,Ri,Wo);let e=t.createBuffer();t.bindBuffer(Ho,e),t.bufferData(Ho,Fi,Wo);let r=t.createBuffer();return t.bindBuffer(Xo,r),t.bufferData(Xo,Mi,Wo),{it:o,$i:xi,rt:i,Vi:Ai,Di:n,Li:Ri,ut:e,Wi:Fi,lt:r,Hi:Mi,ci:Mi.length}}(this.ot),this.Xi=function(t){let o=t.createBuffer();t.bindBuffer(Ho,o),t.bufferData(Ho,Wi,Wo);let i=t.createBuffer();t.bindBuffer(Ho,i),t.bufferData(Ho,Hi,Wo);let n=t.createBuffer();t.bindBuffer(Ho,n),t.bufferData(Ho,Xi,Wo);let e=t.createBuffer();t.bindBuffer(Ho,e),t.bufferData(Ho,ji,Wo);let r=t.createBuffer();return t.bindBuffer(Xo,r),t.bufferData(Xo,Ui,Wo),{it:o,$i:Wi,rt:i,Vi:Hi,Di:n,Li:Xi,ut:e,Wi:ji,lt:r,Hi:Ui,ci:Ui.length}}(this.ot),this.So=function(t){let o=t.createBuffer();t.bindBuffer(Ho,o),t.bufferData(Ho,ci,Wo);let i=t.createBuffer();t.bindBuffer(Ho,i),t.bufferData(Ho,ui,Wo);let n=t.createBuffer();t.bindBuffer(Ho,n),t.bufferData(Ho,mi,Wo);let e=t.createBuffer();t.bindBuffer(Ho,e),t.bufferData(Ho,hi,Wo);let r=t.createBuffer();return t.bindBuffer(Xo,r),t.bufferData(Xo,_i,Wo),{it:o,$i:ci,rt:i,Vi:ui,Di:n,Li:mi,ut:e,Wi:hi,lt:r,Hi:_i,ci:_i.length}}(this.ot),this.kt=function(t){let o=t.createBuffer();t.bindBuffer(Ho,o),t.bufferData(Ho,Ei,Wo);let i=t.createBuffer();t.bindBuffer(Ho,i),t.bufferData(Ho,Bi,Wo);let n=t.createBuffer();t.bindBuffer(Ho,n),t.bufferData(Ho,Ki,Wo);let e=t.createBuffer();t.bindBuffer(Ho,e),t.bufferData(Ho,Si,Wo);let r=t.createBuffer();return t.bindBuffer(Xo,r),t.bufferData(Xo,Pi,Wo),{it:o,$i:Ei,rt:i,Vi:Bi,Di:n,Li:Ki,ut:e,Wi:Si,lt:r,Hi:Pi,ci:Pi.length}}(this.ot),this.xo=function(t){let o=t.createBuffer();t.bindBuffer(Ho,o),t.bufferData(Ho,Ni,Wo);let i=t.createBuffer();t.bindBuffer(Ho,i),t.bufferData(Ho,$i,Wo);let n=t.createBuffer();t.bindBuffer(Ho,n),t.bufferData(Ho,Vi,Wo);let e=t.createBuffer();t.bindBuffer(Ho,e),t.bufferData(Ho,Di,Wo);let r=t.createBuffer();return t.bindBuffer(Xo,r),t.bufferData(Xo,Li,Wo),{it:o,$i:Ni,rt:i,Vi:$i,Di:n,Li:Vi,ut:e,Wi:Di,lt:r,Hi:Li,ci:Li.length}}(this.ot),this.Fo=function(t){let o=t.createBuffer();t.bindBuffer(Ho,o),t.bufferData(Ho,pi,Wo);let i=t.createBuffer();t.bindBuffer(Ho,i),t.bufferData(Ho,gi,Wo);let n=t.createBuffer();t.bindBuffer(Ho,n),t.bufferData(Ho,yi,Wo);let e=t.createBuffer();t.bindBuffer(Ho,e),t.bufferData(Ho,wi,Wo);let r=t.createBuffer();return t.bindBuffer(Xo,r),t.bufferData(Xo,Ti,Wo),{it:o,$i:pi,rt:i,Vi:gi,Di:n,Li:yi,ut:e,Wi:wi,lt:r,Hi:Ti,ci:Ti.length}}(this.ot),this.ai=new Float32Array(32),this.li=new Float32Array(32),this.ji=[],this.bo=2048,this.Ko={_i:Yt(this.ot,2,2),Bo:Yt(this.ot,this.bo,this.bo)},this.jo=Ct,this.Do=st,this.To=0}Ei(t){!function(t,o){-1===t.ri.Touch0&&(en=0),0===t.ei.Touch0&&(en+=o),1===t.ri.Touch0&&(nn[0]=t.ei.Touch0X,nn[1]=t.ei.Touch0Y);let i=0,n=0;if(1===t.ei.Touch0){let o=Math.min(t.si,t.di)/4;i=(t.ei.Touch0X-nn[0])/o,n=(t.ei.Touch0Y-nn[1])/o}for(let o=0;o<t.o.t.length;o++)128==(128&t.o.t[o])&&vo(t,o,i,n)}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)128==(128&t.o.t[o])&&fo(t,o)}(this),function(t,o){for(let o of navigator.getGamepads())o&&(t.ri[`pad${o.index}_axis_1`]=o.axes[0],t.ri[`pad${o.index}_axis_2`]=o.axes[1],t.ri[`pad${o.index}_axis_3`]=o.axes[2],t.ri[`pad${o.index}_axis_4`]=o.axes[3]);for(let o=0;o<t.o.t.length;o++)8320==(8320&t.o.t[o])&&co(t,o)}(this),function(t,o){for(let i=0;i<t.o.t.length;i++)(t.o.t[i]&mn)===mn&&wo(t,i,o)}(this,t),Vo(this),function(t,o){let i=[],n=[];for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&Qi)===Qi){let e=t.o.K[o],r=t.o.Ot[o];r.no=[],r.Yt?(r.Yt=!1,eo(e.o,r)):r.qt?(eo(e.o,r),n.push(r)):i.push(r)}for(let t=0;t<n.length;t++)lo(n[t],i,i.length),lo(n[t],n,t)}(this),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&hn)===hn&&To(t,o)}(this),Vo(this),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&Rn)===Rn&&Lo(t,o)}(this)}Ki(t){!function(t,o){let i=[];for(let n=0;n<t.o.t.length;n++)if((t.o.t[n]&pn)===pn){if(xo(t.o,n))continue;let e=t.o.Ht[n];switch(e.m){case 0:e.Lo(n)&&i.push(n);break;case 1:e.Xt-=o,e.Xt<0&&i.push(n)}}for(let o of i){let i=t.o.Ht[o];i.jt&&i.jt(o),t.o.t[o]&=-524289,0===t.o.t[o]&&t.o.B(o),delete t.o.Ht[o]}}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&Ji)===Ji&&so(t,o)}(this),function(t,o){for(let i=0;i<t.o.t.length;i++)(t.o.t[i]&Gi)===Gi&&Jt(t,i,o)}(this,t),function(t,o){for(let i=0;i<t.o.t.length;i++)(t.o.t[i]&dn)===dn&&_o(t,i,o)}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&sn)===sn){let i=t.o.K[o],n=t.o.Vt[o],e=t.o.K[n.I],r=l([0,0,0],e.o),a=s([0,0,0,0],e.o);_(i.P,i.P,r,n.Dt),w(i.N,i.N,a,n.Dt),i.V=!0}}(this),function(t,o){for(let i=0;i<t.o.t.length;i++)1024==(1024&t.o.t[i])&&mo(t,i,o)}(this,t),function(t,o){for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&wn)==wn&&Po(t,o)}(this),function(t,o){for(let i=0;i<t.o.t.length;i++)(t.o.t[i]&xn)==xn&&$o(t,i,o)}(this,t),function(t,o){for(let i=0;i<t.o.t.length;i++)(t.o.t[i]&Tn)==Tn&&No(t,i,o)}(this,t),function(t,o){for(let i=0;i<t.o.t.length;i++)(t.o.t[i]&vn)==vn&&yo(t,i,o)}(this,t),Vo(this),function(t,o){for(let i=0;i<t.o.t.length;i++)2==(2&t.o.t[i])&&oo(t,i,o)}(this,t),function(t,o){t.si==window.innerWidth&&t.di==window.innerHeight||(t.Vo=!0),t.Vo&&(t.si=t.Pi.width=window.innerWidth,t.di=t.Pi.height=window.innerHeight)}(this),function(t,o){t.ji=[];for(let o=0;o<t.o.t.length;o++)if((t.o.t[o]&Yi)===Yi){let i=t.o.u[o],e=t.o.K[o],a=i.h;if(t.Vo)switch(a.m){case 0:io(a,0===i.m?t.si/t.di:i.I.Go/i.I.Oo);break;case 1:no(a)}n(i.A,e.S),r(i.R,a.h,i.A),l(i.F,e.o),t.ji.push(o)}}(this),function(t,o){let i=t.o.K[t.ji[1]].o[12];for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&rn)==rn&&uo(t,o,i)}(this),function(t,o){t.ai.fill(0),t.li.fill(0);let i=0;for(let o=0;o<t.o.t.length;o++)(t.o.t[o]&an)===an&&ho(t,o,i++)}(this),function(t,o){var i,n,e;t.bo!==t.Ko.Bo.Go&&(i=t.ot,e=t.bo,(n=t.Ko.Bo).Go=t.bo,n.Oo=e,Gt(i,n.Yo,n.Go,n.Oo),Ot(i,n.qo,n.Go,n.Oo));for(let o of t.ji){let i=t.o.u[o];switch(i.m){case 0:Ao(t,i);break;case 3:Ro(t,i)}}}(this),function(t,o){let i=function(t){return t.Do(t)}(t);i!==Fn&&(t.Ii.innerHTML=Fn=i)}(this)}};window.scenes=[Ct,Et,Vt,jt,function(t){t.o=new si,t.Vo=!0,i(t,[M([0,-2.5,0],void 0,[16,5,16]),..._t(t)]);for(let o=0;o<2;o++)i(t,[M([tt(-8,8),0,tt(-3,0)],y([0,0,0,1],0,tt(-180,180),0)),...wt(t)]);for(let o=0;o<8;o++){let o=tt(-8,-.5);i(t,[M([tt(-8,8),0,o]),...gt(t)])}Q(t,[-1,1,1],3),i(t,[...Ft(t),M([2.5,6,1])]),i(t,[...Ft(t),M([2.4,8,1])]),i(t,[M([-4,2,-1],y([0,0,0,1],-10,100,10)),A([M(),L(1),at(It,.5)])]),i(t,[M([-4,0,-1],y([0,0,0,1],0,145,0),[.6,.6,.6]),...xt(t)]),i(t,[M([20,-12,-5],y([0,0,0,1],0,90,0),[30,30,30]),K(t.Ro,t.xo,[.5,.5,.5,1])]),i(t,[M([55,-10,-5.5],y([0,0,0,1],0,90,0),[20,20,20]),K(t.Ro,t.xo,[.5,.5,.5,1])]),i(t,[M([4.4,0,-2],y([0,0,0,1],0,12,0),[1,1,1]),A([M(),...pt(t)],[M([.5,0,1.5]),...yt(t)])]),i(t,[M([-4,-.3,.5]),...yt(t)]),i(t,[M([2.5,.2,3.5]),...yt(t)]),i(t,[...mt(),M()]),i(t,[...ht(t),M()]),i(t,[...I(0,[145/255,85/255,61/255,1]),M([0,0,0],y([0,0,0,1],-30,0,0)),D(o(t.o,"camera anchor"),.05)])}],window.scenes[0](Mn),Mn.ki(),window.$=Ut.bind(null,Mn),window.game=Mn}();
