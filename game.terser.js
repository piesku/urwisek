!function(){function t(t,n){let o=t.o.t();for(let i of n)i(t,o);return o}function n(t){return(n,o)=>{n.o.i[o]|=128,n.o.l[o]={u:t,m:!0,h:null}}}function o(t,n=.1){return(o,i)=>{o.o.i[i]|=4096,o.o.v[i]={_:t,p:n}}}function i(t){return(n,o)=>{n.o.i[o]|=16384,n.o.g[o]={T:t}}}function e(t,n,o=0){for(let i=o;i<t.i.length;i++)if(16384&t.i[i]&&t.g[i].T===n)return i;throw`No entity named ${n}.`}function r(t,n){return(o,i)=>{o.o.i[i]|=524288,o.o.R[i]={A:1,M:t,F:n}}}function a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function l(t,n){let o=n[0],i=n[1],e=n[2],r=n[3],a=n[4],l=n[5],s=n[6],f=n[7],c=n[8],u=n[9],m=n[10],h=n[11],d=n[12],v=n[13],_=n[14],p=n[15],g=o*l-i*a,y=o*s-e*a,w=o*f-r*a,T=i*s-e*l,R=i*f-r*l,x=e*f-r*s,A=c*v-u*d,M=c*_-m*d,F=c*p-h*d,b=u*_-m*v,I=u*p-h*v,k=m*p-h*_,E=g*k-y*I+w*b+T*F-R*M+x*A;return E?(E=1/E,t[0]=(l*k-s*I+f*b)*E,t[1]=(e*I-i*k-r*b)*E,t[2]=(v*x-_*R+p*T)*E,t[3]=(m*R-u*x-h*T)*E,t[4]=(s*F-a*k-f*M)*E,t[5]=(o*k-e*F+r*M)*E,t[6]=(_*w-d*x-p*y)*E,t[7]=(c*x-m*w+h*y)*E,t[8]=(a*I-l*F+f*A)*E,t[9]=(i*F-o*I-r*A)*E,t[10]=(d*R-v*w+p*g)*E,t[11]=(u*w-c*R-h*g)*E,t[12]=(l*M-a*b-s*A)*E,t[13]=(o*b-i*M+e*A)*E,t[14]=(v*y-d*T-_*g)*E,t[15]=(c*T-u*y+m*g)*E,t):null}function s(t,n,o){let i=n[0],e=n[1],r=n[2],a=n[3],l=n[4],s=n[5],f=n[6],c=n[7],u=n[8],m=n[9],h=n[10],d=n[11],v=n[12],_=n[13],p=n[14],g=n[15],y=o[0],w=o[1],T=o[2],R=o[3];return t[0]=y*i+w*l+T*u+R*v,t[1]=y*e+w*s+T*m+R*_,t[2]=y*r+w*f+T*h+R*p,t[3]=y*a+w*c+T*d+R*g,y=o[4],w=o[5],T=o[6],R=o[7],t[4]=y*i+w*l+T*u+R*v,t[5]=y*e+w*s+T*m+R*_,t[6]=y*r+w*f+T*h+R*p,t[7]=y*a+w*c+T*d+R*g,y=o[8],w=o[9],T=o[10],R=o[11],t[8]=y*i+w*l+T*u+R*v,t[9]=y*e+w*s+T*m+R*_,t[10]=y*r+w*f+T*h+R*p,t[11]=y*a+w*c+T*d+R*g,y=o[12],w=o[13],T=o[14],R=o[15],t[12]=y*i+w*l+T*u+R*v,t[13]=y*e+w*s+T*m+R*_,t[14]=y*r+w*f+T*h+R*p,t[15]=y*a+w*c+T*d+R*g,t}function f(t,n,o,i){let e=n[0],r=n[1],a=n[2],l=n[3],s=e+e,f=r+r,c=a+a,u=e*s,m=e*f,h=e*c,d=r*f,v=r*c,_=a*c,p=l*s,g=l*f,y=l*c,w=i[0],T=i[1],R=i[2];return t[0]=(1-(d+_))*w,t[1]=(m+y)*w,t[2]=(h-g)*w,t[3]=0,t[4]=(m-y)*T,t[5]=(1-(u+_))*T,t[6]=(v+p)*T,t[7]=0,t[8]=(h+g)*R,t[9]=(v-p)*R,t[10]=(1-(u+d))*R,t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t}function c(t,n,o,i,e){let r,a=1/Math.tan(n/2);return t[0]=a/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(r=1/(i-e),t[10]=(e+i)*r,t[14]=2*e*i*r):(t[10]=-1,t[14]=-2*i),t}function u(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function m(t,n){let o=function(t,n){let o=n[4],i=n[5],e=n[6],r=n[8],a=n[9],l=n[10];return t[0]=Math.hypot(n[0],n[1],n[2]),t[1]=Math.hypot(o,i,e),t[2]=Math.hypot(r,a,l),t}([0,0,0],n),i=1/o[0],e=1/o[1],r=1/o[2],a=n[0]*i,l=n[1]*e,s=n[2]*r,f=n[4]*i,c=n[5]*e,u=n[6]*r,m=n[8]*i,h=n[9]*e,d=n[10]*r,v=a+c+d,_=0;return v>0?(_=2*Math.sqrt(v+1),t[3]=.25*_,t[0]=(u-h)/_,t[1]=(m-s)/_,t[2]=(l-f)/_):a>c&&a>d?(_=2*Math.sqrt(1+a-c-d),t[3]=(u-h)/_,t[0]=.25*_,t[1]=(l+f)/_,t[2]=(m+s)/_):c>d?(_=2*Math.sqrt(1+c-a-d),t[3]=(m-s)/_,t[0]=(l+f)/_,t[1]=.25*_,t[2]=(u+h)/_):(_=2*Math.sqrt(1+d-a-c),t[3]=(l-f)/_,t[0]=(m+s)/_,t[1]=(u+h)/_,t[2]=.25*_),t}function h(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function d(t,n,o){return t[0]=n[0]+o[0],t[1]=n[1]+o[1],t[2]=n[2]+o[2],t}function v(t,n,o){return t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o,t}function _(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function p(t,n){let o=n[0],i=n[1],e=n[2],r=o*o+i*i+e*e;return r>0&&(r=1/Math.sqrt(r)),t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function g(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function y(t,n,o){let i=n[0],e=n[1],r=n[2],a=o[3]*i+o[7]*e+o[11]*r+o[15];return a=a||1,t[0]=(o[0]*i+o[4]*e+o[8]*r+o[12])/a,t[1]=(o[1]*i+o[5]*e+o[9]*r+o[13])/a,t[2]=(o[2]*i+o[6]*e+o[10]*r+o[14])/a,t}function w(t,n,o,i){let e=n[0],r=n[1],a=n[2];return t[0]=e+i*(o[0]-e),t[1]=r+i*(o[1]-r),t[2]=a+i*(o[2]-a),t}function T(t,n,o,i,e){return t[0]=n,t[1]=o,t[2]=i,t[3]=e,t}function R(t,n,o){let i=n[0],e=n[1],r=n[2],a=n[3],l=o[0],s=o[1],f=o[2],c=o[3];return t[0]=i*c+a*l+e*f-r*s,t[1]=e*c+a*s+r*l-i*f,t[2]=r*c+a*f+i*s-e*l,t[3]=a*c-i*l-e*s-r*f,t}function x(t,n,o,i){let e=Math.sin(n/2*qn),r=Math.cos(n/2*qn),a=Math.sin(o/2*qn),l=Math.cos(o/2*qn),s=Math.sin(i/2*qn),f=Math.cos(i/2*qn);return t[0]=e*l*f+r*a*s,t[1]=r*a*f-e*l*s,t[2]=r*l*s-e*a*f,t[3]=r*l*f+e*a*s,t}function A(t,n,o,i){let e,r,a,l,s,f=n[0],c=n[1],u=n[2],m=n[3],h=o[0],d=o[1],v=o[2],_=o[3];return r=f*h+c*d+u*v+m*_,r<0&&(r=-r,h=-h,d=-d,v=-v,_=-_),1-r>1e-6?(e=Math.acos(r),a=Math.sin(e),l=Math.sin((1-i)*e)/a,s=Math.sin(i*e)/a):(l=1-i,s=i),t[0]=l*f+s*h,t[1]=l*c+s*d,t[2]=l*u+s*v,t[3]=l*m+s*_,t}function M(t,n,o,i=[.9,.9,.9,1]){return(e,r)=>{e.o.i[r]|=8,e.o.I[r]={A:0,k:{A:0,K:t,C:n,P:o,k:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],S:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],V:[0,0,0],W:i}}}function F(t,n,o,i,e=[0,0,0,1]){return(r,a)=>{r.o.i[a]|=8,r.o.I[a]={A:3,_:t,k:{A:1,D:n,C:o,P:i,k:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],S:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],V:[0,0,0],W:e}}}function b(...n){return(o,i)=>{let e=[];for(let i of n){let n=t(o,i);e.push(n)}o.o.i[i]|=16,o.o.L[i]={L:e}}}function*I(t,n,o){if((t.i[n]&o)===o&&(yield n),16&t.i[n])for(let i of t.L[n].L)yield*I(t,i,o)}function k(t,n){if(16&t.i[n])for(let o of t.L[n].L)k(t,o);t.j(n)}function E(t=[0,0,0],n=[0,0,0,1],o=[1,1,1]){return(i,e)=>{i.o.i[e]|=1048576,i.o.H[e]={o:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],U:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],X:t,G:n,$:o,O:!0}}}function*K(t,n,o){(t.i[n]&o)===o&&(yield n);let i=t.H[n].q;void 0!==i&&(yield*K(t,i,o))}function C(t,n){return[b([E([0,0,5]),M(1,.1,15,n)])]}function P(t){return 1-(1-t)**4}function S(t){return t<.5?8*t**4:1-(-2*t+2)**4/2}function B(t){return(n,o)=>{let i={};for(let n in t){let{Y:o,u:e=7}=t[n],r=o[o.length-1].J;i[n]={Y:o.map((t=>({...t}))),u:e,Z:r,tt:0}}n.o.i[o]|=1,n.o.nt[o]={ot:i,it:i.idle}}}function N(t,n){return(o,i)=>{o.o.i[i]|=4,o.o.et[i]={rt:t,O:void 0===n,at:n||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}}}function V(t){return(n,o)=>{n.o.i[o]|=256,n.o.lt[o]={st:t}}}function z(t,n,o){return(i,e)=>{if(!Yn.has(n)){let o=i.ft.createVertexArray();i.ft.bindVertexArray(o),i.ft.bindBuffer(Vn,n.ct),i.ft.enableVertexAttribArray(t.ht.ut),i.ft.vertexAttribPointer(t.ht.ut,3,Un,!1,0,0),i.ft.bindBuffer(Vn,n.dt),i.ft.enableVertexAttribArray(t.ht.vt),i.ft.vertexAttribPointer(t.ht.vt,3,Un,!1,0,0),i.ft.bindBuffer(zn,n._t),i.ft.bindVertexArray(null),Yn.set(n,o)}i.o.i[e]|=32768,i.o.gt[e]={A:1,yt:t,wt:n,Tt:Yn.get(n),Rt:o}}}function W(t,n,o){return(i,e)=>{if(!Jn.has(n)){let o=i.ft.createVertexArray();i.ft.bindVertexArray(o),i.ft.bindBuffer(Vn,n.ct),i.ft.enableVertexAttribArray(t.ht.ut),i.ft.vertexAttribPointer(t.ht.ut,3,Un,!1,0,0),i.ft.bindBuffer(Vn,n.dt),i.ft.enableVertexAttribArray(t.ht.vt),i.ft.vertexAttribPointer(t.ht.vt,3,Un,!1,0,0),i.ft.bindBuffer(Vn,n.xt),i.ft.enableVertexAttribArray(t.ht.At),i.ft.vertexAttribPointer(t.ht.At,4,Un,!1,0,0),i.ft.bindBuffer(zn,n._t),i.ft.bindVertexArray(null),Jn.set(n,o)}i.o.i[e]|=32768,i.o.gt[e]={A:2,yt:t,wt:n,Tt:Jn.get(n),Rt:o}}}function D(t,n,o,i){return(e,r)=>{let a=e.ft.createBuffer();e.ft.bindBuffer(Vn,a),e.ft.bufferData(Vn,6400,35048),e.o.i[r]|=32768,e.o.gt[r]={A:3,yt:e.Mt,Ft:a,bt:t,It:o,kt:[n,i]}}}function L(t,n=[1,.5,0,1],o=1){return[W(t.Et,t.Kt,n),b([E([0,.35,-.47],[.672,0,0,.74]),b([E(),i(1===o?"tail anchor":""),N(0,[1,0,0,0,0,.096,-.995,0,0,.995,.096,0,0,.433,.395,1]),V(1),B({idle:{Y:[{J:0,X:[0,0,0],G:[0,0,0,1]},{J:9*o,X:[0,0,0],G:[0,0,0,1]},{J:10*o,X:[0,-.044,.289],G:[-.288,0,0,.958],Ct:S},{J:15*o,X:[0,-.044,.289],G:[-.288,0,0,.958]},{J:16*o,X:[0,0,0],G:[0,0,0,1],Ct:S}],u:3},walk:{Y:[{J:0,X:[0,0,0],G:[0,0,0,1]}],u:5},jump:{Y:[{J:0,X:[0,0,0],G:[0,0,0,1]},{J:Qn*o,X:[0,0,0],G:[-.131,0,0,.991],Ct:P},{J:Zn*o,X:[0,0,0],G:[.087,0,0,.996]},{J:1*o,X:[0,0,0],G:[0,0,0,1],Ct:P}],u:1}}),b([E([0,.46,0],[-.4,0,0,.92]),b([E(),V(1),B({idle:{Y:[{J:0,G:[0,0,0,1]},{J:9*o,G:[0,0,0,1]},{J:10*o,G:[.371,0,0,.929],Ct:S},{J:15*o,G:[.371,0,0,.929]},{J:16*o,G:[0,0,0,1],Ct:S}],u:3},walk:{Y:[{J:0,G:[0,0,0,1]}],u:5},jump:{Y:[{J:0,G:[0,0,0,1]}],u:1}}),b([E(),N(1,[1,0,0,0,0,.795,-.606,0,0,.606,.795,0,0,-.306,.251,1]),V(1),B({idle:{Y:[{J:0,G:[0,.088,.116,.989],Ct:S},{J:1*o,G:[0,-.088,-.116,.989],Ct:S}]},walk:{Y:[{J:0,G:[.087,0,0,.996]},{J:.2*o,G:[0,0,0,1]}],u:5},jump:{Y:[{J:0,G:[0,0,0,1]},{J:Qn*o,G:[.216,0,0,.976],Ct:P},{J:Zn*o,G:[.216,0,0,.976]},{J:1*o,G:[0,0,0,1],Ct:P}],u:1}})])])],[E([.07,.46,0],[.74,0,0,.672]),b([E(),N(2,[1,0,0,0,0,-1,0,0,0,-0,-1,0,-.073,.395,-.015,1]),V(1),B({idle:{Y:[{J:0,G:[0,0,0,1]}]},walk:{Y:[{J:0,G:[-.174,0,0,.985]},{J:.2*o,G:[.131,0,0,.991]}],u:5},jump:{Y:[{J:0,G:[0,0,0,1]},{J:Qn*o,G:[-.259,0,0,.966],Ct:P},{J:Zn*o,G:[-.259,0,0,.966]},{J:1*o,G:[0,0,0,1],Ct:P}],u:1}})])],[E([-.07,.46,0],[.74,0,0,.672]),b([E(),N(3,[1,0,0,0,0,-1,0,0,0,-0,-1,0,.073,.395,-.015,1]),V(1),B({idle:{Y:[{J:0,G:[0,0,0,1]}]},walk:{Y:[{J:0,G:[.131,0,0,.991]},{J:.2*o,G:[-.174,0,0,.985]}],u:5},jump:{Y:[{J:0,G:[0,0,0,1]},{J:Qn*o,G:[-.301,0,0,.954],Ct:P},{J:Zn*o,G:[-.301,0,0,.954]},{J:1*o,G:[0,0,0,1],Ct:P}],u:1}})])],[E([.07,0,0],[.753,0,0,.658]),b([E(),N(4,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,-.073,.291,-.509,1]),V(1),B({idle:{Y:[{J:0,G:[0,0,0,1]},{J:9*o,G:[0,0,0,1]},{J:10*o,G:[-.492,0,0,.87],Ct:S},{J:15*o,G:[-.492,0,0,.87]},{J:16*o,G:[0,0,0,1],Ct:S}],u:3},walk:{Y:[{J:0,G:[.131,0,0,.991]},{J:.2*o,G:[-.131,0,0,.991]}],u:5},jump:{Y:[{J:0,G:[0,0,0,1]},{J:Qn*o,G:[.383,0,0,.924],Ct:P},{J:Zn*o,G:[.383,0,0,.924]},{J:1*o,G:[0,0,0,1],Ct:P}],u:1}})])],[E([-.07,0,0],[.753,0,0,.658]),b([E(),N(5,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,.073,.291,-.509,1]),V(1),B({idle:{Y:[{J:0,G:[0,0,0,1]},{J:9*o,G:[0,0,0,1]},{J:10*o,G:[-.468,0,0,.884],Ct:S},{J:15*o,G:[-.468,0,0,.884]},{J:16*o,G:[0,0,0,1],Ct:S}],u:3},walk:{Y:[{J:0,G:[-.131,0,0,.991]},{J:.2*o,G:[.131,0,0,.991]}],u:5},jump:{Y:[{J:0,G:[0,0,0,1]},{J:Qn*o,G:[.301,0,0,.954],Ct:P},{J:Zn*o,G:[.301,0,0,.954]},{J:1*o,G:[0,0,0,1],Ct:P}],u:1}})])])])])]}function j(t,n,o){return(i,e)=>{i.o.i[e]|=512,i.o.Pt[e]={St:t,Bt:n,Nt:o,Vt:[],zt:0}}}function H(t){return(n,o)=>{n.o.i[o]|=2048,n.o.Wt[o]={Dt:t**2}}}function U(t){return(n,o)=>{n.o.i[o]|=131072,n.o.Lt[o]={jt:t}}}function X(t){return[o(e(t.o,"pixie anchor"),.02),H(1.5),b([E(),U(.1),j(1,.1,.1),D([1,1,1,1],4,[.5,.5,1,1],1)]),r(7,(n=>{t.o.v[n]._=e(t.o,"exit")}))]}function G(t){return(n,o)=>{n.o.i[o]|=2,n.o.Ht[o]={Ut:t,tt:0}}}function $(t){return(n,o)=>{t(n,o)}}function O(t,n,o,i=[1,1,1]){return(e,r)=>{e.o.i[r]|=32,e.o.Xt[r]={Gt:r,$t:!0,Ot:t,qt:n,i:o,kt:i,Yt:[0,0,0],Jt:[0,0,0],Qt:[0,0,0],Zt:[0,0,0],tn:[]}}}function q(t,n,o){return(i,e)=>{i.o.i[e]|=64,i.o.nn[e]={on:t,G:n,en:o}}}function Y(t,n){return(o,i)=>{o.o.i[i]|=8192,o.o.rn[i]={an:t,ln:n,sn:[],fn:[]}}}function J(t,n=.5){return(o,i)=>{o.o.i[i]|=65536,o.o.cn[i]={A:t,un:n,mn:[0,0,0],hn:[0,0,0],dn:[0,0,0],vn:!1}}}function Q(r,a,l=r._n){let s=t(r,[G(),n(1),Y(3,0),O(!0,1,6,[.6,.8,.8]),J(1,0),b([i("mesh anchor"),E([0,-.42,0],[0,.707,0,.707]),n(2),b([E([0,.5,1],void 0,[.1,.1,.1]),O(!0,0,4),n(8)])],[i("pup anchor 0"),E([0,-.42,.2],[0,.707,0,.707]),n(2)],[i("pup anchor 1"),E([-.2,-.42,.2],[0,.707,0,.707]),n(2)],[i("pup anchor 2"),E([-.4,-.42,.2],[0,.707,0,.707]),n(2)],[i("camera anchor"),E([.5,.5,0],x([0,0,0,1],-10,0,0))],[i("sun anchor"),E()],[i("pixie anchor"),E([4,1,0],[0,.707,0,.707])]),E(a)]),f=0,c=0,u=0;t(r,[E([-10,0,.5]),o(e(r.o,"mesh anchor"),.2),b([...L(r),E(),n(4)],[E(),W(r.Et,r.pn,[1,.5,0,1])])]),t(r,[E(),o(e(r.o,"tail anchor"),1),b([E([0,-.2,-.05],[1,0,0,0]),q(null,[0,-1,0,0]),Y(0,1),$(((t,n)=>f=n)),N(0,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-.701,-.428,1])])]),t(r,[E(),o(f,.08),N(1,[1,-0,-0,0,0,.132,.991,0,0,-.991,.132,0,-0,-1.1,-.285,1]),b([E([0,.2,.1],void 0,[.1,.1,.1]),$(((t,n)=>c=n))])]),t(r,[E(),o(c,.06),N(2,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-1.492,-.487,1]),b([E([0,.2,.1],void 0,[.1,.1,.1]),$(((t,n)=>u=n))])]),t(r,[E(),o(u,.04),N(3,[-1,-0,-0,0,0,.137,-.991,0,0,-.991,-.137,0,-0,-2.009,.214,1]),b([E([0,.2,.1],void 0,[.1,.1,.1]),$(((t,n)=>n))])]);for(let i=0;i<l;i++)t(r,[E(),o(e(r.o,"pup anchor "+i),.2-.02*i),b([...L(r,[1,.5,0,1],.7+.1*i),E(void 0,void 0,[.3,.3,.3]),n(4)])]);return s}function Z(){return to=16807*to%2147483647,(to-1)/2147483646}function tt(t=0,n=1){return Z()*(n-t)+t}function nt(t){return t[function(t=0,n=1){return~~(Z()*(n-t+1)+t)}(0,t.length-1)]}function ot(t){return(n,o)=>{n.o.i[o]&=~t}}function it(t,n){return(o,i)=>{o.o.i[i]|=1024,o.o.St[i]={M:t,gn:n}}}function et(t){return[b([E([0,3.5,0],[0,-.71,0,.71],[1,7,1]),V(32768),z(t.yn,t.wn,[1,1,1,1])],[E([0,7.8,0],[0,-.71,0,.71],[.8,1.6,.8]),V(32768),z(t.yn,t.wn,[1,1,1,1])],[E([0,9.4,0],[0,-.71,0,.71],[.56,1.6,.56]),V(32768),z(t.yn,t.wn,[1,1,1,1])],[E([0,10.2,0],[-.5,-.5,.5,.5],[1.72,.51,.59]),V(32768),z(t.yn,t.wn,[1,1,1,1])],[E([0,8.6,0],[-.5,-.5,.5,.5],[1.12,.44,.8]),V(32768),z(t.yn,t.wn,[0,0,0,1])],[E([0,7,0],[-.5,-.5,.5,.5],[2.61,.77,.9]),V(32768),z(t.yn,t.wn,[0,0,0,1])])]}function rt(t){return[q([0,0,1],null),Y(tt(1,3),0),it(25),G(no),ot(2),b([E(void 0,x([0,0,0,0],0,-90,-90),[.1,.1,.1]),...et(t)],[E(void 0,[0,1,0,0]),U(.02),j(1,.01,1),D([1,.5,0,1],10,[.56,.33,.24,1],2)])]}function at(t,n){return(o,i)=>{o.o.i[i]|=262144,o.o.Tn[i]={Rn:t,xn:n,zt:n}}}function lt(t){return'\n<div\nstyle="\nmargin: 40vh -1vw 0;\nfont-size: 16vw;\nfont-weight: 600;\n"\n>\nESCAPE\n</div>\n<div>\nEarth has become uninhabitable.<br>\nHumans are leaving.<br>\nFind the Ark!<br><br>\n<em onclick="$(1)">Play Now</em>\n</div>\n'}function st(t){return""}function ft(t){return'\n<div\nstyle="\nmargin: 20vh -1vw 0;\nfont-size: 12vw;\nfont-weight: 600;\n"\n>\nTHE END\n</div>\n<div>\nNot all of us will make it.<br>\nStop climate change now.<br>\n</div>\n'}function ct(t,n,o=0){for(let i=o;i<t.i.length;i++)if((t.i[i]&n)===n)return i}function ut(t){return[b([E([10,10,10]),H(.9)])]}function mt(t){return[o(e(t.o,"sun anchor"),.01),b([E([10,10,-10],x([0,0,0,1],-35,135,0)),F(t.Mn.An,8,1,100),H(.6)])]}function ht(t){return[O(!1,18,0),J(0),z(t.yn,t.Fn,[82/255,39/255,5/255,1])]}function dt(t){return[b([E([0,1.5,0],void 0,[3,3,3]),V(32768),z(t.yn,t.Fn,[.1,.1,.1,1])],[E([-2.25,2,0],void 0,[1.5,.1,3]),V(32768),z(t.yn,t.Fn,[.07,.15,.8,1])],[E([-.8,.1,0],void 0,[4.9,.2,3.4]),V(32768),z(t.yn,t.Fn,[.1,.1,.1,1])],[E([-2.8,1,0],void 0,[.1,2,.1]),V(32768),z(t.yn,t.Fn,[.1,.1,.1,1])])]}function vt(t){let n=tt(.5,.9),o=new Float32Array(9600);for(let t=0;t<600;t++){let i=[tt(-n,n),tt(-n,n),tt(-n,n)],e=x([0,0,0,0],tt(-90,90),tt(-90,90),tt(-90,90));f(new Float32Array(o.buffer,64*t,16),e,i,[1,1,1])}return[V(32768),(i=t.bn,e=o,(t,n)=>{let o=t.In,r=t.ft.createVertexArray();t.ft.bindVertexArray(r),t.ft.bindBuffer(Vn,i.ct),t.ft.enableVertexAttribArray(o.ht.ut),t.ft.vertexAttribPointer(o.ht.ut,3,Un,!1,0,0);let a=t.ft.createBuffer();t.ft.bindBuffer(Vn,a),t.ft.bufferData(Vn,e,Nn),t.ft.enableVertexAttribArray(o.ht.kn),t.ft.vertexAttribPointer(o.ht.kn,3,Un,!1,64,0),t.ft.vertexAttribDivisor(o.ht.kn,1),t.ft.enableVertexAttribArray(o.ht.En),t.ft.vertexAttribPointer(o.ht.En,3,Un,!1,64,16),t.ft.vertexAttribDivisor(o.ht.En,1),t.ft.enableVertexAttribArray(o.ht.Kn),t.ft.vertexAttribPointer(o.ht.Kn,3,Un,!1,64,32),t.ft.vertexAttribDivisor(o.ht.Kn,1),t.ft.enableVertexAttribArray(o.ht.Cn),t.ft.vertexAttribPointer(o.ht.Cn,3,Un,!1,64,48),t.ft.vertexAttribDivisor(o.ht.Cn,1),t.ft.bindBuffer(zn,i._t),t.ft.bindVertexArray(null),t.o.i[n]|=32768,t.o.gt[n]={A:4,yt:o,wt:i,Tt:r,Pn:e.length/16,Sn:a}})];var i,e}function _t(t){return[b([E([0,4,0],void 0,[.5,8,.5]),V(32768),z(t.yn,t.wn,[.12,.03,.01,1])],[E([0,7.41,-.25],void 0,[3,.45,.2]),V(32768),z(t.yn,t.Fn,[.12,.03,.01,1])],[E([0,7.41,.25],void 0,[3,.45,.2]),V(32768),z(t.yn,t.Fn,[.12,.03,.01,1])],[E([0,6.33,-.25],void 0,[3,.45,.2]),V(32768),z(t.yn,t.Fn,[.12,.03,.01,1])],[E([1.3,7.75,-.25],void 0,[.2,.3,.2]),V(32768),z(t.yn,t.wn,[.37,.37,.37,1])],[E([1,7.75,-.25],void 0,[.2,.3,.2]),V(32768),z(t.yn,t.wn,[.37,.37,.37,1])],[E([1.3,6.7,-.25],void 0,[.2,.3,.2]),V(32768),z(t.yn,t.wn,[.37,.37,.37,1])],[E([1,6.7,-.25],void 0,[.2,.3,.2]),V(32768),z(t.yn,t.wn,[.37,.37,.37,1])],[E([-.34,5.76,-.24],[0,0,-.38,.92],[1.2,.2,.05]),V(32768),z(t.yn,t.Fn,[.37,.37,.37,1])],[E([-1,7.75,.25],void 0,[.2,.3,.2]),V(32768),z(t.yn,t.wn,[.37,.37,.37,1])],[E([-1.3,7.75,.25],void 0,[.2,.3,.2]),V(32768),z(t.yn,t.wn,[.37,.37,.37,1])])]}function pt(t){return[b([E(),...dt(t)],[E([0,1.5,0],void 0,[3,3,3]),O(!1,34,0),J(0)],[E([-2.25,2,0],void 0,[1.5,.1,3]),O(!1,66,0),J(0)],[E([-.8,.1,0],void 0,[4.9,.2,3.4]),O(!1,34,0),J(0)])]}function gt(t){return[b([E([0,.8,0],void 0,[4,1,2]),V(32768),z(t.yn,t.Fn,[.8,.02,.02,1])],[E([1.28,.5,0],[.71,0,0,.71],[1,2.2,1]),V(32768),z(t.yn,t.wn,[0,0,0,1])],[E([-1.1,.5,0],[.71,0,0,.71],[1,2.2,1]),V(32768),z(t.yn,t.wn,[0,0,0,1])],[E([-.5,2,.9],void 0,[.2,1.4,.2]),V(32768),z(t.yn,t.Fn,[.8,.02,.02,1])],[E([-.5,2,-.9],void 0,[.2,1.4,.2]),V(32768),z(t.yn,t.Fn,[.8,.02,.02,1])],[E([1.9,2,.9],void 0,[.2,1.4,.2]),V(32768),z(t.yn,t.Fn,[.8,.02,.02,1])],[E([1.9,2,-.9],void 0,[.2,1.4,.2]),V(32768),z(t.yn,t.Fn,[.8,.02,.02,1])],[E([.7,2.8,0],void 0,[2.6,.2,2]),V(32768),z(t.yn,t.Fn,[.8,.02,.02,1])],[E([-2,1,-.6],[.5,.5,-.5,.5],[.4,.2,.4]),V(32768),z(t.yn,t.wn,[.8,.78,.02,1])],[E([-2,1,.6],[.5,.5,-.5,.5],[.4,.2,.4]),V(32768),z(t.yn,t.wn,[.8,.78,.02,1])],[E([.26,1.55,.55],void 0,[.2,.5,.8]),V(32768),z(t.yn,t.Fn,[0,0,0,1])],[E([.26,1.55,-.55],void 0,[.2,.5,.8]),V(32768),z(t.yn,t.Fn,[0,0,0,1])])]}function yt(t){return[b([E(),...gt(t)],[E([0,.8,0],void 0,[4,1,2]),O(!1,66,0),J(0)])]}function wt(t){return[b([E(),V(32768),z(t.yn,t.Fn,[.34,.17,.04,1])],[E([.17,.62,0],[0,0,.57,.82],[.04,.7,1]),V(32768),z(t.yn,t.Fn,[.34,.17,.04,1])],[E([-.29,.54,0],[0,0,-.64,.77],[.04,.42,1]),V(32768),z(t.yn,t.Fn,[.34,.17,.04,1])])]}function Tt(t){return[O(!0,36,6),J(1),o(0),ot(4096),...wt(t)]}function Rt(t){return[i("pup"),b([E(void 0,void 0,[.3,.3,.3]),...L(t)])]}function xt(t,n){return(o,i)=>{o.o.i[i]|=2097152,o.o.Bn[i]={st:t,gn:n}}}function At(t){return[O(!1,2,1,[1,100,1]),xt(1,2),b([E([0,1,0]),i("exit")])]}function Mt(t){return[q([0,0,1],null,"walk"),Y(1,0),it(10),W(t.Et,t.bn,nt(io)),b([E(),b([E(),N(0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),B({idle:{Y:[{J:0,X:[0,0,0]}]},walk:{Y:[{J:0,X:[0,-.05,0]},{J:.6,X:[0,.01,0]}]}}),b([E(void 0,[0,0,-.628,.778]),b([E(),N(1,[.124,.992,0,0,-.992,.124,-0,0,-0,-0,1,0,-0,-0,-0,1]),B({idle:{Y:[{J:0,G:[0,0,0,1]}]},walk:{Y:[{J:0,G:[0,0,.044,.999]},{J:.6,G:[0,0,-.342,.94]}]}})])],[E(void 0,[0,0,.628,.778]),b([E(),N(2,[.124,-.992,-0,0,.992,.124,-0,0,0,-0,1,0,0,-0,-0,1]),B({idle:{Y:[{J:0,G:[0,0,0,1]}]},walk:{Y:[{J:0,G:[0,0,-.044,.999]},{J:.6,G:[0,0,.342,.94]}]}})])])])])]}function Ft(t){let n=tt();return n<.1?[q([0,0,1],null,"walk"),Y(tt(1,1.2),0),it(100),b([E(void 0,void 0,[2,2,2]),V(32784),...L(t,nt(eo),3)])]:n<.5?[q([0,0,1],null,"walk"),Y(tt(2,2.2),0),it(50),b([E(void 0,void 0,[1,1.5,1]),V(32784),...L(t,nt(eo),1.5)])]:[q([0,0,1],null,"jump"),Y(tt(3,3.2),0),it(30),b([E(void 0,void 0,[.5,.5,1]),V(32784),...L(t,nt(eo),.8)])]}function bt(t,n=2,o=4){let i=tt(n,o);return[b([E([0,i/2,0],void 0,[.25,i,.25]),V(32768),z(t.yn,t.wn,[.8,.2,.2,1])],[E([0,i,0]),V(32768),...vt(t)])]}function It(n){t(n,[E([76.04,1.52,.45],[0,.71,0,.71],[5,2,7.05]),...ht(n)]),t(n,[E([49.73,-1.5,-5.55],[0,.71,0,.71],[20,4,120]),...ht(n)]),t(n,[E([17.04,-4.41,-9.36],x([0,0,0,1],0,90,0),[5,10,10]),z(n.yn,n.pn,[.5,.5,.5,1])]),t(n,[E([29.07,-2.85,-9.2],x([0,0,0,1],0,90,0),[5,10,10]),z(n.yn,n.pn,[.5,.5,.5,1])]),t(n,[E([79.24,-10.32,-8.02],x([0,0,0,1],0,90,0),[12,22,24.8]),z(n.yn,n.pn,[.5,.5,.5,1])]),t(n,[E([11.67,.5,-2.49]),...dt(n)]),t(n,[E([-2.9,.44,-5.7],[0,.91,0,.42],[.5,.5,.5]),...dt(n)]),t(n,[E([8.58,.72,.59]),...vt(n)]),t(n,[E([24.08,.38,-.49]),...vt(n)]),t(n,[E([13.37,2.13,-1.2]),...vt(n)]),t(n,[E([-1.27,.19,-3.2],void 0,[.5,.5,.5]),...vt(n)]),t(n,[E([-4.52,.69,1.75]),...vt(n)]),t(n,[E([2.69,.33,-2.79]),..._t(n)]),t(n,[E([-.62,3.32,-8.26],void 0,[.2,.2,.2]),..._t(n)]),t(n,[E([-4.67,2.78,-8.4],void 0,[.15,.15,.15]),..._t(n)]),t(n,[E([23.85,.11,-5.15]),..._t(n)]),t(n,[E([21.29,5.84,-7.26],void 0,[.2,.2,.2]),..._t(n)]),t(n,[E([31.05,.74,-1.14]),...vt(n)]),t(n,[E([11.69,.5,.83]),...pt(n)]),t(n,[E([11.58,.68,2.02]),...vt(n)]),t(n,[E([15.39,.11,-2.79]),..._t(n)]),t(n,[E([-3.95,.5,1.41],[0,.62,0,.78]),...yt(n)]),t(n,[E([7.69,1,-.1],[-.15,.68,.7,.14],[.4,.4,.4]),...yt(n)]),t(n,[E([14.31,.11,3.18]),..._t(n)]),t(n,[E([22.34,.38,-.91]),...vt(n)]),t(n,[E([54.04,.5,.83]),...pt(n)]),t(n,[E([28.61,.97,0]),...Tt(n)]),t(n,[E([21.96,1,-2.35],[-.44,.55,.56,.43],[.4,.4,.4]),...gt(n)]),t(n,[E([56.12,.24,2.71]),..._t(n)]),t(n,[E([54.23,4.09,0]),...Tt(n)]),t(n,[E([28.61,2.41,0]),...Tt(n)]),t(n,[E([96.21,-4.41,-10.12],x([0,0,0,1],0,90,0),[5,10,10]),z(n.yn,n.pn,[.5,.5,.5,1])]),t(n,[E([46,.11,-1.52],[0,-.73,0,.69]),..._t(n)]),t(n,[E([43.31,1,-3.57],[-.71,.06,.06,.7],[.4,.4,.4]),...gt(n)]),t(n,[E([42.7,.93,-2.99],[0,-.73,0,.69]),...vt(n)]),t(n,[E([59.59,.44,-4.68],[0,.71,0,.71],[.5,.5,.5]),...dt(n)]),t(n,[E([61.26,.44,-4.68],[0,.71,0,.71],[.5,.5,.5]),...dt(n)]),t(n,[E([62.93,.44,-4.68],[0,.71,0,.71],[.5,.5,.5]),...dt(n)]),t(n,[E([60.15,.56,-3.88],[0,-.73,0,.69]),...vt(n)]),t(n,[E([41.7,2.41,0]),...Tt(n)]),t(n,[E([41.39,2.41,2.85]),...Tt(n)]),t(n,[E([41.03,2.95,-1.3],[0,0,-.71,.71]),...Tt(n)]),t(n,[E([60.98,.21,3.78]),...vt(n)]),t(n,[E([85.09,-12.27,-9.02],x([0,0,0,1],0,90,0),[12,22,8]),z(n.yn,n.pn,[.5,.5,.5,1])]),t(n,[E([78.02,.24,-3.54]),..._t(n)]),t(n,[E([56.16,.61,.39],[0,-1,0,-.02]),...vt(n)]),t(n,[E([56.4,1,.3],[.7,.15,.16,-.68]),...yt(n)]),t(n,[E([77,2.5,0]),...At()]),t(n,[E([77,2.5,0],[0,-.71,0,.71]),...Rt(n)]),t(n,[E([-3,2,-2],[.01,.76,.12,.64]),b([E(),U(1),at(Mt,.5),V(393216)])]),t(n,[E([14,2,-2],[.01,.76,.12,.64]),b([E(),U(1),at(Mt,.5),V(393216)])]),t(n,[E([33,2,-2],[.01,.76,.12,.64]),b([E(),U(1),at(Mt,.5),V(393216)])]),t(n,[E([53,2,-2],[.01,.76,.12,.64]),b([E(),U(1),at(Mt,.5),V(393216)])]),t(n,[E([73,3,-2],[.01,.76,.12,.64]),b([E(),U(1),at(Mt,.5),V(393216)])]),t(n,[E([-7,.5,-5],[0,.71,0,.71]),at(Ft,1)]);{let o=28,i=6,e=6,r=-5,a=e-~~(o/2),l=e+~~(o/2),s=r-~~(i/2),f=r+~~(i/2),c=~~(.6*o);for(let o=0;o<c;o++)t(n,[E([tt(a,l),0,tt(s,f)]),...nt([bt(n),vt(n)])])}{let o=12,i=5,e=71,r=-4,a=e-~~(o/2),l=e+~~(o/2),s=r-~~(i/2),f=r+~~(i/2),c=~~(.6*o);for(let o=0;o<c;o++)t(n,[E([tt(a,l),0,tt(s,f)]),...nt([bt(n),vt(n)])])}t(n,[E([-4.43,.44,-4.42],[0,.91,0,.42],[.5,.5,.5]),...dt(n)]),t(n,[E([-1.37,.44,-6.99],[0,.91,0,.42],[.5,.5,.5]),...dt(n)]),t(n,[E([-2.6,.9,.6]),O(!1,2,0,[1,4,1]),J(0),b([E(void 0,x([0,0,0,0],-90,0,0)),j(2,.05,1),D([1,1,0,1],50,[1,0,0,1],10),U(.5),V(164352)])]),t(n,[...ut(),E()]),t(n,[...mt(n),E()])}function kt(n){n.o=new oo,n.Nn=!0;let a=t(n,[E([0,1,-3]),i("camera anchor")]),l=Q(n,[0,.774,0]);n.o.i[l]&=-129,It(n);let s=t(n,[E([0,16,-5],x([0,0,0,1],10,0,0),[17,10,1]),b([E(),U(.5),j(20,.1,0),D([1,1,1,1],2,[.5,.5,1,1],1)])]),f=t(n,[E([-5,10,-3],x([0,0,0,1],-45,110,0)),b([E(),U(3),at(rt,3)])]),c=t(n,[...C(0,[145/255,85/255,61/255,1]),E([0,15,0],x([0,0,0,1],10,0,0)),o(e(n.o,"camera anchor"),.02),ot(4096)]),u=[t(n,[...L(n,[1,.5,0,1],.7),E([1,.5,0],[0,.707,0,.707],[.3,.3,.3]),Y(1.5,0)]),t(n,[...L(n,[1,.5,0,1],.8),E([.3,.5,-.5],[0,.707,0,.707],[.3,.3,.3]),Y(1.6,0)]),t(n,[...L(n,[1,.5,0,1],.9),E([-.2,.5,.3],[0,.707,0,.707],[.3,.3,.3]),Y(1.7,0)])];var m,h;t(n,[(m=()=>n.Vn===st,h=()=>{k(n.o,f),t(n,[b([r(1,(()=>{n.o.i[c]|=4096}))],[r(5,(()=>{for(let t of u)q([0,0,1],null,"jump")(n,t),it(7)(n,t)}))],[r(6,(()=>{k(n.o,s);let o=n.o.v[c];o._=e(n.o,"camera anchor",a+1),o.p=.05,t(n,[...X(n),E([-20,5,0])])}))],[r(8,(()=>{n.o.i[l]|=128}))])])},(t,n)=>{t.o.i[n]|=524288,t.o.R[n]={A:0,zn:m,F:h}})])}function Et(t){return[b([E([0,1,0],void 0,[3,2,3]),V(32768),z(t.yn,t.Fn,[.41,0,0,1])],[E([0,2,.9],[.71,0,0,.71],[3,1.2,2.99]),V(32768),z(t.yn,t.wn,[.41,0,0,1])],[E([-1.5,1,-1.5],void 0,[.1,2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-1.5,1,1.5],void 0,[.1,2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([1.5,1,-1.5],void 0,[.1,2,.1]),V(32768),z(t.yn,t.Fn,[1,1,1,1])],[E([1.5,1,1.5],void 0,[.1,2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,2,1.49],void 0,[3.1,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,2,-1.5],void 0,[3.1,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([1.5,2,0],[0,.71,0,.71],[3.1,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-1.5,2,0],[0,.71,0,.71],[3.1,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-1.28,2.52,1.49],[0,0,.55,.84],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-1.28,2.52,-1.49],[0,0,.55,.84],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([1.27,2.52,1.49],[0,0,-.55,.84],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([1.27,2.52,-1.52],[0,0,-.55,.84],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([.51,3.27,-1.52],[0,0,-.19,.98],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([.51,3.27,1.53],[0,0,-.19,.98],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-.52,3.27,1.53],[0,0,.19,.98],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-.52,3.27,-1.52],[0,0,.19,.98],[1.16,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,1.5,1.6],void 0,[1.8,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([.85,.7,1.6],[0,0,-.71,.71],[1.5,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-.85,.7,1.6],[0,0,-.71,.71],[1.5,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,.7,1.59],[0,0,-.38,.92],[2.2,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,.7,1.58],[0,0,.38,.92],[2.2,.1,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([-1.25,2.52,-.01],[0,0,.55,.84],[1.16,.1,2.99]),V(32768),z(t.yn,t.Fn,[.07,.07,.07,1])],[E([1.24,2.52,-.01],[0,0,-.55,.84],[1.16,.1,2.99]),V(32768),z(t.yn,t.Fn,[.07,.07,.07,1])],[E([.51,3.24,-.01],[0,0,-.19,.98],[1.16,.1,2.99]),V(32768),z(t.yn,t.Fn,[.07,.07,.07,1])],[E([-.51,3.24,-.01],[0,0,.19,.98],[1.16,.1,2.99]),V(32768),z(t.yn,t.Fn,[.07,.07,.07,1])])]}function Kt(t){return[b([E([0,.6,0],void 0,[.1,1.2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,1.21,.5],[.71,0,0,.71],[.1,2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,.6,1],void 0,[.1,1.2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,.8,.5],[.71,0,0,.71],[.1,2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])],[E([0,.4,.5],[.71,0,0,.71],[.1,2,.1]),V(32768),z(t.yn,t.Fn,[.8,.8,.8,1])])]}function Ct(t){return[b([E([0,3,0],void 0,[2.5,6,2.5]),V(32768),z(t.yn,t.wn,[.41,0,0,1])],[E([0,0,0],void 0,[2.6,.2,2.6]),V(32768),z(t.yn,t.wn,[.8,.8,.8,1])],[E([0,6,0],void 0,[2.6,.2,2.6]),V(32768),z(t.yn,t.wn,[.8,.8,.8,1])],[E([0,3,0],void 0,[2.6,.2,2.6]),V(32768),z(t.yn,t.wn,[.8,.8,.8,1])],[E([0,1.5,0],void 0,[2.6,.2,2.6]),V(32768),z(t.yn,t.wn,[.8,.8,.8,1])],[E([0,4.5,0],void 0,[2.6,.2,2.6]),V(32768),z(t.yn,t.wn,[.8,.8,.8,1])],[E([.53,3,1.6],void 0,[.4,6,.4]),V(32768),z(t.yn,t.wn,[.8,.8,.8,1])])]}function Pt(t){return[b([E(),..._t(t)],[E([0,4,0],void 0,[.5,8,.5]),O(!1,34,0),J(0)])]}function St(t){return[b([E(),...Et(t)],[E([0,1,0],void 0,[3,2,3]),O(!1,34,0),J(0)])]}function Bt(t){return[b([E(),...Kt(t)],[E([0,.7,.5],void 0,[.1,1.2,2]),O(!1,34,0),J(0)])]}function Nt(n){n.o=new oo,n.Nn=!0,Q(n,[0,.774,0]),function(n){t(n,[E([5.4,-.5,.96],[0,.71,0,.71],[4,2,15]),...ht(n)]),t(n,[E([19.35,-2.5,.96],[0,.71,0,.71],[4,2,14]),...ht(n)]),t(n,[E([65.3,-.5,.96],[0,.71,0,.71],[4,2,81.11]),...ht(n)]),t(n,[E([56.93,-1.5,-6.04],[0,.71,0,.71],[10,4,120]),...ht(n)]),t(n,[E([32.71,.39,-4.35]),...vt(n)]),t(n,[E([1.39,.5,-5.42],[0,.56,0,.83],[2,2,2]),...Et(n)]),t(n,[E([-.95,.5,2.69],[0,.71,0,.71]),...Kt(n)]),t(n,[E([1.05,.5,2.69],[0,.71,0,.71]),...Kt(n)]),t(n,[E([2.52,-.05,2.69],[.19,.68,-.19,.68]),...Kt(n)]),t(n,[E([7.95,.5,-5.44],[0,.17,0,.98]),...Ct(n)]),t(n,[E([8.46,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([10.46,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([12.46,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([14.46,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([16.46,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([19.23,.5,-6.94],void 0,[.8,.8,.8]),...Et(n)]),t(n,[E([18.46,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([18.12,.55,-5.59]),...vt(n)]),t(n,[E([13.63,-.54,-1.59],void 0,[2,2,2]),...vt(n)]),t(n,[E([24.62,.36,-5.02],[0,.95,0,.31]),..._t(n)]),t(n,[E([62.05,.5,-7.33],[0,.17,0,.98],[.6,.6,.6]),...Ct(n)]),t(n,[E([64.08,.5,-7.33],[0,.17,0,.98],[.6,.6,.6]),...Ct(n)]),t(n,[E([66.14,.5,-7.33],[0,.17,0,.98],[.6,.6,.6]),...Ct(n)]),t(n,[E([62.6,.58,-7]),...vt(n)]),t(n,[E([66.02,3.59,-7.08]),...vt(n)]),t(n,[E([70.27,.36,-8.29],[0,.95,0,.31],[.7,.7,.7]),..._t(n)]),t(n,[E([71.83,.5,-7.63],[0,-.44,0,.9],[.8,.8,.8]),...Et(n)]),t(n,[E([74.69,.5,-3.81],[0,.82,0,.58],[.5,.5,.5]),...Kt(n)]),t(n,[E([11.78,.9,-6.81],[.68,.19,-.19,.68],[.4,.4,.4]),...gt(n)]),t(n,[E([11.41,.61,-5.83]),...vt(n)]),t(n,[E([73.83,.5,-3.49],[0,.82,0,.58],[.5,.5,.5]),...Kt(n)]),t(n,[E([72.94,.5,-3.3],[0,.74,0,.67],[.5,.5,.5]),...Kt(n)]),t(n,[E([72.02,.5,-3.24],[0,.72,0,.69],[.5,.5,.5]),...Kt(n)]),t(n,[E([71.07,.5,-3.19],[0,.72,0,.69],[.5,.5,.5]),...Kt(n)]),t(n,[E([70.14,.5,-3.3],[0,.6,0,.8],[.5,.5,.5]),...Kt(n)]),t(n,[E([69.34,.5,-3.74],[0,.41,0,.91],[.5,.5,.5]),...Kt(n)]),t(n,[E([67.36,.5,-5.59],[0,.41,0,.91],[.5,.5,.5]),...Kt(n)]),t(n,[E([66.55,.5,-5.93],[0,.68,0,.74],[.5,.5,.5]),...Kt(n)]),t(n,[E([65.62,.5,-6.02],[0,.68,0,.74],[.5,.5,.5]),...Kt(n)]),t(n,[E([64.69,.5,-6.02],[0,.74,0,.67],[.5,.5,.5]),...Kt(n)]),t(n,[E([63.79,.5,-5.93],[0,.74,0,.67],[.5,.5,.5]),...Kt(n)]),t(n,[E([68.03,.5,-4.98],[0,.41,0,.91],[.5,.5,.5]),...Kt(n)]),t(n,[E([62.88,.5,-5.92],[0,.68,0,.74],[.5,.5,.5]),...Kt(n)]),t(n,[E([61.96,.5,-5.92],[0,.74,0,.67],[.5,.5,.5]),...Kt(n)]),t(n,[E([61.12,.5,-6.12],[0,.48,0,.88],[.5,.5,.5]),...Kt(n)]),t(n,[E([60.44,.5,-6.74],[0,.33,0,.94],[.5,.5,.5]),...Kt(n)]),t(n,[E([60.09,.5,-7.58],[0,.05,0,1],[.5,.5,.5]),...Kt(n)]),t(n,[E([60.01,.5,-8.53],[0,.05,0,1],[.5,.5,.5]),...Kt(n)]),t(n,[E([68.41,.29,-4.19],[.15,.38,-.33,.85],[.5,.5,.5]),...Kt(n)]),t(n,[E([29.08,.33,-4.94]),...vt(n)]),t(n,[E([2.72,.61,2.53]),...vt(n)]),t(n,[E([25.37,.23,0],[-.67,.67,.22,.22],[.75,.75,.75]),...Pt(n)]),t(n,[E([23.23,-.71,.06]),...Tt(n)]),t(n,[E([25.09,.4,2.79]),...bt(n)]),t(n,[E([9.21,.61,2.53]),...vt(n)]),t(n,[E([15.13,-1.48,1.53],[.5,.5,.5,.5]),...Kt(n)]),t(n,[E([15.27,-1.92,2.4]),...vt(n)]),t(n,[E([24.97,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([26.97,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([28.97,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([31.74,.5,-6.94],void 0,[.8,.8,.8]),...Et(n)]),t(n,[E([30.97,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([38.09,.36,-7.73],[0,.95,0,.31]),..._t(n)]),t(n,[E([21,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([23,.5,-7.56],[0,.71,0,.71]),...Kt(n)]),t(n,[E([15.64,-.54,-1.63],void 0,[2,2,2]),...vt(n)]),t(n,[E([17.73,-.54,-1.47],void 0,[2,2,2]),...vt(n)]),t(n,[E([19.82,-.54,-1.78],void 0,[2,2,2]),...vt(n)]),t(n,[E([21.79,-.54,-1.67],void 0,[2,2,2]),...vt(n)]),t(n,[E([23.69,-.54,-2.02],void 0,[2,2,2]),...vt(n)]),t(n,[E([44.79,.5,-.19],[0,.71,0,.71],[2,2,2]),...St(n)]),t(n,[E([41.23,3.45,.06]),...Tt(n)]),t(n,[E([41.23,1.08,.06]),...Tt(n)]),t(n,[E([41.23,2.27,.06]),...Tt(n)]),t(n,[E([41.23,4.62,0]),...Tt(n)]),t(n,[E([53.83,.36,-3.7],[0,.19,0,.98]),..._t(n)]),t(n,[E([59.06,.36,-10.05],[0,.56,0,.83]),..._t(n)]),t(n,[E([47.85,.33,2.41]),...vt(n)]),t(n,[E([54.83,.5,2.69],[0,.71,0,.71]),...Kt(n)]),t(n,[E([56.83,.5,2.69],[0,.71,0,.71]),...Kt(n)]),t(n,[E([58.3,-.05,2.69],[.19,.68,-.19,.68]),...Kt(n)]),t(n,[E([58.51,.61,2.53]),...vt(n)]),t(n,[E([72.23,.5,-1.57],[0,.17,0,.98]),...Ct(n)]),t(n,[E([71.01,3,.32],[.71,.71,0,0],[2,2,2]),...Bt(n)]),t(n,[E([78.08,.72,-3.38],[-.32,.63,.63,-.32],[.75,.75,.75]),...Pt(n)]),t(n,[E([77,1.98,0]),...Tt(n)]),t(n,[E([72.16,4.57,.31]),...Tt(n)]),t(n,[E([77.58,.78,2.87]),...vt(n)]),t(n,[E([-1.91,.5,-.22]),...Bt(n)]),t(n,[E([-1.91,.5,1.82]),...Bt(n)]),t(n,[E([84.66,.36,-2.18],[0,.95,0,.31]),..._t(n)]),t(n,[E([90.59,.5,-6.21],[0,.71,0,.71]),...Kt(n)]),t(n,[E([92.59,.5,-6.21],[0,.71,0,.71]),...Kt(n)]),t(n,[E([95.37,.5,-5.59],void 0,[.8,.8,.8]),...Et(n)]),t(n,[E([94.59,.5,-6.21],[0,.71,0,.71]),...Kt(n)]),t(n,[E([89.69,.5,-5.27],[0,1,0,0]),...Kt(n)]),t(n,[E([89.7,.5,-3.44],[0,1,0,0]),...Kt(n)]),t(n,[E([89.71,.5,-1.64],[0,1,0,0]),...Kt(n)]),t(n,[E([89.73,.5,.15],[0,1,0,0]),...Bt(n)]),t(n,[E([89.73,.5,2.07],[0,1,0,0]),...Kt(n)]),t(n,[E([89.69,1.64,-5.27],[0,1,0,0]),...Kt(n)]),t(n,[E([89.7,1.64,-3.44],[0,1,0,0]),...Kt(n)]),t(n,[E([89.71,1.64,-1.64],[0,1,0,0]),...Kt(n)]),t(n,[E([89.73,1.64,.15],[0,1,0,0]),...Bt(n)]),t(n,[E([89.73,1.64,2.07],[0,1,0,0]),...Kt(n)]),t(n,[E([95,.5,0]),...At()]),t(n,[E([95,.5,0],[0,-.71,0,.71]),...Rt(n)]),t(n,[...ut(),E()]),t(n,[...mt(n),E()])}(n),t(n,[...X(n),E([-20,5,0])]),t(n,[...C(0,[1,208/255,0,1]),E([0,10,10]),o(e(n.o,"camera anchor"),.05)])}function Vt(t){return[V(32768),z(t.yn,t.wn,[.8,.2,.2,1])]}function zt(t){return[b([E(),...Vt(t)],[E(void 0,void 0,[.5,1,.25]),O(!1,34,0),J(0)])]}function Wt(t){return[o(0),ot(4096),J(1),O(!0,36,6,[6,.5,.5]),b([E([0,0,0],x([0,0,0,1],0,0,90),[.5,6,.5]),...Vt(t)])]}function Dt(t){return[i("launchpad"),q([0,1,0],null),ot(64),Y(5,0),b([E(),U(.01),ot(131072),b([E([0,-30,0],void 0,[3,3,3]),...et(t)],[E([0,-30,0],[.707,0,0,.707]),b([E(),U(.1),j(2,.01,5),D([1,1,1,1],200,[1,.5,0,1],500)])])])]}function Lt(n){n.o=new oo,n.Nn=!0,Q(n,[0,-2,0]),function(n){t(n,[E([3.7,-4.7,1.4],[0,.71,0,.71],[4,2,20]),...ht(n)]),t(n,[E([33.68,-2.25,1.4],[0,.71,0,.71],[4,5,40]),...ht(n)]),t(n,[E([46.76,-1.75,-5.6],[0,.71,0,.71],[10,4,105]),...ht(n)]),t(n,[E([-3.75,-1.04,-.37],void 0,[3,3,3]),...vt(n)]),t(n,[E([10.41,.55,-1.96]),...vt(n)]),t(n,[E([-3.89,-3.87,2.38],void 0,[20,4,20]),...bt(n)]),t(n,[E([37.64,.19,-1.22],void 0,[7.5,3,7.5]),...bt(n)]),t(n,[E([41.67,-.32,-1.58],void 0,[10,4,10]),...bt(n)]),t(n,[E([46.72,-.09,-1.53],void 0,[10,8,10]),...bt(n)]),t(n,[E([-3.79,-1.96,0],[0,.71,0,.71],[1.5,6.14,2]),...ht(n)]),t(n,[E([-.54,-.87,-2.02],void 0,[3,3,3]),...vt(n)]),t(n,[E([12.27,-.44,-1.1],void 0,[3,3,3]),...vt(n)]),t(n,[E([10.12,-1.19,-.7],[.7,-.07,.07,.7],[.5,4,.5]),...zt(n)]),t(n,[E([12.82,-2.88,.16],void 0,[1.3,1.3,1.3]),...Tt(n)]),t(n,[E([11.49,-.09,-.65],[.7,.06,-.06,.7],[.5,4,.5]),...zt(n)]),t(n,[E([19.14,-.33,2],void 0,[20,4,20]),...bt(n)]),t(n,[E([44.07,1.01,0],void 0,[1.3,1.3,1.3]),...Tt(n)]),t(n,[E([34.71,-.33,-1.75],void 0,[10,4,10]),...bt(n)]),t(n,[E([34.04,2.19,.62],[.71,-.05,.05,.71],[.5,4,.5]),...zt(n)]),t(n,[E([35.14,2.92,.01],[.71,.01,-.01,.71],[.5,2,.5]),...zt(n)]),t(n,[E([37.71,4.1,.04],[.5,.5,-.5,.5],[.5,4,.5]),...zt(n)]),t(n,[E([41.55,5.42,-.25],[.5,.5,-.5,.5],[.5,4,.5]),...zt(n)]),t(n,[E([38.85,.58,.01],void 0,[2.44,1,2.54]),...vt(n)]),t(n,[E([49.57,.58,2.4],void 0,[2.44,1,2.54]),...vt(n)]),t(n,[E([61.49,.58,-1.74],void 0,[2.44,1,2.54]),...vt(n)]),t(n,[E([46.82,6.49,0],[.5,.5,-.5,.5],[.5,6,.5]),...zt(n)]),t(n,[E([92.21,-2.5,1.4],[0,.71,0,.71],[4,5,57]),...ht(n)]),t(n,[E([48.27,7.05,0]),...Wt(n)]),t(n,[E([58.57,-3.26,1.4],[0,.71,0,.71],[4,2,10]),...ht(n)]),t(n,[E([55.29,-1.16,-1.7],void 0,[3,3,3]),...vt(n)]),t(n,[E([58.35,-1.41,-1.99],void 0,[3,3,3]),...vt(n)]),t(n,[E([59.94,.7,1.77],[0,.66,0,.75]),...Wt(n)]),t(n,[E([62.77,.65,1.65],[0,.67,0,.74]),...Wt(n)]),t(n,[E([58.43,.7,1.77],[0,.71,0,.71]),...Wt(n)]),t(n,[E([61.14,.68,1.68],[0,.72,0,.69]),...Wt(n)]),t(n,[E([54.12,-1.49,0],[.71,.01,-.01,.71],[.5,2,.5]),...zt(n)]),t(n,[E([55.64,-.76,.49],[.7,.07,-.07,.7],[.5,2,.5]),...zt(n)]),t(n,[E([120.2,0,0]),i("exit"),O(!1,2,1,[1,100,1]),xt(1,3)]),t(n,[E([122.6,.2,0],[0,.71,0,-.71]),...Dt(n)]);{let o=105,i=9,e=48,r=-6,a=e-~~(o/2),l=e+~~(o/2),s=r-~~(i/2),f=r+~~(i/2),c=~~(.6*o);for(let o=0;o<c;o++)t(n,[E([tt(a,l),0,tt(s,f)],void 0,[8,4,8]),...bt(n)])}t(n,[E([95.2,0,0]),...At()]),t(n,[E([95.2,0,0],[0,-.71,0,.71]),...Rt(n)]),t(n,[...ut(),E()]),t(n,[...mt(n),E()])}(n),t(n,[...C(0,[.4,.6,.4,1]),E([0,10,10]),o(e(n.o,"camera anchor"),.05)])}function jt(i,a,l){switch(a){case 1:i.Wn=4096,i.Vn=st;break;case 2:{let[a]=l;switch(i.o.i[a]&=-2097153,i.Dn){case kt:case Nt:t(i,[r(2,(()=>{requestAnimationFrame((()=>{i.Dn(i),i.Vn=st}))}))])}switch(i.Dn){case kt:i.Dn=Nt;break;case Nt:i.Dn=Lt}let s=e(i.o,"pup");o(e(i.o,"pup anchor "+i._n),.2)(i,s);let f=i.o.L[s].L[0];n(4)(i,f),i._n++;break}case 3:{let[n]=l;i.o.i[n]&=-2097153;for(let t=0;t<i.o.i.length;t++)i.o.i[t]&=-129;let o=e(i.o,"launchpad");i.o.i[o]|=64,i.o.i[i.o.L[o].L[0]]|=131072,t(i,[r(2,(()=>{i.Vn=ft}))]);break}}}function Ht(t,n,o,i){return t.bindTexture(Ln,n),t.texImage2D(Ln,0,32856,o,i,0,6408,5121,null),t.texParameteri(Ln,10241,Dn),t.texParameteri(Ln,10240,Dn),n}function Ut(t,n,o,i){return t.bindTexture(Ln,n),t.texImage2D(Ln,0,33190,o,i,0,6402,5125,null),t.texParameteri(Ln,10241,Dn),t.texParameteri(Ln,10240,Dn),t.texParameteri(Ln,34892,34894),t.texParameteri(Ln,10242,33071),t.texParameteri(Ln,10243,33071),n}function Xt(t,n,o){let i={Ln:t.createFramebuffer(),jn:n,Hn:o,Un:Ht(t,t.createTexture(),n,o),Xn:Ut(t,t.createTexture(),n,o)};t.bindFramebuffer(jn,i.Ln),t.framebufferTexture2D(jn,36096,Ln,i.Xn,0),t.framebufferTexture2D(jn,36064,Ln,i.Un,0);let e=t.checkFramebufferStatus(jn);if(36053!=e)throw Error(`Failed to set up the framebuffer (${e}).`);return i}function Gt(t,n,o){let i=t.createProgram();if(t.attachShader(i,$t(t,35633,n)),t.attachShader(i,$t(t,35632,o)),t.linkProgram(i),!t.getProgramParameter(i,35714))throw Error(t.getProgramInfoLog(i));return i}function $t(t,n,o){let i=t.createShader(n);if(t.shaderSource(i,o),t.compileShader(i),!t.getShaderParameter(i,35713))throw Error(t.getShaderInfoLog(i));return i}function Ot(t,n,o){let i=t.o.H[n],e=t.o.nt[n];if(e.Bn){let t=e.ot[e.Bn];t&&t!==e.it&&(0===e.it.tt?e.it=t:1&e.it.u&&(e.it.tt=0,e.it=t)),e.Bn=void 0}let r=null,a=null;for(let t of e.it.Y){if(e.it.tt<t.J){a=t;break}r=t}if(r&&a){let t=(e.it.tt-r.J)/(a.J-r.J);a.Ct&&(t=a.Ct(t)),r.X&&a.X&&(w(i.X,r.X,a.X,t),i.O=!0),r.G&&a.G&&(A(i.G,r.G,a.G,t),i.O=!0)}else r&&(r.X&&(h(i.X,r.X),i.O=!0),r.G&&(function(t,n){t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3]}(i.G,r.G),i.O=!0));let l=e.it.tt+o;if(l<e.it.Z)e.it.tt=l;else{if(e.it.tt=0,4&e.it.u)for(let t of e.it.Y.reverse())t.J=e.it.Z-t.J;2&e.it.u||(e.it=e.ot.idle)}}function qt(t,n,o,i){let e,r,a=t.currentTime+i,l=0,s=t.createGain();if(s.gain.value=(n[0]/9)**3,n[5]&&(r=t.createOscillator(),r.type=n[5],r.frequency.value=(n[7]/3)**3,e=t.createGain(),e.gain.value=(n[6]+3)**3,r.connect(e)),n[1]){let o=t.createBiquadFilter();o.type=n[1],o.frequency.value=2**n[2],o.Q.value=n[3]**1.5,e&&n[4]&&e.connect(o.detune),s.connect(o),o.connect(t.destination)}else s.connect(t.destination);for(let i of n[8]){let n=t.createGain();n.connect(s);let r=(i[1]/9)**3,f=(i[2]/9)**3,c=(i[3]/9)**3,u=f+c+(i[4]/6)**3;if(n.gain.setValueAtTime(0,a),n.gain.linearRampToValueAtTime(r,a+f),n.gain.setValueAtTime(r,a+f+c),n.gain.exponentialRampToValueAtTime(1e-5,a+u),i[0]){let r=t.createOscillator();r.type=i[0],r.connect(n),r.detune.value=3*(i[5]-7.5)**3,e&&i[6]&&e.connect(r.detune);let l=440*2**((o-69)/12);if(i[7]){let t=(i[8]/9)**3,n=(i[9]/9)**3,o=(i[10]/6)**3;r.frequency.linearRampToValueAtTime(0,a),r.frequency.linearRampToValueAtTime(l,a+t),r.frequency.setValueAtTime(l,a+t+n),r.frequency.exponentialRampToValueAtTime(1e-5,a+t+n+o)}else r.frequency.setValueAtTime(l,a);r.start(a),r.stop(a+u)}else{let o=t.createBufferSource();o.buffer=Yt(t),o.loop=!0,o.connect(n),o.start(a),o.stop(a+u)}u>l&&(l=u)}r&&(r.start(a),r.stop(a+l))}function Yt(t){if(!Ko){Ko=t.createBuffer(1,2*t.sampleRate,t.sampleRate);let n=Ko.getChannelData(0);for(let t=0;t<n.length;t++)n[t]=2*Math.random()-1}return Ko}function Jt(t,n,o){let i=t.o.Ht[n];i.it&&(i.tt+=o,i.tt>i.it.Gn&&(i.it=void 0)),i.Bn&&!i.it&&(function(t,n){let o=60/(n.$n||120)/4;for(let i of n.On)for(let n=0;n<i.qn.length;n++)i.qn[n]&&qt(t,i.Yn,i.qn[n],n*o)}(t.Audio,i.Bn),i.it=i.Bn,i.tt=0),i.Bn=i.Ut}function Qt(t,n){n>1?(c(t.k,t.K,n,t.C,t.P),l(t.S,t.k)):(c(t.k,t.K/n,n,t.C,t.P),l(t.S,t.k))}function Zt(t){!function(t,n,o,i,e,r,a){let l=1/(e-o),s=1/(i-n),f=1/(r-a);t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+o)*l,t[13]=(n+i)*s,t[14]=(a+r)*f,t[15]=1}(t.k,t.D,t.D,-t.D,-t.D,t.C,t.P),l(t.S,t.k)}function tn(t,n){let o,i,e,r,a,l;u(n.Qt,t),o=r=n.Qt[0],i=a=n.Qt[1],e=l=n.Qt[2];let s=[0,0,0];for(let f=0;f<8;f++){let c=Po[f];s[0]=c[0]*n.kt[0],s[1]=c[1]*n.kt[1],s[2]=c[2]*n.kt[2],y(s,s,t),s[0]<o&&(o=s[0]),s[0]>r&&(r=s[0]),s[1]<i&&(i=s[1]),s[1]>a&&(a=s[1]),s[2]<e&&(e=s[2]),s[2]>l&&(l=s[2])}n.Yt=[o,i,e],n.Jt=[r,a,l],n.Zt[0]=(r-o)/2,n.Zt[1]=(a-i)/2,n.Zt[2]=(l-e)/2}function nn(t,n){let o=t.Qt[0]-n.Qt[0],i=t.Zt[0]+n.Zt[0]-Math.abs(o),e=t.Qt[1]-n.Qt[1],r=t.Zt[1]+n.Zt[1]-Math.abs(e),a=t.Qt[2]-n.Qt[2],l=t.Zt[2]+n.Zt[2]-Math.abs(a);return i<r&&i<l?[i*Math.sign(o),0,0]:r<l?[0,r*Math.sign(e),0]:[0,0,l*Math.sign(a)]}function on(t,n){return t.Yt[0]<n.Jt[0]&&t.Jt[0]>n.Yt[0]&&t.Yt[1]<n.Jt[1]&&t.Jt[1]>n.Yt[1]&&t.Yt[2]<n.Jt[2]&&t.Jt[2]>n.Yt[2]}function en(t,n,o){for(let i=0;i<o;i++){let o=n[i],e=t.i&o.qt,r=o.i&t.qt;if((e||r)&&on(t,o)){let n=nn(t,o);e&&t.tn.push({Jn:o.Gt,Qn:n}),r&&o.tn.push({Jn:t.Gt,Qn:_([0,0,0],n)})}}}function rn(t,n){let o=t.o.nn[n],i=t.o.rn[n];if(o.on&&i.sn.push(o.on.slice()),o.G&&i.fn.push(o.G.slice()),o.en)for(let i of I(t.o,n,1))t.o.nt[i].Bn=o.en}function an(t,n){let o=t.o.l[n];if(1&o.u){let o=t.o.rn[n],i=t.o.Xt[n],e=t.o.Ht[n],r=t.o.cn[n],a=!1;if(t.Zn.ArrowLeft&&(o.sn.push([-1,0,0]),a=!0),t.Zn.ArrowRight&&(o.sn.push([1,0,0]),a=!0),a&&i.tn.length>0){let n=t.o.Xt[i.tn[0].Jn].qt;16&n?e.Bn=No:32&n?e.Bn=Vo:64&n&&(e.Bn=zo)}r.vn||t.Zn.ArrowUp&&(r.mn[1]+=500)}if(2&o.u){let i=t.o.H[n];o.h||(t.Zn.ArrowLeft&&o.m&&(o.m=!1,T(i.G,0,-.707,0,.707),i.O=!0),t.Zn.ArrowRight&&!o.m&&(o.m=!0,T(i.G,0,.707,0,.707),i.O=!0))}if(8&o.u){let i=t.o.Xt[n];if(t.Zn.Space&&!o.h&&i.tn.length>0){let o=i.tn[0].Jn,e=t.o.v[o];for(let i of K(t.o,n,128))t.o.l[i].h=o;t.o.i[o]|=4096,e._=n}if(-1===t.no.Space&&o.h){t.o.i[o.h]&=-4097;for(let o of K(t.o,n,128))t.o.l[o].h=null}}if(4&o.u){let o;(t.Zn.ArrowLeft||t.Zn.ArrowRight)&&(o="walk");let i=t.o.H[n].q;if(void 0!==i){let n=t.o.H[t.o.v[i]._].q;void 0!==n&&t.o.cn[n].vn&&(o="jump")}if(o)for(let i of I(t.o,n,1))t.o.nt[i].Bn=o}}function ln(t,n,o,i){let e=t.o.l[n];if(1&e.u){let e=t.o.rn[n];Math.abs(o)>.01&&e.sn.push([(r=o,Math.max(-1,Math.min(1,r))),0,0]);let a=t.o.cn[n];a.vn||Math.abs(i)>.5&&(a.mn[1]+=500)}var r;if(2&e.u){let i=t.o.H[n];e.h||(o<0&&e.m&&(e.m=!1,T(i.G,0,-.707,0,.707),i.O=!0),o>0&&!e.m&&(e.m=!0,T(i.G,0,.707,0,.707),i.O=!0))}if(8&e.u){let o=t.o.Xt[n];if(1===t.no.Touch0&&Do<.2&&!e.h&&o.tn.length>0){let i=o.tn[0].Jn;for(let o of K(t.o,n,128))t.o.l[o].h=i;t.o.i[i]|=4096,t.o.v[i]._=n}if(-1===t.no.Touch0&&e.h){t.o.i[e.h]&=-4097;for(let o of K(t.o,n,128))t.o.l[o].h=null}}if(4&e.u&&0!==o)for(let o of I(t.o,n,1))t.o.nt[o].Bn="walk"}function sn(t,n,o){let i=t.o.lt[n];Math.abs(t.o.H[n].o[12]-o)>15?t.o.i[n]&=~i.st:t.o.i[n]|=i.st}function fn(t,n,o){let i=t.o.St[n];i.M-=o,i.M<0&&(i.gn&&jt(t,i.gn,n),k(t.o,n))}function cn(t,n,o){let i=t.o.Wt[n];u(Ho,t.o.H[n].o),i.Dt<1&&p(Ho,Ho),t.oo[4*o+0]=Ho[0],t.oo[4*o+1]=Ho[1],t.oo[4*o+2]=Ho[2],t.oo[4*o+3]=i.Dt}function un(t,n,o){let i=t.o.H[n],e=t.o.rn[n];if(e.sn.length){let t=e.sn.reduce(mn),n=Math.min(1,function(t){return Math.hypot(t[0],t[1],t[2])}(t));!function(t,n,o){!function(t,n,o){t[0]=n[0]-o[0],t[1]=n[1]-o[1],t[2]=n[2]-o[2]}(t,y([0,0,0],n,o),u([0,0,0],o))}(t,t,i.o),p(t,t),v(t,t,n*e.an*o),d(i.X,i.X,t),i.O=!0,e.sn=[]}if(e.fn.length){let t=e.fn.reduce(hn);A(t,Go,t,Math.min(1,e.ln/Math.PI*o)),R(i.G,t,i.G),i.O=!0,e.fn=[]}}function mn(t,n){return d(t,t,n)}function hn(t,n){return R(t,t,n)}function dn(t,n,o){let i=t.o.Pt[n],e=t.o.H[n];var r,a;i.zt+=o,i.zt>i.Bt&&(i.zt=0,u(Oo,e.o),(r=qo)[0]=(a=e.o)[8],r[1]=a[9],r[2]=a[10],p(r,r),i.Vt.push(...Oo,0),i.Vt.push(...qo,Math.random()));for(let t=0;t<i.Vt.length;)i.Vt[t+3]+=o,i.Vt[t+3]>i.St?i.Vt.splice(t,8):t+=8}function vn(t,n,o){let i=t.o.H[n],e=t.o.cn[n];if(1===e.A){h(e.hn,e.dn),v(e.mn,e.mn,o),d(e.hn,e.hn,e.mn),e.hn[1]+=-20*o;let t=[0,0,0];v(t,e.hn,o),d(i.X,i.X,t),i.O=!0,(r=e.mn)[0]=0,r[1]=0,r[2]=0}var r}function _n(t,n){let o=t.o.H[n],i=t.o.Xt[n],e=t.o.cn[n];if(1===e.A){let n=!1;for(let r=0;r<i.tn.length;r++){let a=i.tn[r];if(65536&t.o.i[a.Jn]){n=!0,d(o.X,o.X,a.Qn),o.O=!0;let i=t.o.cn[a.Jn];switch(i.A){case 0:p(Qo,a.Qn),v(Qo,Qo,-2*g(e.hn,Qo)),d(e.dn,e.hn,Qo);break;case 1:h(e.dn,i.hn)}v(e.dn,e.dn,e.un),a.Qn[1]>0&&e.dn[1]<1&&(e.dn[1]=0,e.vn=!1)}}n||(h(e.dn,e.hn),e.vn=!0)}}function pn(t,n){let o=t.o.R[n];o.F&&o.F(n),t.o.i[n]&=-524289,0===t.o.i[n]&&t.o.j(n),delete t.o.R[n]}function gn(t,n){t.ft.bindFramebuffer(jn,null),t.ft.viewport(0,0,t.io,t.eo),t.ft.clearColor(...n.W),t.ft.clear(16640),wn(t,n)}function yn(t,n){t.ft.bindFramebuffer(jn,n._.Ln),t.ft.viewport(0,0,n._.jn,n._.Hn),t.ft.clearColor(...n.W),t.ft.clear(16640),wn(t,n)}function wn(t,n){let o=null;for(let i=0;i<t.o.i.length;i++)if((t.o.i[i]&ti)===ti){let e=t.o.H[i],r=t.o.gt[i];if(r.yt!==o)switch(o=r.yt,r.A){case 0:Tn(t,r.yt,n);break;case 1:xn(t,r.yt,n);break;case 2:Mn(t,r.yt,n);break;case 3:bn(t,r.yt,n);break;case 4:kn(t,r.yt,n)}switch(r.A){case 0:Rn(t,e,r);break;case 1:An(t,e,r);break;case 2:Fn(t,i,0,r);break;case 3:{let n=t.o.Pt[i];n.Vt.length&&In(t,r,n);break}case 4:En(t,e,r)}}}function Tn(t,n,o){t.ft.enable(Wn),t.ft.useProgram(n.ro),t.ft.uniformMatrix4fv(n.ht.N,!1,o.N)}function Rn(t,n,o){t.ft.uniformMatrix4fv(o.yt.ht.o,!1,n.o),t.ft.uniform4fv(o.yt.ht.ao,o.ao),t.ft.bindVertexArray(o.Tt),t.ft.drawElements(o.yt.lo,o.wt.so,Hn,0),t.ft.bindVertexArray(null)}function xn(t,n,o){if(t.ft.enable(Wn),t.ft.useProgram(n.ro),t.ft.uniformMatrix4fv(n.ht.N,!1,o.N),t.ft.uniform3fv(n.ht.fo,o.V),t.ft.uniform4fv(n.ht.oo,t.oo),t.ft.uniform4fv(n.ht.co,o.W),3===o.A)t.ft.activeTexture(33984),t.ft.bindTexture(Ln,t.Mn.uo.Xn),t.ft.uniform1i(n.ht.mo,0);else{t.ft.activeTexture(33984),t.ft.bindTexture(Ln,t.Mn.An.Xn),t.ft.uniform1i(n.ht.mo,0);let o=ct(t.o,2056);o&&t.ft.uniformMatrix4fv(n.ht.ho,!1,t.o.I[o].N)}}function An(t,n,o){t.ft.uniformMatrix4fv(o.yt.ht.o,!1,n.o),t.ft.uniformMatrix4fv(o.yt.ht.U,!1,n.U),t.ft.uniform4fv(o.yt.ht.Rt,o.Rt),t.ft.bindVertexArray(o.Tt),t.ft.drawElements(o.yt.lo,o.wt.so,Hn,0),t.ft.bindVertexArray(null)}function Mn(t,n,o){t.ft.enable(Wn),t.ft.useProgram(n.ro),t.ft.uniformMatrix4fv(n.ht.N,!1,o.N),t.ft.uniform3fv(n.ht.fo,o.V),t.ft.uniform4fv(n.ht.oo,t.oo),t.ft.uniform4fv(n.ht.co,o.W)}function Fn(t,n,o,i){t.ft.uniform4fv(i.yt.ht.Rt,i.Rt);let e=[];if(16&t.o.i[n])for(let o of I(t.o,n,1048580))e.push(o);else{let o=n;for(let n=0;n<4;n++){let n=ct(t.o,1048580,o);n&&(e.push(n),o=n+1)}}for(let n of e){let o=t.o.H[n],i=t.o.et[n];s(ni.subarray(16*i.rt),o.o,i.at)}t.ft.uniformMatrix4fv(i.yt.ht.do,!1,ni),t.ft.bindVertexArray(i.Tt),t.ft.drawElements(i.yt.lo,i.wt.so,Hn,0),t.ft.bindVertexArray(null)}function bn(t,n,o){t.ft.enable(Wn),t.ft.useProgram(n.ro),t.ft.uniformMatrix4fv(n.ht.N,!1,o.N)}function In(t,n,o){t.ft.uniform4fv(n.yt.ht.bt,n.bt),t.ft.uniform4fv(n.yt.ht.It,n.It),t.ft.uniform4f(n.yt.ht.vo,o.St,o.Nt,...n.kt);let i=Float32Array.from(o.Vt);t.ft.bindBuffer(Vn,n.Ft),t.ft.bufferSubData(Vn,0,i),t.ft.enableVertexAttribArray(n.yt.ht._o),t.ft.vertexAttribPointer(n.yt.ht._o,4,Un,!1,32,0),t.ft.enableVertexAttribArray(n.yt.ht.on),t.ft.vertexAttribPointer(n.yt.ht.on,3,Un,!1,32,16),t.ft.drawArrays(n.yt.lo,0,o.Vt.length/8)}function kn(t,n,o){t.ft.disable(Wn),t.ft.useProgram(n.ro),t.ft.uniformMatrix4fv(n.ht.N,!1,o.N),t.ft.uniform3fv(n.ht.fo,o.V),t.ft.uniform4fv(n.ht.co,o.W)}function En(t,n,o){t.ft.uniformMatrix4fv(o.yt.ht.o,!1,n.o),t.ft.bindVertexArray(o.Tt),t.ft.drawElementsInstanced(o.yt.lo,o.wt.so,Hn,0,Math.floor(o.Pn*(t.Wn/4096))),t.ft.bindVertexArray(null)}function Kn(t,n){let o=t.o.Lt[n],i=t.o.H[n];i.X=[Math.random()-.5,Math.random()-.5,Math.random()-.5],v(i.X,i.X,2*o.jt),i.O=!0}function Cn(n,o,i){let e=n.o.Tn[o],r=2048/n.Wn;if(e.zt+=i,e.zt>e.xn*r){e.zt=0;let i=n.o.H[o],r=[0,0,0];u(r,i.o);let a=[0,0,0,0];m(a,i.o),t(n,[...e.Rn(n),E(r,a)])}}function Pn(t,n){for(let n=0;n<t.o.i.length;n++)if((t.o.i[n]&ei)===ei){let o=t.o.H[n];o.O&&Sn(t.o,n,o)}}function Sn(t,n,o){if(o.O=!1,f(o.o,o.G,o.X,o.$),void 0!==o.q&&s(o.o,t.H[o.q].o,o.o),l(o.U,o.o),16&t.i[n]){let o=t.L[n];for(let i=0;i<o.L.length;i++){let e=o.L[i];if(1048576&t.i[e]){let o=t.H[e];o.q=n,Sn(t,e,o)}}}}function Bn(t,n){let o=t.o.Xt[n],i=t.o.Bn[n];for(let e of o.tn)i.st&t.o.Xt[e.Jn].qt&&jt(t,i.gn,[n,e.Jn])}const Nn=35044,Vn=34962,zn=34963,Wn=2884,Dn=9729,Ln=3553,jn=36160,Hn=5123,Un=5126,Xn=document.getElementById("update"),Gn=document.getElementById("delta"),$n=document.getElementById("fps"),On=1/60,qn=Math.PI/180,Yn=new WeakMap,Jn=new WeakMap,Qn=.2,Zn=.6;let to=1,no={On:[{Yn:[8,"lowpass",9,8,!1,!1,8,1,[[!1,8,5,0,9]]],qn:[77]}],Gn:.1};class oo extends class{constructor(){this.i=[],this.po=[]}t(){return this.po.length>0?this.po.pop():this.i.push(0)-1}j(t){this.i[t]=0,this.po.push(t)}}{constructor(){super(...arguments),this.nt=[],this.Ht=[],this.et=[],this.I=[],this.L=[],this.Xt=[],this.nn=[],this.l=[],this.lt=[],this.Pt=[],this.St=[],this.Wt=[],this.v=[],this.rn=[],this.g=[],this.gt=[],this.cn=[],this.Lt=[],this.Tn=[],this.R=[],this.H=[],this.Bn=[]}}const io=[[.1,.1,.1,1],[.2,.2,.2,1],[.3,.3,.3,1]],eo=[[.1,.1,.1,1],[.2,.2,.2,1]];let ro=Float32Array.from([-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5]),ao=Float32Array.from([-1,0,0,0,-1,0,0,0,1,-1,0,0,0,0,1,0,1,0,-1,0,0,0,-1,0,0,0,-1,-1,0,0,0,0,-1,0,1,0,0,-1,0,0,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,-1,0,0,0,-1,1,0,0,0,0,-1,0,1,0,1,0,0]),lo=Float32Array.from([]),so=Uint16Array.from([16,5,22,5,11,22,1,12,7,12,18,7,2,4,13,4,15,13,14,17,20,17,23,20,19,21,8,21,10,8,6,9,0,9,3,0]),fo=Float32Array.from([0,-.5,-.5,0,.5,-.5,.354,-.5,-.354,.354,.5,-.354,.5,-.5,0,.5,.5,0,.354,-.5,.354,.354,.5,.354,-0,-.5,.5,-0,.5,.5,-.354,-.5,.354,-.354,.5,.354,-.5,-.5,-0,-.5,.5,-0,-.354,-.5,-.354,-.354,.5,-.354]),co=Float32Array.from([0,-.63,-.776,0,.63,-.776,.549,-.63,-.549,.549,.63,-.549,.776,-.63,0,.776,.63,0,.549,-.63,.549,.549,.63,.549,0,-.63,.776,0,.63,.776,-.549,-.63,.549,-.549,.63,.549,-.776,-.63,0,-.776,.63,0,-.549,-.63,-.549,-.549,.63,-.549]),uo=Float32Array.from([]),mo=Uint16Array.from([14,10,6,6,2,14,14,12,10,10,8,6,6,4,2,2,0,14,0,1,14,1,15,14,14,15,12,15,13,12,5,9,13,13,1,5,5,7,9,9,11,13,13,15,1,1,3,5,12,13,10,13,11,10,10,11,8,11,9,8,8,9,6,9,7,6,6,7,4,7,5,4,4,5,2,5,3,2,2,3,0,3,1,0]),ho=Float32Array.from([-.2,0,0,0,0,.1,-0,0,-.1,.2,0,-0]),vo=Float32Array.from([.1,1,0,-0,1,0,-0,1,0,-.1,1,0]),_o=Float32Array.from([2,1,0,0,0,1,0,0,0,1,0,0,1,1,0,0]),po=Uint16Array.from([2,3,1,0,2,1]),go=Float32Array.from([.1,.4,0,.1,-0,-0,.1,.2,-.3,.1,.4,-.6,.1,-0,-.5,.1,.7,.2,.2,.9,.1,-.1,.4,0,0,.5,-0,0,.2,-0,-.1,-0,-0,-.1,.2,-.3,0,.2,-.5,-.1,.4,-.6,0,.4,-.6,-.1,-0,-.5,-.1,.7,.2,0,.6,.4,-.2,.9,.1,0,.7,.2]),yo=Float32Array.from([1,0,.1,-0,-1,.3,.8,-.6,-.1,.7,.4,-.6,0,-1,-.2,.7,.2,.7,.4,.9,-.1,-1,0,.1,0,.8,-.6,0,-.6,.8,0,-1,.3,-.8,-.6,-.1,0,-.5,-.9,-.7,.4,-.6,0,.6,-.8,-0,-1,-.2,-.7,.2,.7,0,-0,1,-.4,.9,-.1,0,.9,.4]),wo=Float32Array.from([2,.9,1,.1,2,1,0,0,4,.5,2,.5,4,.9,0,.1,4,1,0,0,1,.9,2,.1,1,1,0,0,3,.9,1,.1,1,1,0,0,2,.5,3,.5,3,1,0,0,5,.5,3,.5,0,1,0,0,5,.9,0,.1,0,1,0,0,5,1,0,0,1,.9,3,.1,1,1,0,0,1,1,0,0,1,1,0,0]),To=Uint16Array.from([18,19,16,19,17,16,7,13,8,16,17,7,19,18,8,8,18,7,7,17,9,7,18,16,12,11,9,11,15,13,12,15,11,12,14,13,13,15,12,11,13,7,13,14,8,9,10,7,11,10,9,7,10,11,19,6,5,17,19,5,3,0,8,17,5,0,6,19,8,6,8,0,17,0,9,6,0,5,2,12,9,4,2,3,4,12,2,14,12,3,4,3,12,3,2,0,14,3,8,1,9,0,1,2,9,1,0,2]),Ro=Float32Array.from([-.1,.6,-.9,-0,.4,-.5,-0,.3,-.9,.1,.5,-.8,-.2,.6,-1.2,-0,.2,-1.3,.2,.5,-1.2,-.2,.8,-1.8,-0,.1,-1.6,.2,.5,-1.8,-.2,.7,-2.2,-0,.2,-2.1,.2,.5,-2.2,0,.5,-2.5]),xo=Float32Array.from([-.7,.7,.3,-0,-.2,1,-.1,-1,.2,.8,.4,.3,-.7,.7,.2,-.1,-1,.1,.9,.3,.2,-.7,.7,-0,-.1,-1,0,1,.3,-0,-.6,.7,-.4,-.1,-1,-.3,.9,.2,-.3,.1,0,-1]),Ao=Float32Array.from([0,.9,1,.1,0,1,0,0,0,.9,1,.1,0,1,1,0,1,.9,2,.1,1,.9,2,.1,1,1,2,0,2,.9,3,.1,2,.9,3,.1,2,.9,3,.1,3,1,0,0,3,1,0,0,3,1,0,0,3,1,0,0]),Mo=Uint16Array.from([13,12,10,13,11,12,13,10,11,12,11,9,11,8,9,11,10,8,10,7,8,8,7,5,7,4,5,7,9,4,9,6,4,10,12,7,12,9,7,6,5,3,5,2,3,5,4,2,4,0,2,4,6,0,6,3,0,9,8,6,8,5,6,1,0,3,1,3,2,2,0,1]),Fo=Float32Array.from([-.5,0,.5,.5,0,.5,-.5,0,-.5,.5,0,-.5]),bo=Float32Array.from([0,1,0,0,1,0,0,1,0,0,1,0]),Io=Float32Array.from([]),ko=Uint16Array.from([2,3,0,3,1,0]);const Eo=1048577;let Ko;const Co=1048584,Po=[[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5],[-.5,-.5,.5]],So=1048608,Bo=1048640;let No={On:[{Yn:[3,"lowpass",9,0,!1,!1,8,8,[["sine",8,1,1,3,8,!1,!1,8,8,8],[!1,8,2,2,2]]],qn:[48]}],Gn:.25},Vo={On:[{Yn:[3,"lowpass",8,0,!1,!1,8,8,[["sine",8,1,1,3,8,!1,!1,8,8,8],[!1,8,1,2,3]]],qn:[48]}],Gn:.25},zo={On:[{Yn:[8,"bandpass",8,2,!1,!1,8,8,[["square",3,1,1,2,8,!1,!1,7,7,8],[!1,3,2,2,3]]],qn:[48]}],Gn:.25};const Wo=[0,0];let Do=0;const Lo=1048832,jo=1050624;let Ho=[0,0,0];const Uo=1052672,Xo=1056768,Go=[0,0,0,1],$o=1049088;let Oo=[0,0,0],qo=[0,0,0];const Yo=1114112,Jo=1114144;let Qo=[0,0,0];const Zo=524288,ti=1081344,ni=new Float32Array(96),oi=1179648,ii=1310720,ei=1048576,ri=3145760;let ai,li=new class extends class{constructor(){this.yo=0,this.wo=0,this.Wn=2048,this.io=window.innerWidth,this.eo=window.innerHeight,this.Nn=!0,this.Zn={},this.no={},this.To={},this.Ro=document.querySelector("main"),this.xo=document.querySelector("canvas"),this.ft=this.xo.getContext("webgl2"),this.Audio=new AudioContext,document.addEventListener("visibilitychange",(()=>document.hidden?this.Ao():this.Mo())),this.Ro.addEventListener("touchstart",(t=>{t.target===this.Ro&&t.preventDefault(),1===t.touches.length&&(this.To={});for(let n=0;n<t.touches.length;n++)this.To[t.touches[n].identifier]=n;for(let n=0;n<t.changedTouches.length;n++){let o=t.changedTouches[n],i=this.To[o.identifier];this.Zn["Touch"+i]=1,this.Zn[`Touch${i}X`]=o.clientX,this.Zn[`Touch${i}Y`]=o.clientY,this.no["Touch"+i]=1}})),this.Ro.addEventListener("touchmove",(t=>{t.target===this.Ro&&t.preventDefault();for(let n=0;n<t.changedTouches.length;n++){let o=t.changedTouches[n],i=this.To[o.identifier];this.Zn[`Touch${i}X`]=o.clientX,this.Zn[`Touch${i}Y`]=o.clientY}})),this.Ro.addEventListener("touchend",(t=>{t.target===this.Ro&&t.preventDefault();for(let n=0;n<t.changedTouches.length;n++){let o=this.To[t.changedTouches[n].identifier];this.Zn["Touch"+o]=0,this.no["Touch"+o]=-1}})),this.Ro.addEventListener("touchcancel",(t=>{for(let n=0;n<t.changedTouches.length;n++){let o=this.To[t.changedTouches[n].identifier];this.Zn["Touch"+o]=0,this.no["Touch"+o]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.Zn[t.code]=1,this.no[t.code]=1)})),window.addEventListener("keyup",(t=>{this.Zn[t.code]=0,this.no[t.code]=-1})),this.ft.enable(2929),this.ft.enable(Wn),this.ft.frontFace(2304)}Mo(){let t=0,n=performance.now(),o=0,i=0,e=r=>{let a=(r-n)/1e3;for(this.Fo(a),t+=a;t>=On;)t-=On,this.bo(On),this.Io();this.ko(a),this.Eo(a),n=r,this.yo=requestAnimationFrame(e),i++>100&&(o+=(a-o)/i,o>.018&&(o=0,i=0,this.Wn=Math.max(512,this.Wn/2)))};this.Ao(),e(n)}Ao(){cancelAnimationFrame(this.yo),this.yo=0}Fo(t){this.wo=performance.now()}bo(t){}ko(t){}Io(){for(let t in this.no)this.no[t]=0}Eo(t){this.Nn=!1;let n=performance.now()-this.wo;Xn&&(Xn.textContent=n.toFixed(1)),Gn&&(Gn.textContent=(1e3*t).toFixed(1)),$n&&($n.textContent=(1/t).toFixed())}}{constructor(){super(...arguments),this.o=new oo,this.Ko=function(t,n=4){let o=Gt(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec3 attr_position;\n\nvoid main() {\ngl_Position = pv * world * vec4(attr_position, 1.0);\n}\n","#version 300 es\n\nprecision mediump float;\n\nuniform vec4 color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = color;\n}\n");return{lo:n,ro:o,ht:{N:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),ao:t.getUniformLocation(o,"color"),ut:t.getAttribLocation(o,"attr_position")}}}(this.ft,2),this.yn=function(t){let n=Gt(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\n\nin vec3 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nvoid main() {\nvert_position = world * vec4(attr_position, 1.0);\nvert_normal = (vec4(attr_normal, 1.0) * self).xyz;\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\nprecision lowp sampler2DShadow;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform mat4 shadow_space;\nuniform sampler2DShadow shadow_map;\nuniform vec4 fog_color;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\n\n\nfloat shadow_factor(vec4 world_pos, float min) {\nvec4 shadow_space_pos = shadow_space * world_pos;\nvec3 shadow_space_ndc = shadow_space_pos.xyz / shadow_space_pos.w;\n\nshadow_space_ndc = shadow_space_ndc * 0.5 + 0.5;\n\n\nshadow_space_ndc.z -= 0.001;\n\nreturn texture(shadow_map, shadow_space_ndc) * (1.0 - min) + min;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nfloat light_intensity = light_positions[i].w;\nif (light_intensity == 0.0) {\nbreak;\n}\n\nvec3 light_normal;\nif (light_intensity < 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * diffuse_factor * light_intensity;\n}\n}\n\nvec3 shaded_rgb = light_acc * shadow_factor(vert_position, 0.5);\nfrag_color= vec4(shaded_rgb, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / 15.0);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{lo:4,ro:n,ht:{N:t.getUniformLocation(n,"pv"),o:t.getUniformLocation(n,"world"),U:t.getUniformLocation(n,"self"),Rt:t.getUniformLocation(n,"diffuse_color"),fo:t.getUniformLocation(n,"eye"),oo:t.getUniformLocation(n,"light_positions"),ho:t.getUniformLocation(n,"shadow_space"),mo:t.getUniformLocation(n,"shadow_map"),co:t.getUniformLocation(n,"fog_color"),ut:t.getAttribLocation(n,"attr_position"),vt:t.getAttribLocation(n,"attr_normal")}}}(this.ft),this.Et=function(t){let n=Gt(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 bones[6];\n\nin vec3 attr_position;\nin vec3 attr_normal;\nin vec4 attr_weights;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nmat4 world_weighted(vec4 weights) {\nreturn weights[1] * bones[int(weights[0])] + weights[3] * bones[int(weights[2])];\n}\n\nvoid main() {\nmat4 bone_world = world_weighted(attr_weights);\nvert_position = bone_world * vec4(attr_position, 1.0);\nvert_normal = normalize(mat3(bone_world) * attr_normal);\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 fog_color;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\nconst float bands = 2.0;\nfloat posterize(float factor) {\nreturn floor(factor * bands) / bands;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.5;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nfloat light_intensity = light_positions[i].w;\nif (light_intensity == 0.0) {\nbreak;\n}\n\nvec3 light_normal;\nif (light_intensity < 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * posterize(diffuse_factor * light_intensity);\n}\n}\n\nfrag_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(eye - vert_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / 15.0);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{lo:4,ro:n,ht:{N:t.getUniformLocation(n,"pv"),Rt:t.getUniformLocation(n,"diffuse_color"),fo:t.getUniformLocation(n,"eye"),oo:t.getUniformLocation(n,"light_positions"),ut:t.getAttribLocation(n,"attr_position"),vt:t.getAttribLocation(n,"attr_normal"),co:t.getUniformLocation(n,"fog_color"),do:t.getUniformLocation(n,"bones"),At:t.getAttribLocation(n,"attr_weights")}}}(this.ft),this.Mt=function(t){let n=Gt(t,"#version 300 es\n\nuniform mat4 pv;\nuniform vec4 color_start;\nuniform vec4 color_end;\n\nuniform vec4 details;\n\n\nin vec4 attr_origin_age;\nin vec3 attr_direction;\n\nout vec4 vert_color;\n\nvoid main() {\n\nvec3 velocity = attr_direction * details.y;\ngl_Position = pv * vec4(attr_origin_age.xyz + velocity * attr_origin_age.w, 1.0);\n\n\nfloat t = attr_origin_age.w / details.x;\ngl_PointSize = mix(details.z, details.w, t);\nvert_color = mix(color_start, color_end, t);\n}\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n");return{lo:0,ro:n,ht:{N:t.getUniformLocation(n,"pv"),bt:t.getUniformLocation(n,"color_start"),It:t.getUniformLocation(n,"color_end"),vo:t.getUniformLocation(n,"details"),_o:t.getAttribLocation(n,"attr_origin_age"),on:t.getAttribLocation(n,"attr_direction")}}}(this.ft),this.In=function(t){let n=Gt(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\n\nuniform vec3 eye;\nuniform vec4 fog_color;\n\nin vec3 attr_position;\nin vec3 attr_column1;\nin vec3 attr_column2;\nin vec3 attr_column3;\nin vec3 attr_column4;\n\nout vec4 vert_color;\n\nvoid main() {\nmat3 rotation = mat3(\nattr_column1,\nattr_column2,\nattr_column3\n);\n\nvec4 world_position = world * mat4(rotation) * vec4(attr_position + attr_column4, 1.0);\ngl_Position = pv * world_position;\n\n\nvert_color = vec4(0.02, 0.06, 0.04, 1.0);\n\nfloat eye_distance = length(eye - world_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / 15.0);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n\n");return{lo:4,ro:n,ht:{N:t.getUniformLocation(n,"pv"),o:t.getUniformLocation(n,"world"),fo:t.getUniformLocation(n,"eye"),co:t.getUniformLocation(n,"fog_color"),ut:t.getAttribLocation(n,"attr_position"),kn:t.getAttribLocation(n,"attr_column1"),En:t.getAttribLocation(n,"attr_column2"),Kn:t.getAttribLocation(n,"attr_column3"),Cn:t.getAttribLocation(n,"attr_column4")}}}(this.ft),this.bn=function(t){let n=t.createBuffer();t.bindBuffer(Vn,n),t.bufferData(Vn,ho,Nn);let o=t.createBuffer();t.bindBuffer(Vn,o),t.bufferData(Vn,vo,Nn);let i=t.createBuffer();t.bindBuffer(Vn,i),t.bufferData(Vn,_o,Nn);let e=t.createBuffer();return t.bindBuffer(zn,e),t.bufferData(zn,po,Nn),{ct:n,Co:ho,dt:o,Po:vo,xt:i,So:_o,_t:e,Bo:po,so:po.length}}(this.ft),this.No=function(t){let n=t.createBuffer();t.bindBuffer(Vn,n),t.bufferData(Vn,Fo,Nn);let o=t.createBuffer();t.bindBuffer(Vn,o),t.bufferData(Vn,bo,Nn);let i=t.createBuffer();t.bindBuffer(Vn,i),t.bufferData(Vn,Io,Nn);let e=t.createBuffer();return t.bindBuffer(zn,e),t.bufferData(zn,ko,Nn),{ct:n,Co:Fo,dt:o,Po:bo,xt:i,So:Io,_t:e,Bo:ko,so:ko.length}}(this.ft),this.Fn=function(t){let n=t.createBuffer();t.bindBuffer(Vn,n),t.bufferData(Vn,ro,Nn);let o=t.createBuffer();t.bindBuffer(Vn,o),t.bufferData(Vn,ao,Nn);let i=t.createBuffer();t.bindBuffer(Vn,i),t.bufferData(Vn,lo,Nn);let e=t.createBuffer();return t.bindBuffer(zn,e),t.bufferData(zn,so,Nn),{ct:n,Co:ro,dt:o,Po:ao,xt:i,So:lo,_t:e,Bo:so,so:so.length}}(this.ft),this.Kt=function(t){let n=t.createBuffer();t.bindBuffer(Vn,n),t.bufferData(Vn,go,Nn);let o=t.createBuffer();t.bindBuffer(Vn,o),t.bufferData(Vn,yo,Nn);let i=t.createBuffer();t.bindBuffer(Vn,i),t.bufferData(Vn,wo,Nn);let e=t.createBuffer();return t.bindBuffer(zn,e),t.bufferData(zn,To,Nn),{ct:n,Co:go,dt:o,Po:yo,xt:i,So:wo,_t:e,Bo:To,so:To.length}}(this.ft),this.pn=function(t){let n=t.createBuffer();t.bindBuffer(Vn,n),t.bufferData(Vn,Ro,Nn);let o=t.createBuffer();t.bindBuffer(Vn,o),t.bufferData(Vn,xo,Nn);let i=t.createBuffer();t.bindBuffer(Vn,i),t.bufferData(Vn,Ao,Nn);let e=t.createBuffer();return t.bindBuffer(zn,e),t.bufferData(zn,Mo,Nn),{ct:n,Co:Ro,dt:o,Po:xo,xt:i,So:Ao,_t:e,Bo:Mo,so:Mo.length}}(this.ft),this.wn=function(t){let n=t.createBuffer();t.bindBuffer(Vn,n),t.bufferData(Vn,fo,Nn);let o=t.createBuffer();t.bindBuffer(Vn,o),t.bufferData(Vn,co,Nn);let i=t.createBuffer();t.bindBuffer(Vn,i),t.bufferData(Vn,uo,Nn);let e=t.createBuffer();return t.bindBuffer(zn,e),t.bufferData(zn,mo,Nn),{ct:n,Co:fo,dt:o,Po:co,xt:i,So:uo,_t:e,Bo:mo,so:mo.length}}(this.ft),this.oo=new Float32Array(32),this.Vo=[],this.Mn={uo:Xt(this.ft,2,2),An:Xt(this.ft,this.Wn,this.Wn)},this.Dn=kt,this.Vn=lt,this._n=0}bo(t){!function(t,n){-1===t.no.Touch0&&(Do=0),0===t.Zn.Touch0&&(Do+=n),1===t.no.Touch0&&(Wo[0]=t.Zn.Touch0X,Wo[1]=t.Zn.Touch0Y);let o=0,i=0;if(1===t.Zn.Touch0){let n=Math.min(t.io,t.eo)/4;o=(t.Zn.Touch0X-Wo[0])/n,i=(t.Zn.Touch0Y-Wo[1])/n}for(let n=0;n<t.o.i.length;n++)128==(128&t.o.i[n])&&ln(t,n,o,i)}(this,t),function(t,n){for(let n=0;n<t.o.i.length;n++)128==(128&t.o.i[n])&&an(t,n)}(this),function(t,n){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Yo)===Yo&&vn(t,o,n)}(this,t),Pn(this),function(t,n){let o=[],i=[];for(let n=0;n<t.o.i.length;n++)if((t.o.i[n]&So)===So){let e=t.o.H[n],r=t.o.Xt[n];r.tn=[],r.$t?(r.$t=!1,tn(e.o,r)):r.Ot?(tn(e.o,r),i.push(r)):o.push(r)}for(let t=0;t<i.length;t++)en(i[t],o,o.length),en(i[t],i,t)}(this),function(t,n){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&Jo)===Jo&&_n(t,n)}(this),Pn(this),function(t,n){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&ri)===ri&&Bn(t,n)}(this)}ko(t){!function(t,n){for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&Zo)===Zo){let i=t.o.R[o];switch(i.A){case 0:i.zn(o)&&pn(t,o);break;case 1:i.M-=n,i.M<0&&pn(t,o)}}}(this,t),function(t,n){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&Bo)===Bo&&rn(t,n)}(this),function(t,n){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Eo)===Eo&&Ot(t,o,n)}(this,t),function(t,n){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Xo)===Xo&&un(t,o,n)}(this,t),function(t,n){for(let n=0;n<t.o.i.length;n++)if((t.o.i[n]&Uo)===Uo){let o=t.o.H[n],i=t.o.v[n],e=t.o.H[i._],r=u([0,0,0],e.o),a=m([0,0,0,0],e.o);w(o.X,o.X,r,i.p),A(o.G,o.G,a,i.p),o.O=!0}}(this),function(t,n){for(let o=0;o<t.o.i.length;o++)1024==(1024&t.o.i[o])&&fn(t,o,n)}(this,t),function(t,n){for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&oi)==oi&&Kn(t,n)}(this),function(t,n){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&ii)==ii&&Cn(t,o,n)}(this,t),function(t,n){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&$o)==$o&&dn(t,o,n)}(this,t),Pn(this),function(t,n){for(let o=0;o<t.o.i.length;o++)2==(2&t.o.i[o])&&Jt(t,o,n)}(this,t),function(t,n){t.io==window.innerWidth&&t.eo==window.innerHeight||(t.Nn=!0),t.Nn&&(t.io=t.xo.width=window.innerWidth,t.eo=t.xo.height=window.innerHeight)}(this),function(t,n){t.Vo=[];for(let n=0;n<t.o.i.length;n++)if((t.o.i[n]&Co)===Co){let o=t.o.I[n],i=t.o.H[n],e=o.k;if(t.Nn)switch(e.A){case 0:Qt(e,0===o.A?t.io/t.eo:o._.jn/o._.Hn);break;case 1:Zt(e)}a(o.B,i.U),s(o.N,e.k,o.B),u(o.V,i.o),t.Vo.push(n)}}(this),function(t,n){let o=t.o.H[t.Vo[1]].o[12];for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&Lo)==Lo&&sn(t,n,o)}(this),function(t,n){t.oo.fill(0);let o=0;for(let n=0;n<t.o.i.length;n++)(t.o.i[n]&jo)===jo&&cn(t,n,o++)}(this),function(t,n){var o,i,e;t.Wn!==t.Mn.An.jn&&(o=t.ft,e=t.Wn,(i=t.Mn.An).jn=t.Wn,i.Hn=e,Ht(o,i.Un,i.jn,i.Hn),Ut(o,i.Xn,i.jn,i.Hn));for(let n of t.Vo){let o=t.o.I[n];switch(o.A){case 0:gn(t,o);break;case 3:yn(t,o)}}}(this),function(t,n){let o=function(t){return t.Vn(t)}(t);o!==ai&&(t.Ro.innerHTML=ai=o)}(this)}};window.scenes=[kt,function(n){n.o=new oo,n.Nn=!0,Q(n,[0,.774,0]),It(n),t(n,[...C(0,[145/255,85/255,61/255,1]),E([0,10,10]),o(e(n.o,"camera anchor"),.05)])},Nt,Lt,function(n){n.o=new oo,n.Nn=!0,t(n,[E([0,-2.5,0],void 0,[16,5,16]),...ht(n)]);for(let o=0;o<2;o++)t(n,[E([tt(-8,8),0,tt(-3,0)],x([0,0,0,1],0,tt(-180,180),0)),..._t(n)]);for(let o=0;o<8;o++){let o=tt(-8,-.5);t(n,[E([tt(-8,8),0,o]),...bt(n)])}Q(n,[-1,1,1],3),t(n,[...Tt(n),E([2.5,6,1])]),t(n,[...Tt(n),E([2.4,8,1])]),t(n,[E([-4,2,-1],x([0,0,0,1],-10,100,10)),b([E(),U(1),at(Mt,.5)])]),t(n,[E([-4,0,-1],x([0,0,0,1],0,145,0),[.6,.6,.6]),...gt(n)]),t(n,[E([20,-12,-5],x([0,0,0,1],0,90,0),[30,30,30]),z(n.yn,n.pn,[.5,.5,.5,1])]),t(n,[E([55,-10,-5.5],x([0,0,0,1],0,90,0),[20,20,20]),z(n.yn,n.pn,[.5,.5,.5,1])]),t(n,[E([4.4,0,-2],x([0,0,0,1],0,12,0),[1,1,1]),b([E(),...dt(n)],[E([.5,0,1.5]),...vt(n)])]),t(n,[E([-4,-.3,.5]),...vt(n)]),t(n,[E([2.5,.2,3.5]),...vt(n)]),t(n,[...ut(),E()]),t(n,[...mt(n),E()]),t(n,[...C(0,[145/255,85/255,61/255,1]),E([0,0,0],x([0,0,0,1],-30,0,0)),o(e(n.o,"camera anchor"),.05)])}],window.scenes[0](li),li.Mo(),window.$=jt.bind(null,li),window.game=li}();
