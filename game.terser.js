!function(){function t(t,o){let i=t.o.t();for(let n of o)n(t,i);return i}function o(...o){return(i,n)=>{let e=[];for(let n of o){let o=t(i,n);e.push(o)}i.o.i[n]|=32,i.o.l[n]={l:e}}}function*i(t,o,n){if((t.i[o]&n)===n&&(yield o),32&t.i[o])for(let e of t.l[o].l)yield*i(t,e,n)}function n(t,o){if(32&t.i[o])for(let i of t.l[o].l)n(t,i);t.v(o)}function e(t,o,i){switch(o){case 0:document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen();break;case 1:{let[o]=i;n(t.o,o),t.u++;break}case 2:t.h++}}function r(t,o,i,n){return t.bindTexture(Xo,o),t.texImage2D(Xo,0,32856,i,n,0,6408,5121,null),t.texParameteri(Xo,10241,Wo),t.texParameteri(Xo,10240,Wo),o}function a(t,o,i,n){return t.bindTexture(Xo,o),t.texImage2D(Xo,0,33190,i,n,0,6402,5125,null),t.texParameteri(Xo,10241,Wo),t.texParameteri(Xo,10240,Wo),t.texParameteri(Xo,34892,34894),t.texParameteri(Xo,10242,33071),t.texParameteri(Xo,10243,33071),o}function l(t,o,i){let n={m:t.createFramebuffer(),_:o,g:i,p:r(t,t.createTexture(),o,i),T:a(t,t.createTexture(),o,i)};t.bindFramebuffer(Ho,n.m),t.framebufferTexture2D(Ho,36096,Xo,n.T,0),t.framebufferTexture2D(Ho,36064,Xo,n.p,0);let e=t.checkFramebufferStatus(Ho);if(36053!=e)throw Error(`Failed to set up the framebuffer (${e}).`);return n}function s(t,o,i){let n=t.createProgram();if(t.attachShader(n,f(t,35633,o)),t.attachShader(n,f(t,35632,i)),t.linkProgram(n),!t.getProgramParameter(n,35714))throw Error(t.getProgramInfoLog(n));return n}function f(t,o,i){let n=t.createShader(o);if(t.shaderSource(n,i),t.compileShader(n),!t.getShaderParameter(n,35713))throw Error(t.getShaderInfoLog(n));return n}function d(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t}function c(t,o){let i=o[0],n=o[1],e=o[2],r=o[3],a=o[4],l=o[5],s=o[6],f=o[7],d=o[8],c=o[9],v=o[10],u=o[11],h=o[12],m=o[13],_=o[14],g=o[15],p=i*l-n*a,y=i*s-e*a,w=i*f-r*a,x=n*s-e*l,T=n*f-r*l,A=e*f-r*s,M=d*m-c*h,F=d*_-v*h,R=d*g-u*h,z=c*_-v*m,b=c*g-u*m,S=v*g-u*_,C=p*S-y*b+w*z+x*R-T*F+A*M;return C?(C=1/C,t[0]=(l*S-s*b+f*z)*C,t[1]=(e*b-n*S-r*z)*C,t[2]=(m*A-_*T+g*x)*C,t[3]=(v*T-c*A-u*x)*C,t[4]=(s*R-a*S-f*F)*C,t[5]=(i*S-e*R+r*F)*C,t[6]=(_*w-h*A-g*y)*C,t[7]=(d*A-v*w+u*y)*C,t[8]=(a*b-l*R+f*M)*C,t[9]=(n*R-i*b-r*M)*C,t[10]=(h*T-m*w+g*p)*C,t[11]=(c*w-d*T-u*p)*C,t[12]=(l*F-a*z-s*M)*C,t[13]=(i*z-n*F+e*M)*C,t[14]=(m*y-h*x-_*p)*C,t[15]=(d*x-c*y+v*p)*C,t):null}function v(t,o,i){let n=o[0],e=o[1],r=o[2],a=o[3],l=o[4],s=o[5],f=o[6],d=o[7],c=o[8],v=o[9],u=o[10],h=o[11],m=o[12],_=o[13],g=o[14],p=o[15],y=i[0],w=i[1],x=i[2],T=i[3];return t[0]=y*n+w*l+x*c+T*m,t[1]=y*e+w*s+x*v+T*_,t[2]=y*r+w*f+x*u+T*g,t[3]=y*a+w*d+x*h+T*p,y=i[4],w=i[5],x=i[6],T=i[7],t[4]=y*n+w*l+x*c+T*m,t[5]=y*e+w*s+x*v+T*_,t[6]=y*r+w*f+x*u+T*g,t[7]=y*a+w*d+x*h+T*p,y=i[8],w=i[9],x=i[10],T=i[11],t[8]=y*n+w*l+x*c+T*m,t[9]=y*e+w*s+x*v+T*_,t[10]=y*r+w*f+x*u+T*g,t[11]=y*a+w*d+x*h+T*p,y=i[12],w=i[13],x=i[14],T=i[15],t[12]=y*n+w*l+x*c+T*m,t[13]=y*e+w*s+x*v+T*_,t[14]=y*r+w*f+x*u+T*g,t[15]=y*a+w*d+x*h+T*p,t}function u(t,o,i,n,e){let r,a=1/Math.tan(o/2);return t[0]=a/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(r=1/(n-e),t[10]=(e+n)*r,t[14]=2*e*n*r):(t[10]=-1,t[14]=-2*n),t}function h(t,o){return t[0]=o[8],t[1]=o[9],t[2]=o[10],T(t,t)}function m(t,o){return t[0]=o[12],t[1]=o[13],t[2]=o[14],t}function _(t,o){let i=function(t,o){let i=o[4],n=o[5],e=o[6],r=o[8],a=o[9],l=o[10];return t[0]=Math.hypot(o[0],o[1],o[2]),t[1]=Math.hypot(i,n,e),t[2]=Math.hypot(r,a,l),t}([0,0,0],o),n=1/i[0],e=1/i[1],r=1/i[2],a=o[0]*n,l=o[1]*e,s=o[2]*r,f=o[4]*n,d=o[5]*e,c=o[6]*r,v=o[8]*n,u=o[9]*e,h=o[10]*r,m=a+d+h,_=0;return m>0?(_=2*Math.sqrt(m+1),t[3]=.25*_,t[0]=(c-u)/_,t[1]=(v-s)/_,t[2]=(l-f)/_):a>d&&a>h?(_=2*Math.sqrt(1+a-d-h),t[3]=(c-u)/_,t[0]=.25*_,t[1]=(l+f)/_,t[2]=(v+s)/_):d>h?(_=2*Math.sqrt(1+d-a-h),t[3]=(v-s)/_,t[0]=(l+f)/_,t[1]=.25*_,t[2]=(c+u)/_):(_=2*Math.sqrt(1+h-a-d),t[3]=(l-f)/_,t[0]=(v+s)/_,t[1]=(c+u)/_,t[2]=.25*_),t}function g(t,o){return t[0]=o[0],t[1]=o[1],t[2]=o[2],t}function p(t,o,i){return t[0]=o[0]+i[0],t[1]=o[1]+i[1],t[2]=o[2]+i[2],t}function y(t,o,i){return t[0]=o[0]-i[0],t[1]=o[1]-i[1],t[2]=o[2]-i[2],t}function w(t,o,i){return t[0]=o[0]*i,t[1]=o[1]*i,t[2]=o[2]*i,t}function x(t,o){return t[0]=-o[0],t[1]=-o[1],t[2]=-o[2],t}function T(t,o){let i=o[0],n=o[1],e=o[2],r=i*i+n*n+e*e;return r>0&&(r=1/Math.sqrt(r)),t[0]=o[0]*r,t[1]=o[1]*r,t[2]=o[2]*r,t}function A(t,o){return t[0]*o[0]+t[1]*o[1]+t[2]*o[2]}function M(t,o,i){let n=o[0],e=o[1],r=o[2],a=i[3]*n+i[7]*e+i[11]*r+i[15];return a=a||1,t[0]=(i[0]*n+i[4]*e+i[8]*r+i[12])/a,t[1]=(i[1]*n+i[5]*e+i[9]*r+i[13])/a,t[2]=(i[2]*n+i[6]*e+i[10]*r+i[14])/a,t}function F(t,o,i){return y(t,M([0,0,0],o,i),m([0,0,0],i))}function R(t,o,i,n){let e=o[0],r=o[1],a=o[2];return t[0]=e+n*(i[0]-e),t[1]=r+n*(i[1]-r),t[2]=a+n*(i[2]-a),t}function z(t,o,i,n,e){return t[0]=o,t[1]=i,t[2]=n,t[3]=e,t}function b(t,o,i){let n=o[0],e=o[1],r=o[2],a=o[3],l=i[0],s=i[1],f=i[2],d=i[3];return t[0]=n*d+a*l+e*f-r*s,t[1]=e*d+a*s+r*l-n*f,t[2]=r*d+a*f+n*s-e*l,t[3]=a*d-n*l-e*s-r*f,t}function S(t,o,i,n){let e=Math.sin(o/2*Ii),r=Math.cos(o/2*Ii),a=Math.sin(i/2*Ii),l=Math.cos(i/2*Ii),s=Math.sin(n/2*Ii),f=Math.cos(n/2*Ii);return t[0]=e*l*f+r*a*s,t[1]=r*a*f-e*l*s,t[2]=r*l*s-e*a*f,t[3]=r*l*f+e*a*s,t}function C(t,o,i,n){let e,r,a,l,s,f=o[0],d=o[1],c=o[2],v=o[3],u=i[0],h=i[1],m=i[2],_=i[3];return r=f*u+d*h+c*m+v*_,r<0&&(r=-r,u=-u,h=-h,m=-m,_=-_),1-r>1e-6?(e=Math.acos(r),a=Math.sin(e),l=Math.sin((1-n)*e)/a,s=Math.sin(n*e)/a):(l=1-n,s=n),t[0]=l*f+s*u,t[1]=l*d+s*h,t[2]=l*c+s*m,t[3]=l*v+s*_,t}function I(t,o,i){let n=t.o.A[o],e=t.o.M[o];if(e.F){let t=e.R[e.F];t&&t!==e.S&&(0===e.S.C?e.S=t:1&e.S.I&&(e.S.C=0,e.S=t)),e.F=void 0}let r=null,a=null;for(let t of e.S.k){if(e.S.C<t.B){a=t;break}r=t}if(r&&a){let t=(e.S.C-r.B)/(a.B-r.B);a.P&&(t=a.P(t)),r.L&&a.L&&(R(n.L,r.L,a.L,t),n.K=!0),r.V&&a.V&&(C(n.V,r.V,a.V,t),n.K=!0),r.D&&a.D&&(R(n.D,r.D,a.D,t),n.K=!0)}else r&&(r.L&&(g(n.L,r.L),n.K=!0),r.V&&(function(t,o){t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3]}(n.V,r.V),n.K=!0),r.D&&(g(n.D,r.D),n.K=!0));let l=e.S.C+i;if(l<e.S.N)e.S.C=l;else{if(e.S.C=0,4&e.S.I)for(let t of e.S.k.reverse())t.B=e.S.N-t.B;2&e.S.I||(e.S=e.R.idle)}}function k(t,o){let i=t.o.A[o];var n,e;m(Pi,i.o),h(Li,i.o),(n=Ki)[0]=(e=i.o)[4],n[1]=e[5],n[2]=e[6],T(n,n);let r=t.Audio.listener;r.positionX?(r.positionX.value=Pi[0],r.positionY.value=Pi[1],r.positionZ.value=Pi[2],r.forwardX.value=Li[0],r.forwardY.value=Li[1],r.forwardZ.value=Li[2],r.upX.value=Ki[0],r.upY.value=Ki[1],r.upZ.value=Ki[2]):(r.setPosition(...Pi),r.setOrientation(...Li,...Ki))}function B(t,o,i,n,e){let r=t.currentTime+e,a=0;o&&o.connect(t.destination);let l,s,f=t.createGain();if(f.gain.value=(i[0]/9)**3,i[5]&&(s=t.createOscillator(),s.type=i[5],s.frequency.value=(i[7]/3)**3,l=t.createGain(),l.gain.value=(i[6]+3)**3,s.connect(l)),i[1]){let n=t.createBiquadFilter();n.type=i[1],n.frequency.value=2**i[2],n.Q.value=i[3]**1.5,l&&i[4]&&l.connect(n.detune),f.connect(n),n.connect(o||t.destination)}else f.connect(o||t.destination);for(let o of i[8]){let i=t.createGain();i.connect(f);let e=(o[1]/9)**3,s=(o[2]/9)**3,d=(o[3]/9)**3,c=s+d+(o[4]/6)**3;if(i.gain.setValueAtTime(0,r),i.gain.linearRampToValueAtTime(e,r+s),i.gain.setValueAtTime(e,r+s+d),i.gain.exponentialRampToValueAtTime(1e-5,r+c),o[0]){let e=t.createOscillator();e.type=o[0],e.connect(i),e.detune.value=3*(o[5]-7.5)**3,l&&o[6]&&l.connect(e.detune);let a=440*2**((n-69)/12);if(o[7]){let t=(o[8]/9)**3,i=(o[9]/9)**3,n=(o[10]/6)**3;e.frequency.linearRampToValueAtTime(0,r),e.frequency.linearRampToValueAtTime(a,r+t),e.frequency.setValueAtTime(a,r+t+i),e.frequency.exponentialRampToValueAtTime(1e-5,r+t+i+n)}else e.frequency.setValueAtTime(a,r);e.start(r),e.stop(r+c)}else{let o=t.createBufferSource();o.buffer=E(t),o.loop=!0,o.connect(i),o.start(r),o.stop(r+c)}c>a&&(a=c)}s&&(s.start(r),s.stop(r+a))}function E(t){if(!Ei){Ei=t.createBuffer(1,2*t.sampleRate,t.sampleRate);let o=Ei.getChannelData(0);for(let t=0;t<o.length;t++)o[t]=2*Math.random()-1}return Ei}function P(t,o,i){let n=t.o.W[o],e=t.o.A[o];if(n.S&&(n.C+=i,n.C>n.S.X?n.S=void 0:n.H&&L(n.H,e)),n.F&&!n.S){switch(n.F.G){case 0:!function(t,o,i){let n=t.createBufferSource();n.buffer=i.$,o?(n.connect(o),o.connect(t.destination)):n.connect(t.destination),n.start()}(t.Audio,n.H,n.F);break;case 1:!function(t,o,i){let n=60/(i.j||120)/4;for(let e of i.U)for(let i=0;i<e.O.length;i++)e.O[i]&&B(t,o,e.Y,e.O[i],i*n)}(t.Audio,n.H,n.F)}n.S=n.F,n.C=0,n.H&&L(n.H,e)}n.F=n.q}function L(t,o){m(Di,o.o),h(Ni,o.o),t.positionX?(t.positionX.value=Di[0],t.positionY.value=Di[1],t.positionZ.value=Di[2],t.orientationX.value=Ni[0],t.orientationY.value=Ni[1],t.orientationZ.value=Ni[2]):(t.setPosition(...Di),t.setOrientation(...Ni))}function K(t,o){o>1?(u(t.J,t.Z,o,t.tt,t.ot),c(t.it,t.J)):(u(t.J,t.Z/o,o,t.tt,t.ot),c(t.it,t.J))}function V(t){!function(t,o,i,n,e,r,a){let l=1/(e-i),s=1/(n-o),f=1/(r-a);t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+i)*l,t[13]=(o+n)*s,t[14]=(a+r)*f,t[15]=1}(t.J,t.nt,t.nt,-t.nt,-t.nt,t.tt,t.ot),c(t.it,t.J)}function D(t,o){let i,n,e,r,a,l;m(o.et,t),i=r=o.et[0],n=a=o.et[1],e=l=o.et[2];let s=[0,0,0];for(let f=0;f<8;f++){let d=Xi[f];s[0]=d[0]*o.rt[0],s[1]=d[1]*o.rt[1],s[2]=d[2]*o.rt[2],M(s,s,t),s[0]<i&&(i=s[0]),s[0]>r&&(r=s[0]),s[1]<n&&(n=s[1]),s[1]>a&&(a=s[1]),s[2]<e&&(e=s[2]),s[2]>l&&(l=s[2])}o.at=[i,n,e],o.lt=[r,a,l],o.st[0]=(r-i)/2,o.st[1]=(a-n)/2,o.st[2]=(l-e)/2}function N(t,o){let i=t.et[0]-o.et[0],n=t.st[0]+o.st[0]-Math.abs(i),e=t.et[1]-o.et[1],r=t.st[1]+o.st[1]-Math.abs(e),a=t.et[2]-o.et[2],l=t.st[2]+o.st[2]-Math.abs(a);return n<r&&n<l?[n*Math.sign(i),0,0]:r<l?[0,r*Math.sign(e),0]:[0,0,l*Math.sign(a)]}function W(t,o){return t.at[0]<o.lt[0]&&t.lt[0]>o.at[0]&&t.at[1]<o.lt[1]&&t.lt[1]>o.at[1]&&t.at[2]<o.lt[2]&&t.lt[2]>o.at[2]}function X(t,o,i){for(let n=0;n<i;n++){let i=o[n],e=t.i&i.ft,r=i.i&t.ft;if((e||r)&&W(t,i)){let o=N(t,i);e&&t.dt.push({ct:i.Entity,vt:o}),r&&i.dt.push({ct:t.Entity,vt:x([0,0,0],o)})}}}function H(t,o){let n=t.o.ut[o];for(let e of i(t.o,o,1))t.o.M[e].F=n.Animation}function G(t,o){let i=t.o.ht[o],n=t.o._t[o];i.gt&&n.yt.push(i.gt.slice()),i.V&&n.wt.push(i.V.slice())}function $(t=[0,0,0],o=[0,0,0,1],i=[1,1,1]){return(n,e)=>{n.o.i[e]|=16777216,n.o.A[e]={o:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],xt:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],L:t,V:o,D:i,K:!0}}}function*j(t,o,i){(t.i[o]&i)===i&&(yield o);let n=t.A[o].Tt;void 0!==n&&(yield*j(t,n,i))}function U(t,o){let n=t.o.At[o];if(1&n.I){let i=t.o._t[o];t.Mt.ArrowLeft&&i.yt.push([-1,0,0]),t.Mt.ArrowRight&&i.yt.push([1,0,0]);let n=t.o.Ft[o];n.Rt||t.Mt.ArrowUp&&(n.zt[1]+=500)}if(2&n.I){let i=t.o.A[o];n.bt||(t.Mt.ArrowLeft&&n.St&&(n.St=!1,z(i.V,0,-.7,0,.7),i.K=!0),t.Mt.ArrowRight&&!n.St&&(n.St=!0,z(i.V,0,.7,0,.7),i.K=!0))}if(8&n.I){let i=t.o.Ct[o];if(t.Mt.Space&&!n.bt&&i.dt.length>0){let n=i.dt[0].ct,e=t.o.It[n];if(e){for(let i of j(t.o,o,512))t.o.At[i].bt=n;t.o.i[n]|=32768,e&&(e.kt=o)}}if(-1===t.Bt.Space&&n.bt){t.o.i[n.bt]&=-32769;for(let i of j(t.o,o,512))t.o.At[i].bt=null}}if(4&n.I){let n="idle";(t.Mt.ArrowLeft||t.Mt.ArrowRight)&&(n="walk");let e=t.o.A[o].Tt;if(void 0!==e){let o=t.o.A[t.o.It[e].kt].Tt;o&&t.o.Ft[o].Rt&&(n="jump")}for(let e of i(t.o,o,1))t.o.M[e].F=n}}function O(t,o,n,e){let r=t.o.At[o];if(1&r.I){let i=t.o._t[o];Math.abs(n)>.01&&i.yt.push([(a=n,Math.max(-1,Math.min(1,a))),0,0]);let r=t.o.Ft[o];r.Rt||Math.abs(e)>.5&&(r.zt[1]+=500)}var a;if(2&r.I){let i=t.o.A[o];r.bt||(n<0&&r.St&&(r.St=!1,z(i.V,0,-.7,0,.7),i.K=!0),n>0&&!r.St&&(r.St=!0,z(i.V,0,.7,0,.7),i.K=!0))}if(8&r.I){let i=t.o.Ct[o];if(1===t.Bt.Touch0&&Ui<.2&&!r.bt&&i.dt.length>0){let n=i.dt[0].ct;for(let i of j(t.o,o,512))t.o.At[i].bt=n;t.o.i[n]|=32768,t.o.It[n].kt=o}if(-1===t.Bt.Touch0&&r.bt){t.o.i[r.bt]&=-32769;for(let i of j(t.o,o,512))t.o.At[i].bt=null}}if(4&r.I){let e;e=0!==n?"walk":"idle";for(let n of i(t.o,o,1))t.o.M[n].F=e}}function Y(t,o){if(1&t.o.At[o].I){let i=t.o._t[o];Math.abs(t.Bt.pad0_axis_1)>.1&&i.yt.push([-t.Bt.pad0_axis_1,0,0]),Math.abs(t.Bt.pad0_axis_2)>.1&&i.yt.push([0,0,-t.Bt.pad0_axis_2])}}function q(t,o,i){let n=t.o.Et[o];Math.abs(t.o.A[o].o[12]-i)>15?t.o.i[o]&=~n.Pt:t.o.i[o]|=n.Pt}function J(t,o,i,n=0,e=[1,1,1,1],r=2304){return(a,l)=>{if(!Yi.has(o)){let i=a.Lt.createVertexArray();a.Lt.bindVertexArray(i),a.Lt.bindBuffer(Vo,o.Kt),a.Lt.enableVertexAttribArray(t.Dt.Vt),a.Lt.vertexAttribPointer(t.Dt.Vt,3,$o,!1,0,0),a.Lt.bindBuffer(Vo,o.Nt),a.Lt.enableVertexAttribArray(t.Dt.Wt),a.Lt.vertexAttribPointer(t.Dt.Wt,3,$o,!1,0,0),a.Lt.bindBuffer(Do,o.Xt),a.Lt.bindVertexArray(null),Yi.set(o,i)}a.o.i[l]|=262144,a.o.Ht[l]={G:1,Gt:t,$t:o,jt:r,Ut:Yi.get(o),Ot:i,Yt:e,qt:n}}}function Q(t,o,i,n=0,e=[1,1,1,1],r=2304){return(a,l)=>{if(!qi.has(o)){let i=a.Lt.createVertexArray();a.Lt.bindVertexArray(i),a.Lt.bindBuffer(Vo,o.Kt),a.Lt.enableVertexAttribArray(t.Dt.Vt),a.Lt.vertexAttribPointer(t.Dt.Vt,3,$o,!1,0,0),a.Lt.bindBuffer(Vo,o.Nt),a.Lt.enableVertexAttribArray(t.Dt.Wt),a.Lt.vertexAttribPointer(t.Dt.Wt,3,$o,!1,0,0),a.Lt.bindBuffer(Do,o.Xt),a.Lt.bindVertexArray(null),qi.set(o,i)}a.o.i[l]|=262144,a.o.Ht[l]={G:2,Gt:t,$t:o,jt:r,Ut:qi.get(o),Ot:i,Yt:e,qt:n}}}function Z(t,o,i,n=0,e=[1,1,1,1],r=2304){return(a,l)=>{if(!Ji.has(o)){let i=a.Lt.createVertexArray();a.Lt.bindVertexArray(i),a.Lt.bindBuffer(Vo,o.Kt),a.Lt.enableVertexAttribArray(t.Dt.Vt),a.Lt.vertexAttribPointer(t.Dt.Vt,3,$o,!1,0,0),a.Lt.bindBuffer(Vo,o.Nt),a.Lt.enableVertexAttribArray(t.Dt.Wt),a.Lt.vertexAttribPointer(t.Dt.Wt,3,$o,!1,0,0),a.Lt.bindBuffer(Vo,o.Jt),a.Lt.enableVertexAttribArray(t.Dt.Qt),a.Lt.vertexAttribPointer(t.Dt.Qt,4,$o,!1,0,0),a.Lt.bindBuffer(Do,o.Xt),a.Lt.bindVertexArray(null),Ji.set(o,i)}a.o.i[l]|=262144,a.o.Ht[l]={G:3,Gt:t,$t:o,jt:r,Ut:Ji.get(o),Ot:i,Yt:e,qt:n}}}function tt(t,o,i,n){return(e,r)=>{let a=e.Lt.createBuffer();e.Lt.bindBuffer(Vo,a),e.Lt.bufferData(Vo,6400,35048),e.o.i[r]|=262144,e.o.Ht[r]={G:5,Gt:e.Zt,$:a,oo:t,io:i,rt:[o,n],jt:No}}}function ot(t,o,i,n){return(e,r)=>{let a=e.no,l=e.Lt.createVertexArray();e.Lt.bindVertexArray(l),e.Lt.bindBuffer(Vo,t.Kt),e.Lt.enableVertexAttribArray(a.Dt.Vt),e.Lt.vertexAttribPointer(a.Dt.Vt,3,$o,!1,0,0),e.Lt.bindBuffer(Vo,t.Nt),e.Lt.enableVertexAttribArray(a.Dt.Wt),e.Lt.vertexAttribPointer(a.Dt.Wt,3,$o,!1,0,0);let s=e.Lt.createBuffer();e.Lt.bindBuffer(Vo,s),e.Lt.bufferData(Vo,o,Ko),e.Lt.enableVertexAttribArray(a.Dt.eo),e.Lt.vertexAttribPointer(a.Dt.eo,4,$o,!1,0,0),e.Lt.vertexAttribDivisor(a.Dt.eo,1);let f=e.Lt.createBuffer();e.Lt.bindBuffer(Vo,f),e.Lt.bufferData(Vo,i,Ko),e.Lt.enableVertexAttribArray(a.Dt.ro),e.Lt.vertexAttribPointer(a.Dt.ro,4,$o,!1,0,0),e.Lt.vertexAttribDivisor(a.Dt.ro,1),e.Lt.bindBuffer(Do,t.Xt),e.Lt.bindVertexArray(null),e.o.i[r]|=262144,e.o.Ht[r]={G:6,Gt:a,$t:t,jt:No,Ut:l,ao:o.length/4,lo:n,so:s,fo:f}}}function it(t,o){t.do.textAlign="center",t.do.font=o.co,t.do.fillStyle=o.vo,t.do.fillText(o.Text,0,0)}function nt(t,o){t.do.strokeStyle=o.uo,t.do.strokeRect(-o.rt/2,-o.rt/2,o.rt,o.rt)}function et(t,o,i){let r=t.o.ho[o];r.mo-=i,r.mo<0&&(r._o&&e(t,r._o,o),n(t.o,o))}function rt(t,o,i){let n=t.o.po[o];m(tn,t.o.A[o].o),1===n.G&&T(tn,tn),t.yo[4*i+0]=tn[0],t.yo[4*i+1]=tn[1],t.yo[4*i+2]=tn[2],t.yo[4*i+3]=n.G,t.wo[4*i+0]=n.uo[0],t.wo[4*i+1]=n.uo[1],t.wo[4*i+2]=n.uo[2],t.wo[4*i+3]=n.xo}function at(t,o,i){let n=t.o.A[o],e=t.o._t[o];if(e.yt.length){let o=e.yt.reduce(lt),r=Math.min(1,function(t){return Math.hypot(t[0],t[1],t[2])}(o));F(o,o,n.o),void 0!==n.Tt&&F(o,o,t.o.A[n.Tt].xt),T(o,o),w(o,o,r*e.To*i),p(n.L,n.L,o),n.K=!0,e.yt=[]}if(e.wt.length){let t=e.wt.reduce(st);C(t,en,t,Math.min(1,e.Ao/Math.PI*i)),b(n.V,t,n.V),n.K=!0,e.wt=[]}if(e.Mo.length){let t=e.Mo.reduce(st);C(t,en,t,Math.min(1,e.Ao/Math.PI*i)),b(n.V,n.V,t),n.K=!0,e.Mo=[]}}function lt(t,o){return p(t,t,o)}function st(t,o){return b(t,t,o)}function ft(t,o,i){let n=t.o.Fo[o],e=t.o.A[o];n.Ro+=i,n.Ro>n.zo&&(n.Ro=0,m(an,e.o),h(ln,e.o),n.bo.push(...an,0),n.bo.push(...ln,Math.random()));for(let t=0;t<n.bo.length;)n.bo[t+3]+=i,n.bo[t+3]>n.ho?n.bo.splice(t,8):t+=8}function dt(t,o,i){let n=t.o.A[o],e=t.o.Ft[o];if(1===e.G){g(e.So,e.Co),w(e.zt,e.zt,i),p(e.So,e.So,e.zt),e.So[1]+=-20*i;let t=[0,0,0];w(t,e.So,i),p(n.L,n.L,t),n.K=!0,(r=e.zt)[0]=0,r[1]=0,r[2]=0}var r}function ct(t,o,i){let n=t.o.Ft[o];if(2===n.G){let e=[0,0,0];m(e,t.o.A[o].o);let r=[0,0,0];y(r,e,n.Io),w(n.So,r,1/i),g(n.Io,e)}}function vt(t,o){let i=t.o.A[o],n=t.o.Ct[o],e=t.o.Ft[o];if(1===e.G){let o=!1;for(let r=0;r<n.dt.length;r++){let a=n.dt[r];if(524288&t.o.i[a.ct]){o=!0,p(i.L,i.L,a.vt),i.K=!0;let n=t.o.Ft[a.ct];switch(n.G){case 0:T(cn,a.vt),w(cn,cn,-2*A(e.So,cn)),p(e.Co,e.So,cn);break;case 1:case 2:g(e.Co,n.So)}w(e.Co,e.Co,e.ko),a.vt[1]>0&&e.Co[1]<1&&(e.Co[1]=0,e.Rt=!1)}}o||(g(e.Co,e.So),e.Rt=!0)}}function ut(t,o){if(32&t.i[o]){let i=t.l[o];for(let o of i.l)if(4194304&t.i[o])return!0}return!1}function ht(t,o,i=0){for(let n=i;n<t.i.length;n++)if((t.i[n]&o)===o)return n}function mt(t,o){t.Lt.bindFramebuffer(Ho,null),t.Lt.viewport(0,0,t.Bo,t.Eo),t.Lt.clearColor(...o.Po),t.Lt.clear(16640),pt(t,o)}function _t(t,o){t.Lt.bindFramebuffer(Ho,o.kt.m),t.Lt.viewport(0,0,o.kt._,o.kt.g),t.Lt.clearColor(...o.Po),t.Lt.clear(16640),pt(t,o)}function gt(t,o){t.Lt.bindFramebuffer(Ho,o.kt.m),t.Lt.viewport(0,0,o.kt._,o.kt.g),t.Lt.clearColor(...o.Po),t.Lt.clear(16640),pt(t,o)}function pt(t,o,i){let n=null,e=null;for(let i=0;i<t.o.i.length;i++)if((t.o.i[i]&un)===un){let r=t.o.A[i],a=t.o.Ht[i];if(a.Gt!==n)switch(n=a.Gt,a.G){case 0:yt(t,a.Gt,o);break;case 1:xt(t,a.Gt,o);break;case 4:At(t,a.Gt,o);break;case 2:Ft(t,a.Gt,o);break;case 3:zt(t,a.Gt,o);break;case 5:St(t,a.Gt,o);break;case 6:It(t,a.Gt,o)}switch(a.jt!==e&&(e=a.jt,t.Lt.frontFace(a.jt)),a.G){case 0:wt(t,r,a);break;case 1:Tt(t,r,a);break;case 4:Mt(t,r,a);break;case 2:Rt(t,r,a);break;case 3:bt(t,i,r,a);break;case 5:{let o=t.o.Fo[i];o.bo.length&&Ct(t,a,o);break}case 6:kt(t,r,a)}}}function yt(t,o,i){t.Lt.useProgram(o.Lo),t.Lt.uniformMatrix4fv(o.Dt.Ko,!1,i.Ko)}function wt(t,o,i){t.Lt.uniformMatrix4fv(i.Gt.Dt.o,!1,o.o),t.Lt.uniform4fv(i.Gt.Dt.uo,i.uo),t.Lt.bindVertexArray(i.Ut),t.Lt.drawElements(i.Gt.Vo,i.$t.Do,Go,0),t.Lt.bindVertexArray(null)}function xt(t,o,i){t.Lt.useProgram(o.Lo),t.Lt.uniformMatrix4fv(o.Dt.Ko,!1,i.Ko),t.Lt.uniform3fv(o.Dt.No,i.Wo),t.Lt.uniform4fv(o.Dt.yo,t.yo),t.Lt.uniform4fv(o.Dt.wo,t.wo),t.Lt.uniform4fv(o.Dt.Xo,i.Po),t.Lt.uniform1f(o.Dt.Ho,i.J.ot)}function Tt(t,o,i){t.Lt.uniformMatrix4fv(i.Gt.Dt.o,!1,o.o),t.Lt.uniformMatrix4fv(i.Gt.Dt.xt,!1,o.xt),t.Lt.uniform4fv(i.Gt.Dt.Ot,i.Ot),t.Lt.uniform4fv(i.Gt.Dt.Yt,i.Yt),t.Lt.uniform1f(i.Gt.Dt.qt,i.qt),t.Lt.bindVertexArray(i.Ut),t.Lt.drawElements(i.Gt.Vo,i.$t.Do,Go,0),t.Lt.bindVertexArray(null)}function At(t,o,i){t.Lt.useProgram(o.Lo),t.Lt.uniformMatrix4fv(o.Dt.Ko,!1,i.Ko)}function Mt(t,o,i){t.Lt.uniformMatrix4fv(i.Gt.Dt.o,!1,o.o),t.Lt.uniform4fv(i.Gt.Dt.uo,i.uo),t.Lt.bindBuffer(Vo,i.Kt),t.Lt.enableVertexAttribArray(i.Gt.Dt.Vt),t.Lt.vertexAttribPointer(i.Gt.Dt.Vt,3,$o,!1,0,0),t.Lt.drawArrays(i.Gt.Vo,0,i.Do)}function Ft(t,o,i){if(t.Lt.useProgram(o.Lo),t.Lt.uniformMatrix4fv(o.Dt.Ko,!1,i.Ko),t.Lt.uniform3fv(o.Dt.No,i.Wo),t.Lt.uniform4fv(o.Dt.yo,t.yo),t.Lt.uniform4fv(o.Dt.wo,t.wo),t.Lt.uniform4fv(o.Dt.Xo,i.Po),t.Lt.uniform1f(o.Dt.Ho,i.J.ot),3===i.G)t.Lt.activeTexture(33984),t.Lt.bindTexture(Xo,t.$o.Go.T),t.Lt.uniform1i(o.Dt.jo,0);else{t.Lt.activeTexture(33984),t.Lt.bindTexture(Xo,t.$o.Uo.T),t.Lt.uniform1i(o.Dt.jo,0);let i=ht(t.o,16400);i&&t.Lt.uniformMatrix4fv(o.Dt.Oo,!1,t.o.Yo[i].Ko)}}function Rt(t,o,i){t.Lt.uniformMatrix4fv(i.Gt.Dt.o,!1,o.o),t.Lt.uniformMatrix4fv(i.Gt.Dt.xt,!1,o.xt),t.Lt.uniform4fv(i.Gt.Dt.Ot,i.Ot),t.Lt.uniform4fv(i.Gt.Dt.Yt,i.Yt),t.Lt.uniform1f(i.Gt.Dt.qt,i.qt),t.Lt.bindVertexArray(i.Ut),t.Lt.drawElements(i.Gt.Vo,i.$t.Do,Go,0),t.Lt.bindVertexArray(null)}function zt(t,o,i){t.Lt.useProgram(o.Lo),t.Lt.uniformMatrix4fv(o.Dt.Ko,!1,i.Ko),t.Lt.uniform3fv(o.Dt.No,i.Wo),t.Lt.uniform4fv(o.Dt.yo,t.yo),t.Lt.uniform4fv(o.Dt.wo,t.wo),t.Lt.uniform4fv(o.Dt.Xo,i.Po),t.Lt.uniform1f(o.Dt.Ho,i.J.ot)}function bt(t,o,n,e){t.Lt.uniformMatrix4fv(e.Gt.Dt.o,!1,n.o),t.Lt.uniformMatrix4fv(e.Gt.Dt.xt,!1,n.xt),t.Lt.uniform4fv(e.Gt.Dt.Ot,e.Ot),t.Lt.uniform4fv(e.Gt.Dt.Yt,e.Yt),t.Lt.uniform1f(e.Gt.Dt.qt,e.qt);let r=[];if(32&t.o.i[o])for(let n of i(t.o,o,16777224))r.push(n);else{let i=o;for(let o=0;o<5;o++){let o=ht(t.o,16777224,i);o&&(r.push(o),i=o+1)}}for(let o of r){let i=t.o.A[o],n=t.o.qo[o];v(hn.subarray(16*n.Jo),i.o,n.Qo)}t.Lt.uniformMatrix4fv(e.Gt.Dt.Zo,!1,hn),t.Lt.bindVertexArray(e.Ut),t.Lt.drawElements(e.Gt.Vo,e.$t.Do,Go,0),t.Lt.bindVertexArray(null)}function St(t,o,i){t.Lt.useProgram(o.Lo),t.Lt.uniformMatrix4fv(o.Dt.Ko,!1,i.Ko)}function Ct(t,o,i){t.Lt.uniform4fv(o.Gt.Dt.oo,o.oo),t.Lt.uniform4fv(o.Gt.Dt.io,o.io),t.Lt.uniform4f(o.Gt.Dt.ti,i.ho,i.oi,...o.rt);let n=Float32Array.from(i.bo);t.Lt.bindBuffer(Vo,o.$),t.Lt.bufferSubData(Vo,0,n),t.Lt.enableVertexAttribArray(o.Gt.Dt.ii),t.Lt.vertexAttribPointer(o.Gt.Dt.ii,4,$o,!1,32,0),t.Lt.enableVertexAttribArray(o.Gt.Dt.gt),t.Lt.vertexAttribPointer(o.Gt.Dt.gt,3,$o,!1,32,16),t.Lt.drawArrays(o.Gt.Vo,0,i.bo.length/8)}function It(t,o,i){t.Lt.useProgram(o.Lo),t.Lt.uniformMatrix4fv(o.Dt.Ko,!1,i.Ko),t.Lt.uniform3fv(o.Dt.No,i.Wo),t.Lt.uniform4fv(o.Dt.yo,t.yo),t.Lt.uniform4fv(o.Dt.wo,t.wo),t.Lt.uniform4fv(o.Dt.Xo,i.Po),t.Lt.uniform1f(o.Dt.Ho,i.J.ot)}function kt(t,o,i){t.Lt.uniformMatrix4fv(i.Gt.Dt.o,!1,o.o),t.Lt.uniformMatrix4fv(i.Gt.Dt.xt,!1,o.xt),t.Lt.uniform3fv(i.Gt.Dt.lo,i.lo),t.Lt.bindVertexArray(i.Ut),t.Lt.drawElementsInstanced(i.Gt.Vo,i.$t.Do,Go,0,i.ao),t.Lt.bindVertexArray(null)}function Bt(t,o){let i=t.o.ni[o],n=t.o.A[o];n.L=[Math.random()-.5,Math.random()-.5,Math.random()-.5],w(n.L,n.L,2*i.ei),n.K=!0}function Et(o,i,n){let e=o.o.ri[i];if(e.Ro+=n,e.Ro>e.ai){e.Ro=0;let n=o.o.A[i],r=[0,0,0];m(r,n.o);let a=[0,0,0,0];_(a,n.o),t(o,[...e.li(o),$(r,a)])}}function Pt(t,o,i){let n=t.o.si[o];n.Ro+=i,n.fi&&n.Ro>n.N?(n.Ro=0,n.fi=!1,t.o.i[o]&=~n.Pt):!n.fi&&n.Ro>n.di&&(n.Ro=0,n.fi=!0,t.o.i[o]|=n.Pt)}function Lt(t,o){for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&pn)===pn){let i=t.o.A[o];i.K&&Kt(t.o,o,i)}}function Kt(t,o,i){if(i.K=!1,function(t,o,i,n){let e=o[0],r=o[1],a=o[2],l=o[3],s=e+e,f=r+r,d=a+a,c=e*s,v=e*f,u=e*d,h=r*f,m=r*d,_=a*d,g=l*s,p=l*f,y=l*d,w=n[0],x=n[1],T=n[2];t[0]=(1-(h+_))*w,t[1]=(v+y)*w,t[2]=(u-p)*w,t[3]=0,t[4]=(v-y)*x,t[5]=(1-(c+_))*x,t[6]=(m+g)*x,t[7]=0,t[8]=(u+p)*T,t[9]=(m-g)*T,t[10]=(1-(c+h))*T,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(i.o,i.V,i.L,i.D),void 0!==i.Tt&&v(i.o,t.A[i.Tt].o,i.o),c(i.xt,i.o),32&t.i[o]){let i=t.l[o];for(let n of i.l)if(16777216&t.i[n]){let i=t.A[n];i.Tt=o,Kt(t,n,i)}}}function Vt(t,o){let i=t.o.Ct[o],n=t.o.F[o];for(let r of i.dt)n.Pt&t.o.Ct[r.ct].ft&&e(t,n._o,[o,r.ct])}function Dt(t,...o){return t.reduce(((t,i)=>t+function(t){let o=t.shift();return"boolean"==typeof o||null==o?"":Array.isArray(o)?o.join(""):o}(o)+i))}function Nt(t,o){let i=Dt`
<div
style="
animation: 8s ease-out 5s forwards intro;
"
>
<div
style="
font-family: Arial;
font-size: 25vw;
font-weight: 600;
color: #fff;
line-height: .9;
"
>
LEFT BEHIND
</div>
<div
style="
position: relative;
left: 2vw;
font-family: Arial;
font-size: 3vw;
color: #fff;
"
>
An adventure on the post-human Earth.
</div>
</div>
`;i!==wn&&(t.ci.innerHTML=wn=i)}function Wt(t,o,i,n=[.9,.9,.9,1]){return(e,r)=>{e.o.i[r]|=16,e.o.Yo[r]={G:0,J:{G:0,Z:t,tt:o,ot:i,J:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],it:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},vi:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Ko:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Wo:[0,0,0],Po:n}}}function Xt(t,o,i,n,e=[0,0,0,1]){return(r,a)=>{r.o.i[a]|=16,r.o.Yo[a]={G:3,kt:t,J:{G:1,nt:o,tt:i,ot:n,J:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],it:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},vi:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Ko:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Wo:[0,0,0],Po:e}}}function Ht(t,i){return[o([$([0,0,5]),Wt(1,.1,15,i)])]}function Gt(t,o,i){return(n,e)=>{n.o.i[e]|=4096,n.o.Fo[e]={ho:t,zo:o,oi:i,bo:[],Ro:0}}}function $t(t,o=.1){return(i,n)=>{i.o.i[n]|=32768,i.o.It[n]={kt:t,ui:o}}}function jt(t){return(o,i)=>{o.o.i[i]|=131072,o.o.hi[i]={mi:t}}}function Ut(t,o){for(let i=0;i<t.i.length;i++)if(131072&t.i[i]&&t.hi[i].mi===o)return i;throw`No entity named ${o}.`}function Ot(t){return(o,i)=>{o.o.i[i]|=1048576,o.o.ni[i]={ei:t}}}function Yt(t){return[$t(Ut(t.o,"pixie anchor"),.02),o([$(),Ot(.1),Gt(1,.1,.1),tt([1,1,1,1],4,[.5,.5,1,1],1)])]}function qt(t,o){return(i,n)=>{i.o.i[n]|=128,i.o.ht[n]={gt:t,V:o}}}function Jt(t){return(o,i)=>{o.o.i[i]&=~t}}function Qt(t,o){return(i,n)=>{i.o.i[n]|=65536,i.o._t[n]={To:t,Ao:o,yt:[],wt:[],Mo:[]}}}function Zt(t){return(o,i)=>{o.o.i[i]|=1024,o.o.Et[i]={Pt:t}}}function to(t){return[o([$([0,1.5,0],[0,-.707,0,.707],[1,3,1]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])],[$([0,3.8,0],[0,-.707,0,.707],[.8,1.6,.8]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])],[$([0,5.4,0],[0,-.707,0,.707],[.56,1.6,.56]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])],[$([0,6.2,0],[-.5,-.5,.5,.5],[1.721,.509,.593]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])],[$([0,4.6,0],[-.5,-.5,.5,.5],[1.12,.438,.796]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])],[$([0,3,0],[-.5,-.5,.5,.5],[2.61,.771,.9]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])])]}function oo(t){return[qt([0,0,1],null),Qt(2,0),(t,o)=>{t.o.i[o]|=8192,t.o.ho[o]={mo:9,_o:void 0}},(i=Tn,(t,o)=>{let n=t.Audio.createPanner();t.o.i[o]|=4,t.o.W[o]={H:n,q:i,C:0}}),Jt(4),o([$([0,0,.5],S([.7,0,0,.7],0,-90,-90),[.1,.1,.1]),...to(t)],[$(void 0,[0,1,0,0]),Ot(.02),Gt(1,.01,1),tt([1,.5,0,1],10,[.56,.33,.24,1],2)])];var i}function io(t,o){return(i,n)=>{i.o.i[n]|=4194304,i.o.pi[n]={G:1,mo:t,yi:o}}}function no(t=[1,1,1],o=1){return(i,n)=>{i.o.i[n]|=16384,i.o.po[n]={G:1,uo:t,xo:o**2}}}function eo(t){return[o([$([10,10,-10],S([0,0,0,1],-45,135,0)),no([1,1,1],.6)],[$([10,10,10]),no([1,1,1],.9)])]}function ro(t){return[$t(Ut(t.o,"sun anchor"),.01),o([$([10,10,-10],S([0,0,0,1],-45,135,0)),Xt(t.$o.Uo,10,1,100),no([1,1,1],.6)])]}function ao(){return An=16807*An%2147483647,(An-1)/2147483646}function lo(t=0,o=1){return~~(ao()*(o-t+1)+t)}function so(t=0,o=1){return ao()*(o-t)+t}function fo(t,o,i,n=[1,1,1]){return(e,r)=>{e.o.i[r]|=64,e.o.Ct[r]={Entity:r,wi:!0,xi:t,ft:o,i,rt:n,at:[0,0,0],lt:[0,0,0],et:[0,0,0],st:[0,0,0],dt:[]}}}function co(t,o=.5){return(i,n)=>{i.o.i[n]|=524288,i.o.Ft[n]={G:t,ko:o,zt:[0,0,0],So:[0,0,0],Co:[0,0,0],Io:[0,0,0],Rt:!1}}}function vo(t){let i=[],n=[];for(let t=0;t<100;t++)i.push(so(-1,1),.8,so(-.5,.5),lo(0,2)),n.push(...S([0,0,0,1],0,so(-180,180),0));return[fo(!1,2,0),co(0),o([$(),Q(t._i,t.Ti,[.095,.095,.095,1])],[$([0,0,0],void 0,[.5,.5,.5]),ot(t.Ai,Float32Array.from(i),Float32Array.from(n),[1,.54,0,1,.84,0])])]}function uo(t,o){return(i,n)=>{i.o.i[n]|=8,i.o.qo[n]={Jo:t,K:void 0===o,Qo:o||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}}}function ho(t){return(o,i)=>{t(o,i)}}function mo(t){return(o,i)=>{o.o.i[i]|=512,o.o.At[i]={I:t,St:!0,bt:null}}}function _o(t){return 1-(1-t)**4}function go(t){return t<.5?8*t**4:1-(-2*t+2)**4/2}function po(t){return(o,i)=>{let n={};for(let o in t){let{k:i,I:e=7}=t[o],r=i[i.length-1].B;n[o]={k:i.map((t=>({...t}))),I:e,N:r,C:0}}o.o.i[i]|=1,o.o.M[i]={R:n,S:n.idle}}}function yo(t,i=.2,n,e=[1,.5,0,1]){return[Z(t.Mi,t.Fi,e,0),o([$([0,.35,-.47],[.672,0,0,.74]),o([$(),jt("tail anchor"),uo(0,[1,0,0,0,0,.096,-.995,0,0,.995,.096,0,0,.433,.395,1]),po({idle:{k:[{B:0,L:[0,0,0],V:[0,0,0,1]},{B:9,L:[0,0,0],V:[0,0,0,1]},{B:10,L:[0,-.044,.289],V:[-.288,0,0,.958],P:go},{B:15,L:[0,-.044,.289],V:[-.288,0,0,.958]},{B:16,L:[0,0,0],V:[0,0,0,1],P:go}],I:3},walk:{k:[{B:0,L:[0,0,0],V:[0,0,0,1]}]},jump:{k:[{B:0,L:[0,0,0],V:[0,0,0,1]},{B:Mn,L:[0,0,0],V:[-.131,0,0,.991],P:_o},{B:Fn,L:[0,0,0],V:[.087,0,0,.996]},{B:1,L:[0,0,0],V:[0,0,0,1],P:_o}],I:1}}),o([$([0,.46,0],[-.4,0,0,.92]),o([$(),po({idle:{k:[{B:0,V:[0,0,0,1]},{B:9,V:[0,0,0,1]},{B:10,V:[.371,0,0,.929],P:go},{B:15,V:[.371,0,0,.929]},{B:16,V:[0,0,0,1],P:go}],I:3},walk:{k:[{B:0,V:[0,0,0,1]}]},jump:{k:[{B:0,V:[0,0,0,1]}]}}),o([$(),uo(1,[1,0,0,0,0,.795,-.606,0,0,.606,.795,0,0,-.306,.251,1]),po({idle:{k:[{B:0,V:[0,.088,.116,.989],P:go},{B:5*i,V:[0,-.088,-.116,.989],P:go}]},walk:{k:[{B:0,V:[.087,0,0,.996]},{B:i,V:[0,0,0,1]}]},jump:{k:[{B:0,V:[0,0,0,1]},{B:Mn,V:[.216,0,0,.976],P:_o},{B:Fn,V:[.216,0,0,.976]},{B:1,V:[0,0,0,1],P:_o}],I:1}})])])],[$([.07,.46,0],[.74,0,0,.672]),o([$(),uo(2,[1,0,0,0,0,-1,0,0,0,-0,-1,0,-.073,.395,-.015,1]),po({idle:{k:[{B:0,V:[0,0,0,1]}]},walk:{k:[{B:0,V:[-.174,0,0,.985],Ri:n},{B:i,V:[.131,0,0,.991],Ri:n}]},jump:{k:[{B:0,V:[0,0,0,1]},{B:Mn,V:[-.259,0,0,.966],P:_o},{B:Fn,V:[-.259,0,0,.966]},{B:1,V:[0,0,0,1],P:_o}],I:1}})])],[$([-.07,.46,0],[.74,0,0,.672]),o([$(),uo(3,[1,0,0,0,0,-1,0,0,0,-0,-1,0,.073,.395,-.015,1]),po({idle:{k:[{B:0,V:[0,0,0,1]}]},walk:{k:[{B:0,V:[.131,0,0,.991]},{B:i,V:[-.174,0,0,.985]}]},jump:{k:[{B:0,V:[0,0,0,1]},{B:Mn,V:[-.301,0,0,.954],P:_o},{B:Fn,V:[-.301,0,0,.954]},{B:1,V:[0,0,0,1],P:_o}],I:1}})])],[$([.07,0,0],[.753,0,0,.658]),o([$(),uo(4,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,-.073,.291,-.509,1]),po({idle:{k:[{B:0,V:[0,0,0,1]},{B:9,V:[0,0,0,1]},{B:10,V:[-.492,0,0,.87],P:go},{B:15,V:[-.492,0,0,.87]},{B:16,V:[0,0,0,1],P:go}],I:3},walk:{k:[{B:0,V:[.131,0,0,.991]},{B:i,V:[-.131,0,0,.991]}]},jump:{k:[{B:0,V:[0,0,0,1]},{B:Mn,V:[.383,0,0,.924],P:_o},{B:Fn,V:[.383,0,0,.924]},{B:1,V:[0,0,0,1],P:_o}],I:1}})])],[$([-.07,0,0],[.753,0,0,.658]),o([$(),uo(5,[1,0,0,0,0,-.992,.124,0,0,-.124,-.992,0,.073,.291,-.509,1]),po({idle:{k:[{B:0,V:[0,0,0,1]},{B:9,V:[0,0,0,1]},{B:10,V:[-.468,0,0,.884],P:go},{B:15,V:[-.468,0,0,.884]},{B:16,V:[0,0,0,1],P:go}],I:3},walk:{k:[{B:0,V:[-.131,0,0,.991]},{B:i,V:[.131,0,0,.991]}]},jump:{k:[{B:0,V:[0,0,0,1]},{B:Mn,V:[.301,0,0,.954],P:_o},{B:Fn,V:[.301,0,0,.954]},{B:1,V:[0,0,0,1],P:_o}],I:1}})])])])])]}function wo(i,n){t(i,[(t,o)=>{t.o.i[o]|=2},mo(1),Qt(3,0),fo(!0,1,6,[.6,.8,.8]),co(1,0),o([jt("mesh anchor"),$([0,-.42,0],[0,.7,0,.7]),mo(2),o([$([0,.5,1],void 0,[.1,.1,.1]),fo(!0,0,4),mo(8)])],[jt("camera anchor"),$([.5,.5,0],S([0,0,0,1],-10,0,0))],[jt("sun anchor"),$()],[jt("pixie anchor"),$([4,1,0],[0,.7,0,.7])]),$(n)]);let e=0,r=0,a=0,l=0,s=t(i,[$([-10,0,.5]),$t(Ut(i.o,"mesh anchor"),.2),o([...yo(i),$(),mo(4)],[$(),Z(i.Mi,i.zi,[1,.5,0,1])])]);return t(i,[$(),$t(Ut(i.o,"tail anchor"),1),o([$([0,-.2,-.05],[1,0,0,0]),qt(null,[0,-1,0,0]),Qt(0,1),ho(((t,o)=>e=o)),uo(0,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-.701,-.428,1])])]),t(i,[$(),$t(e,.08),uo(1,[1,-0,-0,0,0,.132,.991,0,0,-.991,.132,0,-0,-1.1,-.285,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),ho(((t,o)=>r=o))])]),t(i,[$(),$t(r,.06),uo(2,[1,-0,-0,0,0,0,1,0,0,-1,0,0,-0,-1.492,-.487,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),ho(((t,o)=>a=o))])]),t(i,[$(),$t(a,.04),uo(3,[-1,-0,-0,0,0,.137,-.991,0,0,-.991,-.137,0,-0,-2.009,.214,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),ho(((t,o)=>l=o))])]),t(i,[$(),$t(l,.02),uo(4,[-1,0,-0,0,0,-.204,-.979,0,-0,-.979,.204,0,-0,-2.224,1.021,1]),o([$([0,.2,.1],void 0,[.1,.1,.1]),ho(((t,o)=>o))])]),s}function xo(t){return[o([$([0,1.7,0],void 0,[3,3,3]),Zt(262144),Q(t._i,t.Ti,[.095,.095,.095,1])],[$([-2.25,1.7,0],void 0,[1.5,.1,3]),Zt(262144),Q(t._i,t.Ti,[.069,.154,.8,1])],[$([-.8,.1,0],void 0,[4.9,.2,3.4]),Zt(262144),Q(t._i,t.Ti,[.095,.095,.095,1])],[$([-2.814,.95,0],void 0,[.1,1.5,.1]),Zt(262144),Q(t._i,t.Ti,[.095,.095,.095,1])])]}function To(t,i=2,n=4){let e=so(.5,.9),r=lo(400,600),a=so(i,n),l=[],s=[];for(let t=0;t<r;t++)l.push(so(-e,e),so(-e,e),so(-e,e),lo(0,7)),s.push(...S([0,0,0,0],so(-90,90),so(-90,90),so(-90,90)));return[o([$([0,a/2,0],void 0,[.25,a,.25]),Zt(262144),J(t.bi,t.gi,[.8,.2,.2,1])],[$([0,a,0]),Zt(262144),ot(t.Si,Float32Array.from(l),Float32Array.from(s),Rn)])]}function Ao(t){let o=so(.5,.9),i=lo(400,600),n=[],e=[];for(let t=0;t<i;t++)n.push(so(-o,o),so(-o,o),so(-o,o),lo(0,7)),e.push(...S([0,0,0,0],so(-90,90),so(-90,90),so(-90,90)));return[Zt(262144),ot(t.Si,Float32Array.from(n),Float32Array.from(e),Rn)]}function Mo(t){return[o([$([0,4,0],void 0,[.5,8,.5]),Zt(262144),Q(t._i,t.gi,[.119,.027,.012,1])],[$([0,7.41,-.25],void 0,[3,.45,.2]),Zt(262144),Q(t._i,t.Ti,[.119,.027,.012,1])],[$([0,7.41,.25],void 0,[3,.45,.2]),Zt(262144),Q(t._i,t.Ti,[.119,.027,.012,1])],[$([0,6.329,-.25],void 0,[3,.45,.2]),Zt(262144),Q(t._i,t.Ti,[.119,.027,.012,1])],[$([1.3,7.75,-.25],void 0,[.2,.3,.2]),Zt(262144),Q(t._i,t.gi,[.367,.367,.367,1])],[$([1,7.75,-.25],void 0,[.2,.3,.2]),Zt(262144),Q(t._i,t.gi,[.367,.367,.367,1])],[$([1.3,6.7,-.25],void 0,[.2,.3,.2]),Zt(262144),Q(t._i,t.gi,[.367,.367,.367,1])],[$([1,6.7,-.25],void 0,[.2,.3,.2]),Zt(262144),Q(t._i,t.gi,[.367,.367,.367,1])],[$([-.34,5.76,-.24],[0,0,-.383,.924],[1.2,.2,.05]),Zt(262144),Q(t._i,t.Ti,[.367,.367,.367,1])],[$([-1,7.75,.25],void 0,[.2,.3,.2]),Zt(262144),Q(t._i,t.gi,[.367,.367,.367,1])],[$([-1.3,7.75,.25],void 0,[.2,.3,.2]),Zt(262144),Q(t._i,t.gi,[.367,.367,.367,1])])]}function Fo(t){return[o([$(),...xo(t)],[$([0,1.7,0],void 0,[3,3,3]),fo(!1,2,0),co(0)],[$([-2.25,1.7,0],void 0,[1.5,.1,3]),fo(!1,2,0),co(0)],[$([-.8,.1,0],void 0,[4.9,.2,3.4]),fo(!1,2,0),co(0)])]}function Ro(t){return[o([$([0,.8,0],void 0,[4,1,2]),Zt(262144),Q(t._i,t.Ti,[.8,.024,.016,1])],[$([1.276,.5,0],[.707,0,0,.707],[1,2.2,1]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])],[$([-1.1,.5,0],[.707,0,0,.707],[1,2.2,1]),Zt(262144),Q(t._i,t.gi,[0,0,0,1])],[$([-.5,2,.9],void 0,[.2,1.4,.2]),Zt(262144),Q(t._i,t.Ti,[.8,.024,.016,1])],[$([-.5,2,-.9],void 0,[.2,1.4,.2]),Zt(262144),Q(t._i,t.Ti,[.8,.024,.016,1])],[$([1.9,2,.9],void 0,[.2,1.4,.2]),Zt(262144),Q(t._i,t.Ti,[.8,.024,.016,1])],[$([1.9,2,-.9],void 0,[.2,1.4,.2]),Zt(262144),Q(t._i,t.Ti,[.8,.024,.016,1])],[$([.7,2.8,0],void 0,[2.6,.2,2]),Zt(262144),Q(t._i,t.Ti,[.8,.024,.016,1])],[$([-2,1,-.6],[.5,.5,-.5,.5],[.4,.2,.4]),Zt(262144),Q(t._i,t.gi,[.8,.784,.019,1])],[$([-2,1,.6],[.5,.5,-.5,.5],[.4,.2,.4]),Zt(262144),Q(t._i,t.gi,[.8,.784,.019,1])],[$([.264,1.55,.55],void 0,[.2,.5,.8]),Zt(262144),Q(t._i,t.Ti,[0,0,0,1])],[$([.264,1.55,-.55],void 0,[.2,.5,.8]),Zt(262144),Q(t._i,t.Ti,[0,0,0,1])])]}function zo(t){return[o([$(),...Ro(t)],[$([0,.8,0],void 0,[4,1,2]),fo(!1,2,0),co(0)])]}function bo(t){return[o([$(void 0,void 0,void 0),Zt(262144),Q(t._i,t.Ti,[.342,.17,.035,1])],[$([.171,.62,0],[0,0,.574,.819],[.039,.7,1]),Zt(262144),Q(t._i,t.Ti,[.342,.17,.035,1])],[$([-.293,.536,0],[0,0,-.643,.766],[.039,.42,1]),Zt(262144),Q(t._i,t.Ti,[.342,.17,.035,1])])]}function So(t){return[fo(!0,4,6),co(1),$t(0),Jt(32768),...bo(t)]}function Co(i){i.o=new xn,i.Ci=!0,function(o){t(o,[$([7.532,-.5,1.453],[0,.707,0,.707],[4,2.003,30]),...vo(o)]),t(o,[$([30.775,-.498,1.453],[0,.707,0,.707],[4,2.003,13]),...vo(o)]),t(o,[$([69.885,-1.477,1.453],[0,.707,0,.707],[4,2.003,2.349]),...vo(o)]),t(o,[$([76.045,.522,1.453],[0,.707,0,.707],[4,2.003,7.047]),...vo(o)]),t(o,[$([49.734,-1.5,-5.547],[0,.707,0,.707],[10,4,120]),...vo(o)]),wo(o,[0,.774,0]),t(o,[$([17.043,-3.406,-6.364],S([0,0,0,1],0,90,0),[5,10,10]),Q(o._i,o.zi,[.5,.5,.5,1])]),t(o,[$([29.067,-2.849,-6.198],S([0,0,0,1],0,90,0),[5,10,10]),Q(o._i,o.zi,[.5,.5,.5,1])]),t(o,[$([40.236,-8.323,-7.025],S([0,0,0,1],0,90,0),[12,22,8]),Q(o._i,o.zi,[.5,.5,.5,1])]),t(o,[$([11.667,.5,-2.491],void 0,void 0),...xo(o)]),t(o,[$([-1.899,.435,-3.704],[0,-.986,0,.166],[.5,.5,.5]),...xo(o)]),t(o,[$([8.578,.718,.592],void 0,void 0),...Ao(o)]),t(o,[$([24.076,.385,-.486],void 0,void 0),...Ao(o)]),t(o,[$([.556,.238,-3.394],void 0,void 0),...Ao(o)]),t(o,[$([13.367,2.125,-1.203],void 0,void 0),...Ao(o)]),t(o,[$([-1.273,.19,-3.205],void 0,[.5,.5,.5]),...Ao(o)]),t(o,[$([-4.515,.687,1.747],void 0,void 0),...Ao(o)]),t(o,[$([2.685,.334,-2.793],void 0,void 0),...Mo(o)]),t(o,[$([-.619,4.323,-5.257],void 0,[.2,.2,.2]),...Mo(o)]),t(o,[$([-4.671,3.776,-5.403],void 0,[.15,.15,.15]),...Mo(o)]),t(o,[$([4.619,.533,-3.357],void 0,void 0),...Ao(o)]),t(o,[$([23.85,.109,-5.148],void 0,void 0),...Mo(o)]),t(o,[$([26.94,.93,-1.805],void 0,void 0),...Ao(o)]),t(o,[$([21.289,6.84,-5.257],void 0,[.2,.2,.2]),...Mo(o)]),t(o,[$([-3.151,-.074,-5.666],void 0,void 0),...To(o)]),t(o,[$([11.679,4.852,-5.235],void 0,[.25,.25,.25]),...To(o)]),t(o,[$([20.605,.481,-2.506],void 0,void 0),...To(o)]),t(o,[$([28.5,.481,-2.506],void 0,void 0),...To(o)]),t(o,[$([30.326,.075,-3.081],void 0,void 0),...To(o)]),t(o,[$([33.681,.258,-2.988],void 0,void 0),...To(o)]),t(o,[$([33.432,.258,-4.449],void 0,void 0),...To(o)]),t(o,[$([31.597,.258,-1.588],void 0,void 0),...To(o)]),t(o,[$([29.482,.258,-.826],void 0,void 0),...To(o)]),t(o,[$([28.814,.258,-4.263],void 0,void 0),...To(o)]),t(o,[$([34.241,.258,-5.087],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([32.344,.258,-3.376],void 0,void 0),...To(o)]),t(o,[$([28.145,.258,-1.573],void 0,void 0),...To(o)]),t(o,[$([27.834,.258,-3.998],void 0,void 0),...To(o)]),t(o,[$([30.213,.258,-4.558],void 0,void 0),...To(o)]),t(o,[$([30.571,.258,-2.241],void 0,void 0),...To(o)]),t(o,[$([21.225,.258,-3.268],void 0,void 0),...To(o)]),t(o,[$([22.438,.258,-2.848],void 0,void 0),...To(o)]),t(o,[$([23.729,.258,-3.687],void 0,void 0),...To(o)]),t(o,[$([31.045,.743,-1.14],void 0,void 0),...Ao(o)]),t(o,[$([29.076,.386,-3.853],void 0,void 0),...Ao(o)]),t(o,[$([11.687,.5,.827],void 0,void 0),...Fo(o)]),t(o,[$([11.581,.677,2.019],void 0,void 0),...Ao(o)]),t(o,[$([15.393,.109,-2.793],void 0,void 0),...Mo(o)]),t(o,[$([-3.948,.5,1.411],[0,.622,0,.783],void 0),...zo(o)]),t(o,[$([7.692,1,-.096],[-.147,.684,.7,.144],[.4,.4,.4]),...zo(o)]),t(o,[$([14.311,.109,3.176],void 0,void 0),...Mo(o)]),t(o,[$([22.335,.385,-.905],void 0,void 0),...Ao(o)]),t(o,[$([-2.766,.385,-.993],void 0,void 0),...Ao(o)]),t(o,[$([54.036,.5,.827],void 0,void 0),...Fo(o)]),t(o,[$([28.606,.975,.498],void 0,void 0),...So(o)]),t(o,[$([21.958,1,-2.347],[-.442,.55,.563,.431],[.4,.4,.4]),...Ro(o)]),t(o,[$([17.431,.481,-2.709],void 0,void 0),...To(o)]),t(o,[$([18.731,.481,-1.713],void 0,void 0),...To(o)]),t(o,[$([22.567,.93,-1.771],void 0,void 0),...Ao(o)]),t(o,[$([30.874,.481,3.099],void 0,void 0),...To(o)]),t(o,[$([32.985,.481,3.336],void 0,void 0),...To(o)]),t(o,[$([33.508,.481,2.998],void 0,void 0),...To(o)]),t(o,[$([56.116,.236,2.713],void 0,void 0),...Mo(o)]),t(o,[$([54.23,4.091,.498],void 0,void 0),...So(o)]),t(o,[$([31.022,.258,-3.719],void 0,void 0),...To(o)]),t(o,[$([31.784,.258,-4.745],void 0,void 0),...To(o)]),t(o,[$([31.022,.258,-3.719],void 0,void 0),...To(o)]),t(o,[$([31.784,.258,-4.745],void 0,void 0),...To(o)]),t(o,[$([34.225,.258,-5.693],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([37.32,.258,-6.004],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([34.816,.258,-6.02],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([34.692,.258,-5.569],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([35.656,.258,-6.284],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([35.345,.258,-5.678],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([36.184,.258,-5.88],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([38.564,.258,-6.611],void 0,[.4,.4,.4]),...To(o)]),t(o,[$([36.268,.258,-6.533],void 0,[.4,.4,.4]),...To(o)]),t(o,[$([36.878,.258,-7.025],void 0,[.4,.4,.4]),...To(o)]),t(o,[$([37.911,.258,-6.465],void 0,[.4,.4,.4]),...To(o)]),t(o,[$([37.394,.258,-6.916],void 0,[.4,.4,.4]),...To(o)]),t(o,[$([37.058,.258,-6.527],void 0,[.4,.4,.4]),...To(o)]),t(o,[$([38.19,.258,-6.962],void 0,[.4,.4,.4]),...To(o)]),t(o,[$([28.606,2.405,.498],void 0,void 0),...So(o)]),t(o,[$([53.759,-.498,1.453],[0,.707,0,.707],[4,2.003,30]),...vo(o)]),t(o,[$([69.451,-3.406,-6.364],S([0,0,0,1],0,90,0),[5,10,10]),Q(o._i,o.zi,[.5,.5,.5,1])]),t(o,[$([51.79,4.323,-5.257],void 0,[.2,.2,.2]),...Mo(o)]),t(o,[$([47.737,3.776,-5.403],void 0,[.15,.15,.15]),...Mo(o)]),t(o,[$([45.996,.109,-1.516],[0,-.727,0,.686],void 0),...Mo(o)]),t(o,[$([44.272,.258,-4.246],[0,-.727,0,.686],void 0),...To(o)]),t(o,[$([43.782,.258,-3.059],[0,-.727,0,.686],void 0),...To(o)]),t(o,[$([43.311,1,-3.568],[-.713,.063,.065,.696],[.4,.4,.4]),...Ro(o)]),t(o,[$([42.7,.93,-2.993],[0,-.727,0,.686],void 0),...Ao(o)]),t(o,[$([59.592,.435,-4.675],[0,.707,0,.707],[.5,.5,.5]),...xo(o)]),t(o,[$([61.26,.435,-4.675],[0,.707,0,.707],[.5,.5,.5]),...xo(o)]),t(o,[$([62.932,.435,-4.675],[0,.707,0,.707],[.5,.5,.5]),...xo(o)]),t(o,[$([60.146,.558,-3.884],[0,-.727,0,.686],void 0),...Ao(o)]),t(o,[$([68.567,.075,-3.081],void 0,void 0),...To(o)]),t(o,[$([71.922,.258,-2.988],void 0,void 0),...To(o)]),t(o,[$([71.673,.258,-4.449],void 0,void 0),...To(o)]),t(o,[$([72.482,.258,-5.087],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([70.584,.258,-3.376],void 0,void 0),...To(o)]),t(o,[$([68.812,.258,-2.241],void 0,void 0),...To(o)]),t(o,[$([67.317,.386,-3.853],void 0,void 0),...Ao(o)]),t(o,[$([69.263,.258,-3.719],void 0,void 0),...To(o)]),t(o,[$([70.025,.258,-4.745],void 0,void 0),...To(o)]),t(o,[$([72.466,.258,-5.693],void 0,[.7,.7,.7]),...To(o)]),t(o,[$([41.695,2.405,.498],void 0,void 0),...So(o)]),t(o,[$([41.394,2.405,2.85],void 0,void 0),...So(o)]),t(o,[$([41.031,2.952,-1.296],[0,0,-.707,.707],void 0),...So(o)]),t(o,[$([61.983,.211,2.777],void 0,void 0),...Ao(o)]),t(o,[$([87.091,-10.266,-7.025],S([0,0,0,1],0,90,0),[12,22,8]),Q(o._i,o.zi,[.5,.5,.5,1])]),t(o,[$([78.665,1.215,3.099],[0,.996,0,.086],void 0),...To(o)]),t(o,[$([75.148,1.398,-.34],[0,.996,0,.086],void 0),...To(o)]),t(o,[$([73.43,1.229,3.107],[0,.996,0,.086],void 0),...To(o)]),t(o,[$([76.527,1.398,2.936],[0,.996,0,.086],void 0),...To(o)]),t(o,[$([78.016,.236,-3.542],void 0,void 0),...Mo(o)]),t(o,[$([56.158,.609,.392],[0,-1,0,-.016],void 0),...Ao(o)]),t(o,[$([56.401,1,.298],[.698,.155,.159,-.681],void 0),...zo(o)]),t(o,[...eo(),$()]),t(o,[...ro(o),$()])}(i),t(i,[...oo(i),$([-9,7,-3],S([0,0,0,1],-45,100,0))]);let n=t(i,[...Ht(0,[145/255,85/255,61/255,1]),$([-6.2,10,0],S([0,0,0,1],10,0,0)),$t(Ut(i.o,"camera anchor"),.01),Jt(32768)]);t(i,[o([io(5,(()=>{i.o.i[n]|=32768}))],[io(7,(()=>{t(i,[...Yt(i),$([-20,5,0])])}))]),io(9,(()=>{i.o.It[n].ui=.05}))])}function Io(t){return[o([$([0,1,0],void 0,[3,2,3]),Zt(262144),Q(t._i,t.Ti,[.406,0,0,1])],[$([0,2,.9],[.707,0,0,.707],[3,1.2,2.99]),Zt(262144),Q(t._i,t.gi,[.406,0,0,1])],[$([-1.5,1,-1.5],void 0,[.1,2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-1.5,1,1.5],void 0,[.1,2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([1.5,1,-1.5],void 0,[.1,2,.1]),Zt(262144),Q(t._i,t.Ti,[0,0,0,1])],[$([1.5,1,1.5],void 0,[.1,2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,2,1.49],void 0,[3.099,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,2,-1.5],void 0,[3.099,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([1.5,2,-.001],[0,.707,0,.707],[3.099,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-1.498,2,-.001],[0,.707,0,.707],[3.099,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-1.28,2.524,1.49],[0,0,.547,.837],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-1.28,2.524,-1.494],[0,0,.547,.837],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([1.273,2.524,1.49],[0,0,-.547,.837],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([1.273,2.524,-1.524],[0,0,-.547,.837],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([.507,3.274,-1.524],[0,0,-.191,.982],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([.507,3.274,1.527],[0,0,-.191,.982],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-.521,3.274,1.527],[0,0,.191,.982],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-.521,3.274,-1.525],[0,0,.191,.982],[1.159,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,1.5,1.6],void 0,[1.8,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([.854,.7,1.6],[0,0,-.707,.707],[1.5,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-.85,.7,1.6],[0,0,-.707,.707],[1.5,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,.7,1.59],[0,0,-.383,.924],[2.2,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,.7,1.58],[0,0,.383,.924],[2.2,.1,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([-1.247,2.524,-.011],[0,0,.547,.837],[1.159,.1,2.99]),Zt(262144),Q(t._i,t.Ti,[.07,.07,.07,1])],[$([1.242,2.524,-.011],[0,0,-.547,.837],[1.159,.1,2.99]),Zt(262144),Q(t._i,t.Ti,[.07,.07,.07,1])],[$([.508,3.242,-.011],[0,0,-.191,.982],[1.159,.1,2.99]),Zt(262144),Q(t._i,t.Ti,[.07,.07,.07,1])],[$([-.515,3.242,-.011],[0,0,.191,.982],[1.159,.1,2.99]),Zt(262144),Q(t._i,t.Ti,[.07,.07,.07,1])])]}function ko(t){return[o([$([0,.6,0],void 0,[.1,1.2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,1.21,.5],[.707,0,0,.707],[.1,2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,.6,1],void 0,[.1,1.2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,.8,.5],[.707,0,0,.707],[.1,2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])],[$([0,.4,.5],[.707,0,0,.707],[.1,2,.1]),Zt(262144),Q(t._i,t.Ti,[.8,.8,.8,1])])]}function Bo(t){return[o([$([0,3,0],void 0,[2.5,6,2.5]),Zt(262144),Q(t._i,t.gi,[.406,0,0,1])],[$([0,.001,0],void 0,[2.6,.2,2.6]),Zt(262144),Q(t._i,t.gi,[.8,.8,.8,1])],[$([0,6,0],void 0,[2.6,.2,2.6]),Zt(262144),Q(t._i,t.gi,[.8,.8,.8,1])],[$([0,3,0],void 0,[2.6,.2,2.6]),Zt(262144),Q(t._i,t.gi,[.8,.8,.8,1])],[$([0,1.5,0],void 0,[2.6,.2,2.6]),Zt(262144),Q(t._i,t.gi,[.8,.8,.8,1])],[$([0,4.5,0],void 0,[2.6,.2,2.6]),Zt(262144),Q(t._i,t.gi,[.8,.8,.8,1])],[$([.527,3,1.595],void 0,[.4,6,.4]),Zt(262144),Q(t._i,t.gi,[.8,.8,.8,1])])]}function Eo(t){return[o([$(),...Mo(t)],[$([0,4,0],void 0,[.5,8,.5]),fo(!1,2,0),co(0)])]}function Po(t){return[o([$(),...Io(t)],[$([0,1,0],void 0,[3,2,3]),fo(!1,2,0),co(0)])]}function Lo(t){return[o([$(),...ko(t)],[$([0,.7,.5],void 0,[.1,1.2,2]),fo(!1,2,0),co(0)])]}const Ko=35044,Vo=34962,Do=34963,No=2304,Wo=9729,Xo=3553,Ho=36160,Go=5123,$o=5126,jo=document.getElementById("update"),Uo=document.getElementById("delta"),Oo=document.getElementById("fps"),Yo=1/60;let qo=Float32Array.from([-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5]),Jo=Float32Array.from([-1,0,0,0,-1,0,0,0,1,-1,0,0,0,0,1,0,1,0,-1,0,0,0,-1,0,0,0,-1,-1,0,0,0,0,-1,0,1,0,0,-1,0,0,0,1,1,0,0,0,0,1,0,1,0,1,0,0,0,-1,0,0,0,-1,1,0,0,0,0,-1,0,1,0,1,0,0]),Qo=Float32Array.from([]),Zo=Float32Array.from([]),ti=Uint16Array.from([16,5,22,5,11,22,1,12,7,12,18,7,2,4,13,4,15,13,14,17,20,17,23,20,19,21,8,21,10,8,6,9,0,9,3,0]),oi=Float32Array.from([0,-.5,-.5,0,.5,-.5,.354,-.5,-.354,.354,.5,-.354,.5,-.5,0,.5,.5,0,.354,-.5,.354,.354,.5,.354,-0,-.5,.5,-0,.5,.5,-.354,-.5,.354,-.354,.5,.354,-.5,-.5,-0,-.5,.5,-0,-.354,-.5,-.354,-.354,.5,-.354]),ii=Float32Array.from([0,-.63,-.776,0,.63,-.776,.549,-.63,-.549,.549,.63,-.549,.776,-.63,0,.776,.63,0,.549,-.63,.549,.549,.63,.549,0,-.63,.776,0,.63,.776,-.549,-.63,.549,-.549,.63,.549,-.776,-.63,0,-.776,.63,0,-.549,-.63,-.549,-.549,.63,-.549]),ni=Float32Array.from([]),ei=Float32Array.from([]),ri=Uint16Array.from([14,10,6,6,2,14,14,12,10,10,8,6,6,4,2,2,0,14,0,1,14,1,15,14,14,15,12,15,13,12,5,9,13,13,1,5,5,7,9,9,11,13,13,15,1,1,3,5,12,13,10,13,11,10,10,11,8,11,9,8,8,9,6,9,7,6,6,7,4,7,5,4,4,5,2,5,3,2,2,3,0,3,1,0]),ai=Float32Array.from([-.009,.009,.001,0,-.422,.012,0,.405,.119,.008,.008,.001]),li=Float32Array.from([-.001,-.138,.99,.01,.025,1,-.01,-.285,.959,0,-.125,.992]),si=Float32Array.from([]),fi=Float32Array.from([]),di=Uint16Array.from([3,1,0,2,3,0]),ci=Float32Array.from([-.12,.016,.12,.04,0,.04,-.05,0,-.05,.13,.022,-.13]),vi=Float32Array.from([.066,.996,-.066,-.01,1,.01,-.01,1,.01,-.084,.993,.084]),ui=Float32Array.from([]),hi=Float32Array.from([]),mi=Uint16Array.from([2,3,1,0,2,1]),_i=Float32Array.from([.147,.44,.021,.073,-0,-.008,.132,.234,-.28,.088,.409,-.55,.073,-.001,-.521,.103,.688,.168,.176,.893,.08,-.147,.44,.021,0,.482,-.037,0,.219,-.012,-.073,-0,-.008,-.132,.234,-.28,0,.219,-.53,-.088,.409,-.55,0,.432,-.585,-.073,-.001,-.521,-.103,.688,.168,0,.571,.373,-.176,.893,.08,0,.746,.168]),gi=Float32Array.from([.997,.009,.083,-.007,-.962,.275,.797,-.599,-.074,.688,.428,-.586,.035,-.971,-.235,.726,.191,.661,.417,.903,-.104,-.997,.009,.083,0,.785,-.62,0,-.59,.807,.007,-.962,.275,-.797,-.599,-.074,0,-.472,-.882,-.688,.428,-.586,0,.571,-.821,-.035,-.971,-.235,-.726,.191,.661,0,-.039,.999,-.417,.903,-.104,0,.932,.363]),pi=Float32Array.from([]),yi=Float32Array.from([2,.918,1,.082,2,1,0,0,4,.5,2,.5,4,.907,0,.093,4,1,0,0,1,.893,2,.107,1,1,0,0,3,.918,1,.082,1,1,0,0,2,.5,3,.5,3,1,0,0,5,.5,3,.5,0,1,0,0,5,.907,0,.093,0,1,0,0,5,1,0,0,1,.893,3,.107,1,1,0,0,1,1,0,0,1,1,0,0]),wi=Uint16Array.from([18,19,16,19,17,16,7,13,8,16,17,7,19,18,8,8,18,7,7,17,9,7,18,16,12,11,9,11,15,13,12,15,11,12,14,13,13,15,12,11,13,7,13,14,8,9,10,7,11,10,9,7,10,11,19,6,5,17,19,5,3,0,8,17,5,0,6,19,8,6,8,0,17,0,9,6,0,5,2,12,9,4,2,3,4,12,2,14,12,3,4,3,12,3,2,0,14,3,8,1,9,0,1,2,9,1,0,2]),xi=Float32Array.from([-.111,.575,-.859,-0,.384,-.481,-0,.251,-.862,.131,.518,-.819,-.152,.634,-1.248,-.008,.196,-1.3,.216,.518,-1.191,-.247,.793,-1.762,-0,.141,-1.608,.242,.549,-1.756,-.208,.738,-2.194,-0,.234,-2.101,.167,.495,-2.202,-.076,.65,-2.622,-0,.376,-2.482,.137,.502,-2.539,-.038,.426,-2.917]),Ti=Float32Array.from([-.701,.652,.289,-.03,-.161,.986,-.097,-.964,.248,.848,.425,.317,-.708,.678,.198,-.131,-.98,.148,.94,.301,.159,-.662,.749,-.02,-.089,-.996,.005,.956,.294,-.017,-.643,.705,-.298,-.11,-.97,-.215,.976,.155,-.154,-.456,.779,-.431,-.203,-.949,-.242,.966,.102,-.237,-.139,-.245,-.96]),Ai=Float32Array.from([]),Mi=Float32Array.from([0,.933,1,.067,0,1,0,0,0,.946,1,.054,0,.953,1,.047,1,.942,2,.058,1,.877,2,.123,1,.97,2,.03,2,.858,3,.142,2,.911,3,.089,2,.932,3,.068,3,.917,4,.083,3,.937,4,.063,3,.945,4,.055,4,.983,3,.017,4,.917,3,.083,4,.956,3,.044,4,1,0,0]),Fi=Uint16Array.from([16,15,13,16,14,15,16,13,14,13,15,10,15,12,10,15,14,12,14,11,12,14,13,11,13,10,11,12,11,9,11,8,9,11,10,8,10,7,8,8,7,5,7,4,5,7,9,4,9,6,4,10,12,7,12,9,7,6,5,3,5,2,3,5,4,2,4,0,2,4,6,0,6,3,0,9,8,6,8,5,6,1,0,3,1,3,2,2,0,1]),Ri=Float32Array.from([-.5,0,.5,.5,0,.5,-.5,0,-.5,.5,0,-.5]),zi=Float32Array.from([0,1,0,0,1,0,0,1,0,0,1,0]),bi=Float32Array.from([]),Si=Float32Array.from([]),Ci=Uint16Array.from([2,3,0,3,1,0]);const Ii=Math.PI/180,ki=16777217,Bi=16777218;let Ei,Pi=[0,0,0],Li=[0,0,0],Ki=[0,0,0];const Vi=16777220,Di=[0,0,0],Ni=[0,0,0],Wi=16777232,Xi=[[.5,.5,.5],[.5,.5,-.5],[-.5,.5,-.5],[-.5,.5,.5],[.5,-.5,.5],[.5,-.5,-.5],[-.5,-.5,-.5],[-.5,-.5,.5]],Hi=16777280,Gi=16777472,$i=16842880,ji=[0,0];let Ui=0;const Oi=16778240,Yi=new WeakMap,qi=new WeakMap,Ji=new WeakMap,Qi=16779264,Zi=16793600;let tn=[0,0,0];const on=16809984,nn=16842752,en=[0,0,0,1],rn=16781312;let an=[0,0,0],ln=[0,0,0];const sn=17301504,fn=17301504,dn=17301568;let cn=[0,0,0];const vn=4194304,un=17039360,hn=new Float32Array(96),mn=17825792,_n=18874368,gn=8388608,pn=16777216,yn=50331712;let wn;class xn extends class{constructor(){this.i=[],this.Ii=[]}t(){return this.Ii.length>0?this.Ii.pop():this.i.push(0)-1}v(t){this.i[t]=0,this.Ii.push(t)}}{constructor(){super(...arguments),this.M=[],this.W=[],this.qo=[],this.Yo=[],this.l=[],this.Ct=[],this.ht=[],this.ut=[],this.At=[],this.Et=[],this.ki=[],this.Fo=[],this.ho=[],this.po=[],this.It=[],this._t=[],this.hi=[],this.Ht=[],this.Ft=[],this.ni=[],this.ri=[],this.pi=[],this.si=[],this.A=[],this.F=[]}}let Tn={G:1,U:[{Y:[8,"lowpass",9,8,!1,!1,8,1,[[!1,8,5,0,9]]],O:[77]}],X:.1},An=1;const Mn=.2,Fn=.6000000000000001,Rn=[0,1,0,0,.36,0,0,.5,0,.48,.98,0,1,.84,0,1,.54,0,.84,.21,.21];let zn=new class extends class extends class{constructor(){this.Bi=0,this.Ei=0,this.Bo=window.innerWidth,this.Eo=window.innerHeight,this.Ci=!0,this.Mt={MouseX:0,MouseY:0},this.Bt={MouseX:0,MouseY:0},this.Pi={Mouse:0,Mouse0:0,Mouse1:0,Mouse2:0,Touch0:0,Touch1:0},this.Li={},this.ci=document.querySelector("main"),document.addEventListener("visibilitychange",(()=>document.hidden?this.Ki():this.Vi())),this.ci.addEventListener("contextmenu",(t=>t.preventDefault())),this.ci.addEventListener("mousedown",(t=>{this.Mt["Mouse"+t.button]=1,this.Bt["Mouse"+t.button]=1})),this.ci.addEventListener("mouseup",(t=>{this.Mt["Mouse"+t.button]=0,this.Bt["Mouse"+t.button]=-1})),this.ci.addEventListener("mousemove",(t=>{this.Mt.MouseX=t.clientX,this.Mt.MouseY=t.clientY,this.Bt.MouseX=t.movementX,this.Bt.MouseY=t.movementY})),this.ci.addEventListener("wheel",(t=>{t.preventDefault(),this.Bt.WheelY=t.deltaY})),this.ci.addEventListener("touchstart",(t=>{t.preventDefault(),1===t.touches.length&&(this.Li={});for(let o=0;o<t.touches.length;o++)this.Li[t.touches[o].identifier]=o;for(let o=0;o<t.changedTouches.length;o++){let i=t.changedTouches[o],n=this.Li[i.identifier];this.Mt["Touch"+n]=1,this.Mt[`Touch${n}X`]=i.clientX,this.Mt[`Touch${n}Y`]=i.clientY,this.Bt["Touch"+n]=1,this.Bt[`Touch${n}X`]=0,this.Bt[`Touch${n}Y`]=0}})),this.ci.addEventListener("touchmove",(t=>{t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let i=t.changedTouches[o],n=this.Li[i.identifier];this.Bt[`Touch${n}X`]=i.clientX-this.Mt[`Touch${n}X`],this.Bt[`Touch${n}Y`]=i.clientY-this.Mt[`Touch${n}Y`],this.Mt[`Touch${n}X`]=i.clientX,this.Mt[`Touch${n}Y`]=i.clientY}})),this.ci.addEventListener("touchend",(t=>{t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let i=this.Li[t.changedTouches[o].identifier];this.Mt["Touch"+i]=0,this.Bt["Touch"+i]=-1}})),this.ci.addEventListener("touchcancel",(t=>{t.preventDefault();for(let o=0;o<t.changedTouches.length;o++){let i=this.Li[t.changedTouches[o].identifier];this.Mt["Touch"+i]=0,this.Bt["Touch"+i]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.Mt[t.code]=1,this.Bt[t.code]=1)})),window.addEventListener("keyup",(t=>{this.Mt[t.code]=0,this.Bt[t.code]=-1}))}Vi(){let t=0,o=performance.now(),i=n=>{let e=(n-o)/1e3;for(this.Di(e),t+=e;t>=Yo;)t-=Yo,this.Ni(Yo);this.Wi(e),this.Xi(e),o=n,this.Bi=requestAnimationFrame(i)};this.Ki(),i(o)}Ki(){cancelAnimationFrame(this.Bi),this.Bi=0}Di(t){this.Ei=performance.now();let o=Math.abs(this.Bt.MouseX)+Math.abs(this.Bt.MouseY);this.Pi.Mouse+=o,1===this.Mt.Mouse0&&(this.Pi.Mouse0+=o),1===this.Mt.Mouse1&&(this.Pi.Mouse1+=o),1===this.Mt.Mouse2&&(this.Pi.Mouse2+=o),1===this.Mt.Touch0&&(this.Pi.Touch0+=Math.abs(this.Bt.Touch0X)+Math.abs(this.Bt.Touch0Y)),1===this.Mt.Touch1&&(this.Pi.Touch1+=Math.abs(this.Bt.Touch1X)+Math.abs(this.Bt.Touch1Y))}Ni(t){}Wi(t){}Xi(t){this.Ci=!1,-1===this.Bt.Mouse0&&(this.Pi.Mouse0=0),-1===this.Bt.Mouse1&&(this.Pi.Mouse1=0),-1===this.Bt.Mouse2&&(this.Pi.Mouse2=0),-1===this.Bt.Touch0&&(this.Pi.Touch0=0),-1===this.Bt.Touch1&&(this.Pi.Touch1=0);for(let t in this.Bt)this.Bt[t]=0;let o=performance.now()-this.Ei;jo&&(jo.textContent=o.toFixed(1)),Uo&&(Uo.textContent=(1e3*t).toFixed(1)),Oo&&(Oo.textContent=(1/t).toFixed())}}{constructor(){super(),this.Hi=document.querySelector("#billboard"),this.do=this.Hi.getContext("2d"),this.Gi=document.querySelector("#scene"),this.Lt=this.Gi.getContext("webgl2"),this.Audio=new AudioContext,this.Lt.enable(2929),this.Lt.enable(2884)}}{constructor(){super(...arguments),this.o=new xn,this.$i=function(t,o=4){let i=s(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\n\nin vec3 attr_position;\n\nvoid main() {\ngl_Position = pv * world * vec4(attr_position, 1.0);\n}\n","#version 300 es\n\nprecision mediump float;\n\nuniform vec4 color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = color;\n}\n");return{Vo:o,Lo:i,Dt:{Ko:t.getUniformLocation(i,"pv"),o:t.getUniformLocation(i,"world"),uo:t.getUniformLocation(i,"color"),Vt:t.getAttribLocation(i,"attr_position")}}}(this.Lt,2),this.bi=function(t){let o=s(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\n\nin vec3 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nvoid main() {\nvert_position = world * vec4(attr_position, 1.0);\nvert_normal = (vec4(attr_normal, 1.0) * self).xyz;\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\nconst float bands = 2.0;\nfloat posterize(float factor) {\nreturn floor(factor * bands) / bands;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.3;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * light_color * posterize(diffuse_factor * light_intensity);\n\nif (shininess > 0.0) {\n\n\n\n\n\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, world_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * light_color * posterize(specular_factor * light_intensity);\n}\n}\n}\n\nfrag_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(view_dir);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{Vo:4,Lo:o,Dt:{Ko:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),Ot:t.getUniformLocation(o,"diffuse_color"),Yt:t.getUniformLocation(o,"specular_color"),qt:t.getUniformLocation(o,"shininess"),No:t.getUniformLocation(o,"eye"),yo:t.getUniformLocation(o,"light_positions"),wo:t.getUniformLocation(o,"light_details"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Vt:t.getAttribLocation(o,"attr_position"),Wt:t.getAttribLocation(o,"attr_normal")}}}(this.Lt),this._i=function(t){let o=s(t,"#version 300 es\n\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\n\nin vec3 attr_position;\nin vec3 attr_normal;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nvoid main() {\nvert_position = world * vec4(attr_position, 1.0);\nvert_normal = (vec4(attr_normal, 1.0) * self).xyz;\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\nprecision lowp sampler2DShadow;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform mat4 shadow_space;\nuniform sampler2DShadow shadow_map;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\n\n\nfloat shadow_factor(vec4 world_pos, float min) {\nvec4 shadow_space_pos = shadow_space * world_pos;\nvec3 shadow_space_ndc = shadow_space_pos.xyz / shadow_space_pos.w;\n\nshadow_space_ndc = shadow_space_ndc * 0.5 + 0.5;\n\n\nshadow_space_ndc.z -= 0.001;\n\nreturn texture(shadow_map, shadow_space_ndc) * (1.0 - min) + min;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * diffuse_factor * light_color * light_intensity;\n\nif (shininess > 0.0) {\n\n\n\n\n\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, world_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * specular_factor * light_color * light_intensity;\n}\n}\n}\n\nvec3 shaded_rgb = light_acc * shadow_factor(vert_position, 0.5);\nfrag_color= vec4(shaded_rgb, 1.0);\n\nfloat eye_distance = length(view_dir);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{Vo:4,Lo:o,Dt:{Ko:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),Ot:t.getUniformLocation(o,"diffuse_color"),Yt:t.getUniformLocation(o,"specular_color"),qt:t.getUniformLocation(o,"shininess"),No:t.getUniformLocation(o,"eye"),yo:t.getUniformLocation(o,"light_positions"),wo:t.getUniformLocation(o,"light_details"),Oo:t.getUniformLocation(o,"shadow_space"),jo:t.getUniformLocation(o,"shadow_map"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Vt:t.getAttribLocation(o,"attr_position"),Wt:t.getAttribLocation(o,"attr_normal")}}}(this.Lt),this.Mi=function(t){let o=s(t,"#version 300 es\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform mat4 bones[6];\n\nin vec3 attr_position;\nin vec3 attr_normal;\nin vec4 attr_weights;\n\nout vec4 vert_position;\nout vec3 vert_normal;\n\nmat4 world_weighted(vec4 weights) {\nreturn weights[1] * bones[int(weights[0])] + weights[3] * bones[int(weights[2])];\n}\n\nvoid main() {\nmat4 bone_world = world_weighted(attr_weights);\nvert_position = bone_world * vec4(attr_position, 1.0);\nvert_normal = normalize(mat3(bone_world) * attr_normal);\ngl_Position = pv * vert_position;\n}\n","#version 300 es\n\nprecision mediump float;\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform vec3 eye;\nuniform vec4 diffuse_color;\nuniform vec4 specular_color;\nuniform float shininess;\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec4 vert_position;\nin vec3 vert_normal;\n\nout vec4 frag_color;\n\nconst float bands = 2.0;\nfloat posterize(float factor) {\nreturn floor(factor * bands) / bands;\n}\n\nvoid main() {\nvec3 world_normal = normalize(vert_normal);\n\nvec3 view_dir = eye - vert_position.xyz;\nvec3 view_normal = normalize(view_dir);\n\n\nvec3 light_acc = diffuse_color.rgb * 0.5;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - vert_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += diffuse_color.rgb * light_color * posterize(diffuse_factor * light_intensity);\n\nif (shininess > 0.0) {\n\n\n\n\n\n\nvec3 h = normalize(light_normal + view_normal);\nfloat specular_angle = max(dot(h, world_normal), 0.0);\nfloat specular_factor = pow(specular_angle, shininess);\n\n\nlight_acc += specular_color.rgb * light_color * posterize(specular_factor * light_intensity);\n}\n}\n}\n\nfrag_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(view_dir);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nfrag_color = mix(frag_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n");return{Vo:4,Lo:o,Dt:{Ko:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),Ot:t.getUniformLocation(o,"diffuse_color"),Yt:t.getUniformLocation(o,"specular_color"),qt:t.getUniformLocation(o,"shininess"),No:t.getUniformLocation(o,"eye"),yo:t.getUniformLocation(o,"light_positions"),wo:t.getUniformLocation(o,"light_details"),Vt:t.getAttribLocation(o,"attr_position"),Wt:t.getAttribLocation(o,"attr_normal"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Zo:t.getUniformLocation(o,"bones"),Qt:t.getAttribLocation(o,"attr_weights")}}}(this.Lt),this.Zt=function(t){let o=s(t,"#version 300 es\n\nuniform mat4 pv;\nuniform vec4 color_start;\nuniform vec4 color_end;\n\nuniform vec4 details;\n\n\nin vec4 attr_origin_age;\nin vec3 attr_direction;\n\nout vec4 vert_color;\n\nvoid main() {\n\nvec3 velocity = attr_direction * details.y;\ngl_Position = pv * vec4(attr_origin_age.xyz + velocity * attr_origin_age.w, 1.0);\n\n\nfloat t = attr_origin_age.w / details.x;\ngl_PointSize = mix(details.z, details.w, t);\nvert_color = mix(color_start, color_end, t);\n}\n","#version 300 es\n\nprecision mediump float;\n\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n");return{Vo:0,Lo:o,Dt:{Ko:t.getUniformLocation(o,"pv"),oo:t.getUniformLocation(o,"color_start"),io:t.getUniformLocation(o,"color_end"),ti:t.getUniformLocation(o,"details"),ii:t.getAttribLocation(o,"attr_origin_age"),gt:t.getAttribLocation(o,"attr_direction")}}}(this.Lt),this.no=function(t){let o=s(t,"#version 300 es\n\n\nconst int MAX_LIGHTS = 8;\n\nuniform mat4 pv;\nuniform mat4 world;\nuniform mat4 self;\nuniform vec3 palette[16];\n\nuniform vec4 light_positions[MAX_LIGHTS];\nuniform vec4 light_details[MAX_LIGHTS];\n\nuniform vec3 eye;\nuniform vec4 fog_color;\nuniform float fog_distance;\n\nin vec3 attr_position;\nin vec3 attr_normal;\nin vec4 attr_offset;\nin vec4 attr_rotation;\n\nout vec4 vert_color;\n\nvoid main() {\nfloat x = attr_rotation.x;\nfloat y = attr_rotation.y;\nfloat z = attr_rotation.z;\nfloat w = attr_rotation.w;\n\nfloat x2 = x + x;\nfloat y2 = y + y;\nfloat z2 = z + z;\nfloat xx = x * x2;\nfloat yx = y * x2;\nfloat yy = y * y2;\nfloat zx = z * x2;\nfloat zy = z * y2;\nfloat zz = z * z2;\nfloat wx = w * x2;\nfloat wy = w * y2;\nfloat wz = w * z2;\n\nfloat m0 = 1.0 - yy - zz;\nfloat m1 = yx + wz;\nfloat m2 = zx - wy;\nfloat m3 = 0.0;\nfloat m4 = yx - wz;\nfloat m5 = 1.0 - xx - zz;\nfloat m6 = zy + wx;\nfloat m7 = 0.0;\nfloat m8 = zx + wy;\nfloat m9 = zy - wx;\nfloat m10 = 1.0 - xx - yy;\nfloat m11 = 0.0;\nfloat m12 = 0.0;\nfloat m13 = 0.0;\nfloat m14 = 0.0;\nfloat m15 = 1.0;\n\nmat4 rotation = mat4(\nm0, m1, m2, m3,\nm4, m5, m6, m7,\nm8, m9, m10, m11,\nm12, m13, m14, m15\n);\n\nvec4 world_position = world * rotation * vec4(attr_position + attr_offset.xyz, 1.0);\nvec3 world_normal = normalize((rotation * vec4(attr_normal, 0.0) * self).xyz);\ngl_Position = pv * world_position;\n\n\nvec3 color = palette[int(attr_offset[3])];\nvec3 light_acc = color * 0.1;\n\nfor (int i = 0; i < MAX_LIGHTS; i++) {\nif (light_positions[i].w == 0.0) {\nbreak;\n}\n\nvec3 light_color = light_details[i].rgb;\nfloat light_intensity = light_details[i].a;\n\nvec3 light_normal;\nif (light_positions[i].w == 1.0) {\n\nlight_normal = light_positions[i].xyz;\n} else {\nvec3 light_dir = light_positions[i].xyz - world_position.xyz;\nfloat light_dist = length(light_dir);\nlight_normal = light_dir / light_dist;\n\nlight_intensity /= (light_dist * light_dist);\n}\n\nfloat diffuse_factor = dot(world_normal, light_normal);\nif (diffuse_factor > 0.0) {\n\nlight_acc += color * diffuse_factor * light_color * light_intensity;\n}\n}\n\nvert_color = vec4(light_acc, 1.0);\n\nfloat eye_distance = length(eye - world_position.xyz);\nfloat fog_amount = clamp(0.0, 1.0, eye_distance / fog_distance);\nvert_color = mix(vert_color, fog_color, smoothstep(0.0, 1.0, fog_amount));\n}\n\n","#version 300 es\n\nprecision mediump float;\nin vec4 vert_color;\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color;\n}\n\n");return{Vo:4,Lo:o,Dt:{Ko:t.getUniformLocation(o,"pv"),o:t.getUniformLocation(o,"world"),xt:t.getUniformLocation(o,"self"),lo:t.getUniformLocation(o,"palette"),No:t.getUniformLocation(o,"eye"),yo:t.getUniformLocation(o,"light_positions"),wo:t.getUniformLocation(o,"light_details"),Xo:t.getUniformLocation(o,"fog_color"),Ho:t.getUniformLocation(o,"fog_distance"),Vt:t.getAttribLocation(o,"attr_position"),Wt:t.getAttribLocation(o,"attr_normal"),eo:t.getAttribLocation(o,"attr_offset"),ro:t.getAttribLocation(o,"attr_rotation")}}}(this.Lt),this.Si=function(t){let o=t.createBuffer();t.bindBuffer(Vo,o),t.bufferData(Vo,ci,Ko);let i=t.createBuffer();t.bindBuffer(Vo,i),t.bufferData(Vo,vi,Ko);let n=t.createBuffer();t.bindBuffer(Vo,n),t.bufferData(Vo,ui,Ko);let e=t.createBuffer();t.bindBuffer(Vo,e),t.bufferData(Vo,hi,Ko);let r=t.createBuffer();return t.bindBuffer(Do,r),t.bufferData(Do,mi,Ko),{Kt:o,ji:ci,Nt:i,Ui:vi,Oi:n,Yi:ui,Jt:e,qi:hi,Xt:r,Ji:mi,Do:mi.length}}(this.Lt),this.Ai=function(t){let o=t.createBuffer();t.bindBuffer(Vo,o),t.bufferData(Vo,ai,Ko);let i=t.createBuffer();t.bindBuffer(Vo,i),t.bufferData(Vo,li,Ko);let n=t.createBuffer();t.bindBuffer(Vo,n),t.bufferData(Vo,si,Ko);let e=t.createBuffer();t.bindBuffer(Vo,e),t.bufferData(Vo,fi,Ko);let r=t.createBuffer();return t.bindBuffer(Do,r),t.bufferData(Do,di,Ko),{Kt:o,ji:ai,Nt:i,Ui:li,Oi:n,Yi:si,Jt:e,qi:fi,Xt:r,Ji:di,Do:di.length}}(this.Lt),this.Qi=function(t){let o=t.createBuffer();t.bindBuffer(Vo,o),t.bufferData(Vo,Ri,Ko);let i=t.createBuffer();t.bindBuffer(Vo,i),t.bufferData(Vo,zi,Ko);let n=t.createBuffer();t.bindBuffer(Vo,n),t.bufferData(Vo,bi,Ko);let e=t.createBuffer();t.bindBuffer(Vo,e),t.bufferData(Vo,Si,Ko);let r=t.createBuffer();return t.bindBuffer(Do,r),t.bufferData(Do,Ci,Ko),{Kt:o,ji:Ri,Nt:i,Ui:zi,Oi:n,Yi:bi,Jt:e,qi:Si,Xt:r,Ji:Ci,Do:Ci.length}}(this.Lt),this.Ti=function(t){let o=t.createBuffer();t.bindBuffer(Vo,o),t.bufferData(Vo,qo,Ko);let i=t.createBuffer();t.bindBuffer(Vo,i),t.bufferData(Vo,Jo,Ko);let n=t.createBuffer();t.bindBuffer(Vo,n),t.bufferData(Vo,Qo,Ko);let e=t.createBuffer();t.bindBuffer(Vo,e),t.bufferData(Vo,Zo,Ko);let r=t.createBuffer();return t.bindBuffer(Do,r),t.bufferData(Do,ti,Ko),{Kt:o,ji:qo,Nt:i,Ui:Jo,Oi:n,Yi:Qo,Jt:e,qi:Zo,Xt:r,Ji:ti,Do:ti.length}}(this.Lt),this.Fi=function(t){let o=t.createBuffer();t.bindBuffer(Vo,o),t.bufferData(Vo,_i,Ko);let i=t.createBuffer();t.bindBuffer(Vo,i),t.bufferData(Vo,gi,Ko);let n=t.createBuffer();t.bindBuffer(Vo,n),t.bufferData(Vo,pi,Ko);let e=t.createBuffer();t.bindBuffer(Vo,e),t.bufferData(Vo,yi,Ko);let r=t.createBuffer();return t.bindBuffer(Do,r),t.bufferData(Do,wi,Ko),{Kt:o,ji:_i,Nt:i,Ui:gi,Oi:n,Yi:pi,Jt:e,qi:yi,Xt:r,Ji:wi,Do:wi.length}}(this.Lt),this.zi=function(t){let o=t.createBuffer();t.bindBuffer(Vo,o),t.bufferData(Vo,xi,Ko);let i=t.createBuffer();t.bindBuffer(Vo,i),t.bufferData(Vo,Ti,Ko);let n=t.createBuffer();t.bindBuffer(Vo,n),t.bufferData(Vo,Ai,Ko);let e=t.createBuffer();t.bindBuffer(Vo,e),t.bufferData(Vo,Mi,Ko);let r=t.createBuffer();return t.bindBuffer(Do,r),t.bufferData(Do,Fi,Ko),{Kt:o,ji:xi,Nt:i,Ui:Ti,Oi:n,Yi:Ai,Jt:e,qi:Mi,Xt:r,Ji:Fi,Do:Fi.length}}(this.Lt),this.gi=function(t){let o=t.createBuffer();t.bindBuffer(Vo,o),t.bufferData(Vo,oi,Ko);let i=t.createBuffer();t.bindBuffer(Vo,i),t.bufferData(Vo,ii,Ko);let n=t.createBuffer();t.bindBuffer(Vo,n),t.bufferData(Vo,ni,Ko);let e=t.createBuffer();t.bindBuffer(Vo,e),t.bufferData(Vo,ei,Ko);let r=t.createBuffer();return t.bindBuffer(Do,r),t.bufferData(Do,ri,Ko),{Kt:o,ji:oi,Nt:i,Ui:ii,Oi:n,Yi:ni,Jt:e,qi:ei,Xt:r,Ji:ri,Do:ri.length}}(this.Lt),this.yo=new Float32Array(32),this.wo=new Float32Array(32),this.Zi=[],this.$o={Go:l(this.Lt,2,2),Uo:l(this.Lt,2048,2048)},this.u=0,this.h=0}Ni(t){!function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&sn)===sn&&dt(t,i,o)}(this,t),Lt(this),function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&fn)===fn&&ct(t,i,o)}(this,t),function(t,o){let i=[],n=[];for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&Hi)===Hi){let e=t.o.A[o],r=t.o.Ct[o];r.dt=[],r.wi?(r.wi=!1,D(e.o,r)):r.xi?(D(e.o,r),n.push(r)):i.push(r)}for(let t=0;t<n.length;t++)X(n[t],i,i.length),X(n[t],n,t)}(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&dn)===dn&&vt(t,o)}(this),Lt(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&yn)===yn&&Vt(t,o)}(this)}Wi(t){!function(t,o){let i=[];for(let n=0;n<t.o.i.length;n++)if((t.o.i[n]&vn)===vn){if(ut(t.o,n))continue;let e=t.o.pi[n];switch(e.G){case 0:e.tn(n)&&i.push(n);break;case 1:e.mo-=o,e.mo<0&&i.push(n)}}for(let o of i){t.o.i[o]&=-4194305,0===t.o.i[o]&&t.o.v(o);let i=t.o.pi[o];i.yi&&i.yi(o),delete t.o.pi[o]}}(this,t),function(t,o){-1===t.Bt.Touch0&&(Ui=0),0===t.Mt.Touch0&&(Ui+=o),1===t.Bt.Touch0&&(ji[0]=t.Mt.Touch0X,ji[1]=t.Mt.Touch0Y);let i=0,n=0;if(1===t.Mt.Touch0){let o=Math.min(t.Bo,t.Eo)/4;i=(t.Mt.Touch0X-ji[0])/o,n=(t.Mt.Touch0Y-ji[1])/o}for(let o=0;o<t.o.i.length;o++)512==(512&t.o.i[o])&&O(t,o,i,n)}(this,t),function(t,o){for(let o=0;o<t.o.i.length;o++)512==(512&t.o.i[o])&&U(t,o)}(this),function(t,o){for(let o of navigator.getGamepads())o&&(t.Bt[`pad${o.index}_axis_1`]=o.axes[0],t.Bt[`pad${o.index}_axis_2`]=o.axes[1],t.Bt[`pad${o.index}_axis_3`]=o.axes[2],t.Bt[`pad${o.index}_axis_4`]=o.axes[3]);for(let o=0;o<t.o.i.length;o++)66048==(66048&t.o.i[o])&&Y(t,o)}(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Gi)===Gi&&H(t,o)}(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&$i)===$i&&G(t,o)}(this),function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&ki)===ki&&I(t,i,o)}(this,t),function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&nn)===nn&&at(t,i,o)}(this,t),function(t,o){for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&on)===on){let i=t.o.A[o],n=t.o.It[o],e=t.o.A[n.kt],r=m([0,0,0],e.o),a=_([0,0,0,0],e.o);R(i.L,i.L,r,n.ui),C(i.V,i.V,a,n.ui),i.K=!0}}(this),function(t,o){for(let i=0;i<t.o.i.length;i++)8192==(8192&t.o.i[i])&&et(t,i,o)}(this,t),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&mn)==mn&&Bt(t,o)}(this),function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&gn)==gn&&Pt(t,i,o)}(this,t),function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&_n)==_n&&Et(t,i,o)}(this,t),function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&rn)==rn&&ft(t,i,o)}(this,t),Lt(this),function(t,o){for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Bi)===Bi&&k(t,o)}(this),function(t,o){for(let i=0;i<t.o.i.length;i++)(t.o.i[i]&Vi)===Vi&&P(t,i,o)}(this,t),function(t,o){t.Bo==window.innerWidth&&t.Eo==window.innerHeight||(t.Ci=!0),t.Ci&&(t.Bo=t.Gi.width=t.Hi.width=window.innerWidth,t.Eo=t.Gi.height=t.Hi.height=window.innerHeight)}(this),function(t,o){t.Zi=[];for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&Wi)===Wi){let i=t.o.Yo[o],n=t.o.A[o],e=i.J;if(t.Ci)switch(e.G){case 0:K(e,0===i.G?t.Bo/t.Eo:i.kt._/i.kt.g);break;case 1:V(e)}d(i.vi,n.xt),v(i.Ko,e.J,i.vi),m(i.Wo,n.o),t.Zi.push(o)}}(this),function(t,o){let i=t.o.A[t.Zi[1]].o[12];for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Oi)==Oi&&q(t,o,i)}(this),function(t,o){t.yo.fill(0),t.wo.fill(0);let i=0;for(let o=0;o<t.o.i.length;o++)(t.o.i[o]&Zi)===Zi&&rt(t,o,i++)}(this),function(t,o){for(let o of t.Zi){let i=t.o.Yo[o];switch(i.G){case 0:mt(t,i);break;case 2:_t(t,i);break;case 3:gt(t,i)}}}(this),function(t,o){t.do.resetTransform(),t.do.clearRect(0,0,t.Bo,t.Eo);let i=[0,0,0],n=t.o.Yo[t.Zi[0]];if(n)for(let o=0;o<t.o.i.length;o++)if((t.o.i[o]&Qi)==Qi){if(m(i,t.o.A[o].o),M(i,i,n.Ko),i[2]<-1||i[2]>1)continue;t.do.setTransform(1,0,0,1,.5*(i[0]+1)*t.Bo,.5*(1-i[1])*t.Eo);let e=t.o.ki[o];switch(e.G){case 0:it(t,e);break;case 2:nt(t,e)}}}(this),Nt(this)}};Co(zn),zn.Vi(),window.$=e.bind(null,zn),window.game=zn,window.scenes=[Co,function(o){o.o=new xn,o.Ci=!0,function(o){t(o,[$([5.402,-.5,.961],[0,.707,0,.707],[4,2.003,15]),...vo(o)]),t(o,[$([19.346,-2.5,.961],[0,.707,0,.707],[4,2.003,14]),...vo(o)]),t(o,[$([42.296,-.498,.961],[0,.707,0,.707],[4,2.003,35]),...vo(o)]),t(o,[$([56.933,-1.5,-6.039],[0,.707,0,.707],[10,4,120]),...vo(o)]),wo(o,[0,.774,0]),t(o,[$([66.274,.258,-4.179],void 0,void 0),...To(o)]),t(o,[$([32.705,.386,-4.345],void 0,void 0),...Ao(o)]),t(o,[$([1.391,.5,-5.425],[0,.56,0,.829],[2,2,2]),...Io(o)]),t(o,[$([-.953,.5,2.694],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([1.047,.5,2.694],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([2.523,-.045,2.694],[.191,.681,-.191,.681],void 0),...ko(o)]),t(o,[$([7.953,.5,-5.44],[0,.175,0,.985],void 0),...Bo(o)]),t(o,[$([8.455,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([10.455,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([12.455,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([14.455,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([16.455,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([19.227,.5,-6.935],void 0,[.8,.8,.8]),...Io(o)]),t(o,[$([18.455,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([18.125,.547,-5.585],void 0,void 0),...Ao(o)]),t(o,[$([13.626,-.537,-1.589],void 0,[2,2,2]),...Ao(o)]),t(o,[$([13.791,.191,-3.014],void 0,void 0),...To(o)]),t(o,[$([24.62,.356,-5.02],[0,.952,0,.305],void 0),...Mo(o)]),t(o,[$([62.05,.5,-7.332],[0,.175,0,.985],[.6,.6,.6]),...Bo(o)]),t(o,[$([64.082,.5,-7.332],[0,.175,0,.985],[.6,.6,.6]),...Bo(o)]),t(o,[$([66.141,.5,-7.332],[0,.175,0,.985],[.6,.6,.6]),...Bo(o)]),t(o,[$([62.6,.582,-7],void 0,void 0),...Ao(o)]),t(o,[$([66.018,3.589,-7.08],void 0,void 0),...Ao(o)]),t(o,[$([70.268,.356,-8.288],[0,.952,0,.305],[.7,.7,.7]),...Mo(o)]),t(o,[$([71.828,.5,-7.627],[0,-.437,0,.899],[.8,.8,.8]),...Io(o)]),t(o,[$([74.694,.5,-3.806],[0,.815,0,.579],[.5,.5,.5]),...ko(o)]),t(o,[$([11.777,.9,-6.806],[.681,.19,-.19,.681],[.4,.4,.4]),...Ro(o)]),t(o,[$([11.411,.611,-5.828],void 0,void 0),...Ao(o)]),t(o,[$([73.83,.5,-3.493],[0,.815,0,.579],[.5,.5,.5]),...ko(o)]),t(o,[$([72.936,.5,-3.299],[0,.739,0,.674],[.5,.5,.5]),...ko(o)]),t(o,[$([72.017,.5,-3.237],[0,.722,0,.692],[.5,.5,.5]),...ko(o)]),t(o,[$([71.067,.5,-3.193],[0,.722,0,.692],[.5,.5,.5]),...ko(o)]),t(o,[$([70.144,.5,-3.303],[0,.602,0,.798],[.5,.5,.5]),...ko(o)]),t(o,[$([69.338,.5,-3.74],[0,.411,0,.911],[.5,.5,.5]),...ko(o)]),t(o,[$([67.357,.5,-5.59],[0,.411,0,.911],[.5,.5,.5]),...ko(o)]),t(o,[$([66.55,.5,-5.934],[0,.678,0,.735],[.5,.5,.5]),...ko(o)]),t(o,[$([65.619,.5,-6.015],[0,.678,0,.735],[.5,.5,.5]),...ko(o)]),t(o,[$([64.694,.5,-6.015],[0,.739,0,.674],[.5,.5,.5]),...ko(o)]),t(o,[$([63.788,.5,-5.928],[0,.739,0,.674],[.5,.5,.5]),...ko(o)]),t(o,[$([68.032,.5,-4.984],[0,.411,0,.911],[.5,.5,.5]),...ko(o)]),t(o,[$([62.882,.5,-5.915],[0,.678,0,.735],[.5,.5,.5]),...ko(o)]),t(o,[$([61.957,.5,-5.915],[0,.739,0,.674],[.5,.5,.5]),...ko(o)]),t(o,[$([61.12,.5,-6.121],[0,.476,0,.88],[.5,.5,.5]),...ko(o)]),t(o,[$([60.439,.5,-6.74],[0,.33,0,.944],[.5,.5,.5]),...ko(o)]),t(o,[$([60.095,.5,-7.584],[0,.049,0,.999],[.5,.5,.5]),...ko(o)]),t(o,[$([60.007,.5,-8.527],[0,.049,0,.999],[.5,.5,.5]),...ko(o)]),t(o,[$([68.415,.289,-4.194],[.149,.384,-.33,.85],[.5,.5,.5]),...ko(o)]),t(o,[$([29.079,.331,-4.94],void 0,void 0),...Ao(o)]),t(o,[$([2.724,.611,2.529],void 0,void 0),...Ao(o)]),t(o,[$([25.372,.328,0],[-.673,.673,.216,.216],[.75,.75,.75]),...Eo(o)]),t(o,[$([23.231,-.715,.057],void 0,void 0),...So(o)]),t(o,[$([25.088,.402,2.789],void 0,void 0),...To(o)]),t(o,[$([9.208,.611,2.529],void 0,void 0),...Ao(o)]),t(o,[$([15.132,-1.485,1.53],[.5,.5,.5,.5],void 0),...ko(o)]),t(o,[$([15.272,-1.922,2.401],void 0,void 0),...Ao(o)]),t(o,[$([24.972,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([26.972,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([28.972,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([31.744,.5,-6.935],void 0,[.8,.8,.8]),...Io(o)]),t(o,[$([30.972,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([38.086,.356,-7.729],[0,.952,0,.305],void 0),...Mo(o)]),t(o,[$([20.999,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([22.999,.5,-7.559],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([15.638,-.537,-1.628],void 0,[2,2,2]),...Ao(o)]),t(o,[$([17.728,-.537,-1.473],void 0,[2,2,2]),...Ao(o)]),t(o,[$([19.817,-.537,-1.783],void 0,[2,2,2]),...Ao(o)]),t(o,[$([21.791,-.537,-1.667],void 0,[2,2,2]),...Ao(o)]),t(o,[$([23.687,-.537,-2.015],void 0,[2,2,2]),...Ao(o)]),t(o,[$([44.792,.5,-.191],[0,.707,0,.707],[2,2,2]),...Po(o)]),t(o,[$([41.232,3.454,.057],void 0,void 0),...So(o)]),t(o,[$([41.232,1.077,.057],void 0,void 0),...So(o)]),t(o,[$([41.232,2.27,.057],void 0,void 0),...So(o)]),t(o,[$([41.232,4.617,0],void 0,void 0),...So(o)]),t(o,[$([59.503,.258,.928],void 0,void 0),...To(o)]),t(o,[$([54.898,.258,1.47],void 0,void 0),...To(o)]),t(o,[$([50.294,.258,1.16],void 0,void 0),...To(o)]),t(o,[$([53.834,.356,-3.705],[0,.194,0,.981],void 0),...Mo(o)]),t(o,[$([59.058,.356,-10.051],[0,.556,0,.831],void 0),...Mo(o)]),t(o,[$([47.846,.331,2.412],void 0,void 0),...Ao(o)]),t(o,[$([54.829,.5,2.694],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([56.829,.5,2.694],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([58.305,-.045,2.694],[.191,.681,-.191,.681],void 0),...ko(o)]),t(o,[$([58.505,.611,2.529],void 0,void 0),...Ao(o)]),t(o,[$([78.626,-.498,.961],[0,.707,0,.707],[4,2.003,35]),...vo(o)]),t(o,[$([72.227,.5,-1.567],[0,.175,0,.985],void 0),...Bo(o)]),t(o,[$([71.008,2.999,.323],[.707,.707,0,0],[2,2,2]),...Lo(o)]),t(o,[$([78.077,.722,-3.382],[-.324,.629,.629,-.324],[.75,.75,.75]),...Eo(o)]),t(o,[$([76.999,1.985,0],void 0,void 0),...So(o)]),t(o,[$([72.162,4.567,.31],void 0,void 0),...So(o)]),t(o,[$([77.575,.777,2.871],void 0,void 0),...Ao(o)]),t(o,[$([67.938,.258,2.631],void 0,void 0),...To(o)]),t(o,[$([79.198,.258,-.813],void 0,void 0),...To(o)]),t(o,[$([81.946,.258,-5.34],void 0,void 0),...To(o)]),t(o,[$([94.119,.258,-2.957],void 0,void 0),...To(o)]),t(o,[$([94.328,.258,2.515],void 0,void 0),...To(o)]),t(o,[$([-1.914,.5,-.217],void 0,void 0),...Lo(o)]),t(o,[$([-1.914,.5,1.824],void 0,void 0),...Lo(o)]),t(o,[$([84.659,.356,-2.181],[0,.952,0,.305],void 0),...Mo(o)]),t(o,[$([90.594,.5,-6.21],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([92.594,.5,-6.21],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([95.366,.5,-5.586],void 0,[.8,.8,.8]),...Io(o)]),t(o,[$([94.594,.5,-6.21],[0,.707,0,.707],void 0),...ko(o)]),t(o,[$([89.688,.5,-5.266],[0,1,0,0],void 0),...ko(o)]),t(o,[$([89.696,.5,-3.44],[0,1,0,0],void 0),...ko(o)]),t(o,[$([89.712,.5,-1.644],[0,1,0,0],void 0),...ko(o)]),t(o,[$([89.73,.5,.147],[0,1,0,0],void 0),...Lo(o)]),t(o,[$([89.73,.5,2.069],[0,1,0,0],void 0),...ko(o)]),t(o,[$([89.688,1.638,-5.266],[0,1,0,0],void 0),...ko(o)]),t(o,[$([89.696,1.638,-3.44],[0,1,0,0],void 0),...ko(o)]),t(o,[$([89.712,1.638,-1.644],[0,1,0,0],void 0),...ko(o)]),t(o,[$([89.73,1.638,.147],[0,1,0,0],void 0),...Lo(o)]),t(o,[$([89.73,1.638,2.069],[0,1,0,0],void 0),...ko(o)]),t(o,[...eo(),$()]),t(o,[...ro(o),$()])}(o),t(o,[...Ht(0,[1,208/255,0,1]),$([0,0,0],S([0,0,0,1],-30,0,0)),$t(Ut(o.o,"camera anchor"),.05)])},function(i){i.o=new xn,i.Ci=!0,function(o){t(o,[$([-9,-.498,1.767],[0,.707,0,.707],[4,2.003,8]),...vo(o)]),t(o,[$([-3.833,-.898,1.767],[0,.707,0,.707],[4,2.003,2.349]),...vo(o)]),t(o,[$([-1.484,-1.299,1.767],[0,.707,0,.707],[4,2.003,2.349]),...vo(o)]),t(o,[$([3.214,-.498,1.767],[0,.707,0,.707],[4,2.003,7.047]),...vo(o)]),t(o,[$([7.911,.304,1.767],[0,.707,0,.707],[4,2.003,2.349]),...vo(o)]),t(o,[$([11.435,.905,1.767],[0,.707,0,.707],[4,2.003,4.698]),...vo(o)]),t(o,[$([17.307,-.498,1.767],[0,.707,0,.707],[4,2.003,7.047]),...vo(o)]),t(o,[$([6.267,0,-5.233],[0,.707,0,.707],[10,1,40]),...vo(o)]),wo(o,[-6.258,.774,.343]),t(o,[$([4.669,.547,-6.026],void 0,void 0),...Ao(o)]),t(o,[$([3.112,.769,3.408],void 0,void 0),...Ao(o)]),t(o,[$([13.606,.582,-6.194],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([1.334,.611,-5.021],void 0,void 0),...Ao(o)]),t(o,[$([-10.877,.191,-4.573],void 0,[20,4,20]),...To(o)]),t(o,[$([11.065,.547,-8.23],void 0,void 0),...Ao(o)]),t(o,[$([14.128,.547,-.948],void 0,void 0),...Ao(o)]),t(o,[$([3.998,.547,-1.593],void 0,void 0),...Ao(o)]),t(o,[$([-8.014,.547,-1.915],void 0,void 0),...Ao(o)]),t(o,[$([11.522,2.276,.987],void 0,void 0),...Ao(o)]),t(o,[$([21.291,.582,-2.405],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([23.468,.582,-8.639],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([-3.806,.582,-2.029],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([16.992,.582,-.578],void 0,[2.439,1,2.539]),...Ao(o)]),t(o,[$([-6.169,.191,-7.926],void 0,[20,4,20]),...To(o)]),t(o,[$([-11.78,.191,-9.474],void 0,[20,4,20]),...To(o)]),t(o,[$([-1.494,.191,-9.474],void 0,[20,4,20]),...To(o)]),t(o,[$([-3.686,.191,-4.379],void 0,[20,4,20]),...To(o)]),t(o,[$([1.602,.191,-5.927],void 0,[20,4,20]),...To(o)]),t(o,[$([.312,.191,-2.767],void 0,[20,4,20]),...To(o)]),t(o,[$([-10.296,.191,2.747],void 0,[20,4,20]),...To(o)]),t(o,[$([2.731,.191,2.521],void 0,[20,4,20]),...To(o)]),t(o,[$([5.471,.191,-9.023],void 0,[20,4,20]),...To(o)]),t(o,[$([5.149,.191,-2.864],void 0,[20,4,20]),...To(o)]),t(o,[$([8.503,.191,-5.798],void 0,[20,4,20]),...To(o)]),t(o,[$([12.243,.191,-8.765],void 0,[20,4,20]),...To(o)]),t(o,[$([10.889,.191,-2.348],void 0,[20,4,20]),...To(o)]),t(o,[$([14.758,.191,-4.799],void 0,[20,4,20]),...To(o)]),t(o,[$([18.37,.191,2.521],void 0,[20,4,20]),...To(o)]),t(o,[$([17.789,.191,-9.023],void 0,[20,4,20]),...To(o)]),t(o,[$([19.305,.191,-4.154],void 0,[20,4,20]),...To(o)]),t(o,[$([24.045,.191,-2.251],void 0,[20,4,20]),...To(o)]),t(o,[$([22.981,.191,-7.83],void 0,[20,4,20]),...To(o)]),t(o,[...eo(),$()]),t(o,[...ro(o),$()])}(i),t(i,[$([0,0,0],S([0,0,0,1],-30,0,0)),$t(Ut(i.o,"camera anchor"),.05),o([$(),...Ht(0,[.4,.6,.4,1]),Ot(.03),(t,o)=>{t.o.i[o]|=8388608,t.o.si[o]={Pt:1048576,N:.3,di:10,Ro:10,fi:!1}}])])},function(i){i.o=new xn,i.Ci=!0,t(i,[$([0,-25,0],void 0,[16,50,16]),fo(!1,2,0),co(0),Q(i._i,i.Ti,[.5,.5,.5,1])]);for(let o=0;o<8;o++){let o=so(-8,-.5);t(i,[$([so(-8,8),0,o]),...To(i)])}let n=[],e=[];for(let t=0;t<80;t++)n.push(so(-16,16),.2,so(-8,8),lo(0,2)),e.push(...S([0,0,0,1],0,0,0));t(i,[$([0,0,0],void 0,[.5,.5,.5]),ot(i.Ai,Float32Array.from(n),Float32Array.from(e),[1,.54,0,1,.84,0])]),wo(i,[-1,1,1]),t(i,[...So(i),$([2.5,5,1])]),t(i,[...So(i),$([2.4,8,1])]);for(let o=0;o<2;o++)t(i,[$([so(-8,8),0,so(-3,0)],S([0,0,0,1],0,so(-180,180),0)),...Mo(i)]);t(i,[$([-4,0,-1],S([0,0,0,1],0,145,0),[.6,.6,.6]),...Ro(i)]),t(i,[$([20,-12,-5],S([0,0,0,1],0,90,0),[30,30,30]),Q(i._i,i.zi,[.5,.5,.5,1])]),t(i,[$([55,-10,-5.5],S([0,0,0,1],0,90,0),[20,20,20]),Q(i._i,i.zi,[.5,.5,.5,1])]),t(i,[$([4.4,0,-2],S([0,0,0,1],0,12,0),[1,1,1]),o([$(),...xo(i)],[$([.5,0,1.5]),...Ao(i)])]),t(i,[$([-4,-.3,.5]),...Ao(i)]),t(i,[$([2.5,.2,3.5]),...Ao(i)]),t(i,[...eo(),$()]),t(i,[...ro(i),$()]),t(i,[...Ht(0,[145/255,85/255,61/255,1]),$([0,0,0],S([0,0,0,1],-30,0,0)),$t(Ut(i.o,"camera anchor"),.05)])}]}();
